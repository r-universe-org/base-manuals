<!DOCTYPE html>
<html>
  <head>
    <title>Package 'grid' reference manual</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

    <!-- styling for math and syntax -->
    <link rel="stylesheet" type="text/css" href="https://r-universe.dev/static/katex.min.css">
    <link rel="stylesheet" type="text/css" href="https://r-universe.dev/static/R.css">
    <link rel="stylesheet" type="text/css" href="https://r-universe.dev/static/prism.css">

    <!-- for (future) customizations -->
    <script src="https://r-universe.dev/static/manual.js"></script>
    <link rel="stylesheet" type="text/css" href="https://r-universe.dev/static/manual.css?nocache=1">

  </head>

  <body class="macintosh">
    <h1 class="manual-title">Package 'grid'</h1>
    <table class="description-table">
      <tr>
<th>Title:</th>
<td class="description-title">The Grid Graphics Package</td>
</tr>
      <tr>
<th>Description:</th>
<td class="description-description">A rewrite of the graphics layout capabilities, plus some
  support for interaction.</td>
</tr>
      <tr>
<th>Authors:</th>
<td class="description-author">Paul Murrell &lt;paul@stat.auckland.ac.nz&gt;</td>
</tr>
      <tr>
<th>Maintainer:</th>
<td class="description-maintainer">R Core Team &lt;do-use-Contact-address@r-project.org&gt;</td>
</tr>
      <tr>
<th>License:</th>
<td class="description-license">Part of R 4.2.2</td>
</tr>
      <tr>
<th>Version:</th>
<td class="description-version">4.2.2</td>
</tr>
      <tr>
<th>Built:</th>
<td class="description-date">2022-10-31 22:33:00 UTC</td>
</tr>
      <tr>
<th>Source:</th>
<td class="description-source">base</td>
</tr>
    </table>

    <a href="#help-index" style="color:black;"><h2 id="help-index">Help Index</h2></a>
    <ul id="help-index-list">
<li class="help-index-item"><a href="#absolute.size"> Absolute Size of a Grob </a></li>
<li class="help-index-item"><a href="#arrow"> Describe arrows to add to a line. </a></li>
<li class="help-index-item"><a href="#as.mask"> Define a Soft Mask </a></li>
<li class="help-index-item"><a href="#calcStringMetric"> Calculate Metric Information for Text </a></li>
<li class="help-index-item"><a href="#dataViewport"> Create a Viewport with Scales based on Data </a></li>
<li class="help-index-item"><a href="#depth">
Determine the number of levels in an object.
</a></li>
<li class="help-index-item"><a href="#deviceLoc"> Convert Viewport Location to Device Location </a></li>
<li class="help-index-item"><a href="#drawDetails"> Customising grid Drawing </a></li>
<li class="help-index-item"><a href="#editDetails"> Customising grid Editing </a></li>
<li class="help-index-item"><a href="#editViewport"> Modify a Viewport </a></li>
<li class="help-index-item"><a href="#explode">
Explode a path into its components.
</a></li>
<li class="help-index-item"><a href="#gEdit"> Create and Apply Edit Objects </a></li>
<li class="help-index-item"><a href="#getNames"> List the names of grobs on the display list </a></li>
<li class="help-index-item"><a href="#gpar">Handling Grid Graphical Parameters</a></li>
<li class="help-index-item"><a href="#gPath"> Concatenate Grob Names </a></li>
<li class="help-index-item"><a href="#Grid">Grid Graphics</a></li>
<li class="help-index-item"><a href="#viewport">Create a Grid Viewport</a></li>
<li class="help-index-item"><a href="#grid-defunct">Defunct Functions in Package grid</a></li>
<li class="help-index-item"><a href="#grid-internal">Internal Grid Functions</a></li>
<li class="help-index-item"><a href="#grid-package">
The Grid Graphics Package
</a></li>
<li class="help-index-item"><a href="#grid.add">Add a Grid Graphical Object</a></li>
<li class="help-index-item"><a href="#grid.bezier"> Draw a Bezier Curve </a></li>
<li class="help-index-item"><a href="#grid.cap">
Capture a raster image
</a></li>
<li class="help-index-item"><a href="#grid.circle"> Draw a Circle </a></li>
<li class="help-index-item"><a href="#grid.clip">Set the Clipping Region</a></li>
<li class="help-index-item"><a href="#grid.convert"> Convert Between Different grid Coordinate Systems </a></li>
<li class="help-index-item"><a href="#grid.copy">Make a Copy of a Grid Graphical Object</a></li>
<li class="help-index-item"><a href="#grid.curve"> Draw a Curve Between Locations </a></li>
<li class="help-index-item"><a href="#grid.delay"> Encapsulate calculations and generating a grob </a></li>
<li class="help-index-item"><a href="#grid.display.list">Control the Grid Display List</a></li>
<li class="help-index-item"><a href="#grid.DLapply"> Modify the Grid Display List </a></li>
<li class="help-index-item"><a href="#grid.draw">Draw a grid grob</a></li>
<li class="help-index-item"><a href="#grid.edit">Edit the Description of a Grid Graphical Object</a></li>
<li class="help-index-item"><a href="#grid.force"> Force a grob into its components </a></li>
<li class="help-index-item"><a href="#grid.frame"> Create a Frame for Packing Objects </a></li>
<li class="help-index-item"><a href="#grid.function">Draw a curve representing a function</a></li>
<li class="help-index-item"><a href="#grid.get">Get a Grid Graphical Object</a></li>
<li class="help-index-item"><a href="#grid.grab"> Grab the current grid output </a></li>
<li class="help-index-item"><a href="#grid.grep">
Search for Grobs and/or Viewports
</a></li>
<li class="help-index-item"><a href="#grid.grill">Draw a Grill</a></li>
<li class="help-index-item"><a href="#grid.grob">Create Grid Graphical Objects, aka "Grob"s</a></li>
<li class="help-index-item"><a href="#grid.group"> Draw a Group </a></li>
<li class="help-index-item"><a href="#grid.layout">Create a Grid Layout</a></li>
<li class="help-index-item"><a href="#grid.lines">Draw Lines in a Grid Viewport</a></li>
<li class="help-index-item"><a href="#grid.locator"> Capture a Mouse Click </a></li>
<li class="help-index-item"><a href="#grid.ls"> List the names of grobs or viewports </a></li>
<li class="help-index-item"><a href="#grid.move.to"> Move or Draw to a Specified Position </a></li>
<li class="help-index-item"><a href="#grid.newpage">Move to a New Page on a Grid Device</a></li>
<li class="help-index-item"><a href="#grid.null"> Null Graphical Object </a></li>
<li class="help-index-item"><a href="#grid.pack"> Pack an Object within a Frame </a></li>
<li class="help-index-item"><a href="#grid.path"> Draw a Path </a></li>
<li class="help-index-item"><a href="#grid.place"> Place an Object within a Frame </a></li>
<li class="help-index-item"><a href="#grid.plot.and.legend"> A Simple Plot and Legend Demo </a></li>
<li class="help-index-item"><a href="#grid.points">Draw Data Symbols</a></li>
<li class="help-index-item"><a href="#grid.polygon"> Draw a Polygon </a></li>
<li class="help-index-item"><a href="#grid.pretty"> Generate a Sensible ("Pretty") Set of Breakpoints </a></li>
<li class="help-index-item"><a href="#grid.raster">
Render a raster object
</a></li>
<li class="help-index-item"><a href="#grid.record"> Encapsulate calculations and drawing </a></li>
<li class="help-index-item"><a href="#grid.rect">Draw rectangles </a></li>
<li class="help-index-item"><a href="#grid.refresh"> Refresh the current grid scene </a></li>
<li class="help-index-item"><a href="#grid.remove">Remove a Grid Graphical Object</a></li>
<li class="help-index-item"><a href="#grid.reorder"> Reorder the children of a gTree </a></li>
<li class="help-index-item"><a href="#grid.segments"> Draw Line Segments </a></li>
<li class="help-index-item"><a href="#grid.set">Set a Grid Graphical Object</a></li>
<li class="help-index-item"><a href="#grid.show.layout">Draw a Diagram of a Grid Layout</a></li>
<li class="help-index-item"><a href="#grid.show.viewport">Draw a Diagram of a Grid Viewport</a></li>
<li class="help-index-item"><a href="#grid.stroke"> Stroke or Fill a Path </a></li>
<li class="help-index-item"><a href="#grid.text">Draw Text</a></li>
<li class="help-index-item"><a href="#grid.xaxis">Draw an X-Axis</a></li>
<li class="help-index-item"><a href="#grid.xspline"> Draw an Xspline </a></li>
<li class="help-index-item"><a href="#grid.yaxis">Draw a Y-Axis</a></li>
<li class="help-index-item"><a href="#gridCoords">Create Sets of Coordinates for Grid Grobs</a></li>
<li class="help-index-item"><a href="#grobCoords">Calculate Points on the Perimeter of a Grob</a></li>
<li class="help-index-item"><a href="#grobName">Generate a Name for a Grob</a></li>
<li class="help-index-item"><a href="#grobWidth">Create a Unit Describing the Width of a Grob</a></li>
<li class="help-index-item"><a href="#grobX">Create a Unit Describing a Grob Boundary Location</a></li>
<li class="help-index-item"><a href="#legendGrob">Constructing a Legend Grob</a></li>
<li class="help-index-item"><a href="#makeContent"> Customised grid Grobs </a></li>
<li class="help-index-item"><a href="#patterns"> Define Gradient and Pattern Fills </a></li>
<li class="help-index-item"><a href="#plotViewport"> Create a Viewport with a Standard Plot Layout </a></li>
<li class="help-index-item"><a href="#current.viewport">Get the Current Grid Viewport (Tree)</a></li>
<li class="help-index-item"><a href="#resolveRasterSize">
Utility function to resolve the size of a raster grob
</a></li>
<li class="help-index-item"><a href="#grid.roundrect">Draw a rectangle with rounded corners</a></li>
<li class="help-index-item"><a href="#showGrob">
Label grid grobs.
</a></li>
<li class="help-index-item"><a href="#showViewport">
Display grid viewports.
</a></li>
<li class="help-index-item"><a href="#stringWidth">Create a Unit Describing the Width and Height of a String or Math
Expression</a></li>
<li class="help-index-item"><a href="#unit">Function to Create a Unit Object</a></li>
<li class="help-index-item"><a href="#unit.c">Combine Unit Objects</a></li>
<li class="help-index-item"><a href="#unit.length">Length of a Unit Object</a></li>
<li class="help-index-item"><a href="#unit.pmin"> Parallel Unit Minima and Maxima </a></li>
<li class="help-index-item"><a href="#unit.rep"> Replicate Elements of Unit Objects </a></li>
<li class="help-index-item"><a href="#unitType">Return the Units of a Unit Object</a></li>
<li class="help-index-item"><a href="#valid.just">Validate a Justification</a></li>
<li class="help-index-item"><a href="#validDetails"> Customising grid grob Validation </a></li>
<li class="help-index-item"><a href="#viewportTransform"> Define a Group Transformation </a></li>
<li class="help-index-item"><a href="#vpPath"> Concatenate Viewport Names </a></li>
<li class="help-index-item"><a href="#widthDetails"> Width and Height of a grid grob </a></li>
<li class="help-index-item"><a href="#viewports">Maintaining and Navigating the Grid Viewport Tree</a></li>
<li class="help-index-item"><a href="#xDetails"> Boundary of a grid grob </a></li>
<li class="help-index-item"><a href="#xsplinePoints">
Return the points that would be used to draw an Xspline
(or a Bezier curve).
</a></li>
</ul>

    <hr>
  <div class="container manual-page" id="absolute.size">

<a href="#absolute.size" class="help-page-title"><h2> Absolute Size of a Grob </h2></a>

<h3>Description</h3>

<p>This function converts a unit object into absolute units.
Absolute units are unaffected, but non-absolute units are
converted into <code>"null"</code> units.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">absolute.size<span class="token punctuation">(</span>unit<span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>unit</code></td>
<td>
<p> An object of class <code>"unit"</code>. </p>
</td>
</tr></table>
<h3>Details</h3>

<p>Absolute units are things like <code>"inches"</code>, <code>"cm"</code>,
and <code>"lines"</code>.  Non-absolute units are <code>"npc"</code>
and <code>"native"</code>.
</p>
<p>This function is designed to be used in <code>widthDetails</code>
and <code>heightDetails</code> methods.
</p>


<h3>Value</h3>

<p>An object of class <code>"unit"</code>.
</p>


<h3>Author(s)</h3>

<p> Paul Murrell </p>


<h3>See Also</h3>

<p><code><a href="#widthDetails">widthDetails</a></code>
and <code><a href="#widthDetails">heightDetails</a></code> methods.
</p>

<hr>
</div>
<div class="container manual-page" id="arrow">

<a href="#arrow" class="help-page-title"><h2> Describe arrows to add to a line. </h2></a>

<h3>Description</h3>

<p>Produces a description of what arrows to add to a line.
The result can be passed to a function that draws a line,
e.g., <code>grid.lines</code>.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">arrow<span class="token punctuation">(</span>angle <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">,</span> length <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">0.25</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      ends <span class="token operator">=</span> <span class="token string">"last"</span><span class="token punctuation">,</span> type <span class="token operator">=</span> <span class="token string">"open"</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>angle</code></td>
<td>
<p>The angle of the arrow head in degrees (smaller numbers
produce narrower, pointier arrows).  Essentially describes
the width of the arrow head.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>length</code></td>
<td>
<p>A unit specifying the length of the arrow head (from tip
to base).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ends</code></td>
<td>
<p>One of <code>"last"</code>, <code>"first"</code>, or <code>"both"</code>,
indicating which ends of the line to draw arrow heads.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>One of <code>"open"</code> or <code>"closed"</code> indicating
whether the arrow head should be a closed triangle.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre class="language-r"><code class="language-r">arrow<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="as.mask">

<a href="#as.mask" class="help-page-title"><h2> Define a Soft Mask </h2></a>

<h3>Description</h3>

<p>Define either an alpha mask or a luminance mask,
based on a grob.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">as.mask<span class="token punctuation">(</span>x<span class="token punctuation">,</span> type<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token string">"alpha"</span><span class="token punctuation">,</span> <span class="token string">"luminance"</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A grob.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>The type of mask.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>A mask may be specified for a viewport either directly as
a grob or using this function.  In the former case, the result
is an alpha mask.  This function allows the user to define
a luminance mask instead.
</p>
<p>Not all graphics devices support masks and those that do
may only support one type of mask: for example
<code>xfig</code> and <code>pictex</code> do not support masks and
Cairo-based devices only support alpha masks.  
</p>


<h3>Value</h3>

<p>A <code>"GridMask"</code> object.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell</p>


<h3>See Also</h3>

<p><code><a href="#viewport">viewport</a></code>
</p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r"><span class="token comment">## NOTE: on devices without support for masks normal line segments </span><span class="token comment">##       will be drawn</span>
grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">## Alpha mask</span>
grid.segments<span class="token punctuation">(</span>y0<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> y1<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> lwd<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>mask<span class="token operator">=</span>circleGrob<span class="token punctuation">(</span>gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>fill<span class="token operator">=</span>rgb<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
grid.segments<span class="token punctuation">(</span>gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span> lwd<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">## Luminance mask</span>
grid.segments<span class="token punctuation">(</span>y0<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> y1<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> lwd<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>mask<span class="token operator">=</span>as.mask<span class="token punctuation">(</span>circleGrob<span class="token punctuation">(</span>gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>fill<span class="token operator">=</span><span class="token string">"grey50"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                                   <span class="token string">"luminance"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
grid.segments<span class="token punctuation">(</span>gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span> lwd<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="calcStringMetric">

<a href="#calcStringMetric" class="help-page-title"><h2> Calculate Metric Information for Text </h2></a>

<h3>Description</h3>

<p>This function returns the ascent, descent, and width metric
information for a character or expression vector.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">calcStringMetric<span class="token punctuation">(</span>text<span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>text</code></td>
<td>
<p> A character or expression vector. </p>
</td>
</tr></table>
<h3>Value</h3>

<p>A list with three numeric components named ascent, descent, and width.
All values are in inches.
</p>


<h3>WARNING </h3>

<p> The metric information from this function is based
on the font settings that are in effect when this function is called.
It will not necessarily correspond to the metric information of any
text that is drawn on the page.
</p>


<h3>Author(s)</h3>

<p> Paul Murrell </p>


<h3>See Also</h3>

 <p><code><a href="#stringWidth">stringAscent</a></code>, <code><a href="#stringWidth">stringDescent</a></code>,
<code><a href="#grobWidth">grobAscent</a></code>, and <code><a href="#grobWidth">grobDescent</a></code>.</p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r">grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
grid.segments<span class="token punctuation">(</span><span class="token number">.01</span><span class="token punctuation">,</span> <span class="token number">.5</span><span class="token punctuation">,</span> <span class="token number">.99</span><span class="token punctuation">,</span> <span class="token number">.5</span><span class="token punctuation">,</span> gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token string">"grey"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
metrics <span class="token operator">&lt;-</span> calcStringMetric<span class="token punctuation">(</span>letters<span class="token punctuation">)</span>
grid.rect<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">26</span><span class="token operator">/</span><span class="token number">27</span><span class="token punctuation">,</span>
          width<span class="token operator">=</span>unit<span class="token punctuation">(</span>metrics<span class="token operator">$</span>width<span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          height<span class="token operator">=</span>unit<span class="token punctuation">(</span>metrics<span class="token operator">$</span>ascent<span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          just<span class="token operator">=</span><span class="token string">"bottom"</span><span class="token punctuation">,</span>
          gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token string">"red"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
grid.rect<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">26</span><span class="token operator">/</span><span class="token number">27</span><span class="token punctuation">,</span>
          width<span class="token operator">=</span>unit<span class="token punctuation">(</span>metrics<span class="token operator">$</span>width<span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          height<span class="token operator">=</span>unit<span class="token punctuation">(</span>metrics<span class="token operator">$</span>descent<span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          just<span class="token operator">=</span><span class="token string">"top"</span><span class="token punctuation">,</span>
          gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token string">"red"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
grid.text<span class="token punctuation">(</span>letters<span class="token punctuation">,</span> x<span class="token operator">=</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">26</span><span class="token operator">/</span><span class="token number">27</span><span class="token punctuation">,</span> just<span class="token operator">=</span><span class="token string">"bottom"</span><span class="token punctuation">)</span>

test <span class="token operator">&lt;-</span> <span class="token keyword">function</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    grid.text<span class="token punctuation">(</span>x<span class="token punctuation">,</span> just<span class="token operator">=</span><span class="token string">"bottom"</span><span class="token punctuation">)</span>
    metric <span class="token operator">&lt;-</span> calcStringMetric<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>is.character<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        grid.rect<span class="token punctuation">(</span>width<span class="token operator">=</span>unit<span class="token punctuation">(</span>metric<span class="token operator">$</span>width<span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                  height<span class="token operator">=</span>unit<span class="token punctuation">(</span>metric<span class="token operator">$</span>ascent<span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                  just<span class="token operator">=</span><span class="token string">"bottom"</span><span class="token punctuation">,</span>
                  gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col<span class="token operator">=</span>rgb<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        grid.rect<span class="token punctuation">(</span>width<span class="token operator">=</span>unit<span class="token punctuation">(</span>metric<span class="token operator">$</span>width<span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                  height<span class="token operator">=</span>unit<span class="token punctuation">(</span>metric<span class="token operator">$</span>descent<span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                  just<span class="token operator">=</span><span class="token string">"top"</span><span class="token punctuation">,</span>
                  gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col<span class="token operator">=</span>rgb<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        grid.rect<span class="token punctuation">(</span>width<span class="token operator">=</span>unit<span class="token punctuation">(</span>metric<span class="token operator">$</span>width<span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                  y<span class="token operator">=</span>unit<span class="token punctuation">(</span><span class="token number">.5</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span> <span class="token operator">+</span> unit<span class="token punctuation">(</span>metric<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                  height<span class="token operator">=</span>unit<span class="token punctuation">(</span>metric<span class="token operator">$</span>ascent<span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                  just<span class="token operator">=</span><span class="token string">"bottom"</span><span class="token punctuation">,</span>
                  gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col<span class="token operator">=</span>rgb<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        grid.rect<span class="token punctuation">(</span>width<span class="token operator">=</span>unit<span class="token punctuation">(</span>metric<span class="token operator">$</span>width<span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                  height<span class="token operator">=</span>unit<span class="token punctuation">(</span>metric<span class="token operator">$</span>descent<span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                  just<span class="token operator">=</span><span class="token string">"bottom"</span><span class="token punctuation">,</span>
                  gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col<span class="token operator">=</span>rgb<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

tests <span class="token operator">&lt;-</span> list<span class="token punctuation">(</span><span class="token string">"t"</span><span class="token punctuation">,</span>
              <span class="token string">"test"</span><span class="token punctuation">,</span>
              <span class="token string">"testy"</span><span class="token punctuation">,</span>
              <span class="token string">"test\ntwo"</span><span class="token punctuation">,</span>
              expression<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span>
              expression<span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">,</span>
              expression<span class="token punctuation">(</span>x <span class="token operator">+</span> y<span class="token punctuation">)</span><span class="token punctuation">,</span>
              expression<span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">,</span>
              expression<span class="token punctuation">(</span>atop<span class="token punctuation">(</span>x <span class="token operator">+</span> y<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
nrowcol <span class="token operator">&lt;-</span> n2mfrow<span class="token punctuation">(</span>length<span class="token punctuation">(</span>tests<span class="token punctuation">)</span><span class="token punctuation">)</span>
pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>layout<span class="token operator">=</span>grid.layout<span class="token punctuation">(</span>nrowcol<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> nrowcol<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                      gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>cex<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span> lwd<span class="token operator">=</span><span class="token number">.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token keyword">in</span> <span class="token number">1</span><span class="token operator">:</span>length<span class="token punctuation">(</span>tests<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    col <span class="token operator">&lt;-</span> <span class="token punctuation">(</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token percent-operator operator">%%</span> nrowcol<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span>
    row <span class="token operator">&lt;-</span> <span class="token punctuation">(</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token percent-operator operator">%/%</span> nrowcol<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span>
    pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>layout.pos.row<span class="token operator">=</span>row<span class="token punctuation">,</span> layout.pos.col<span class="token operator">=</span>col<span class="token punctuation">)</span><span class="token punctuation">)</span>
    test<span class="token punctuation">(</span>tests<span class="token punctuation">[</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    popViewport<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="dataViewport">

<a href="#dataViewport" class="help-page-title"><h2> Create a Viewport with Scales based on Data </h2></a>

<h3>Description</h3>

<p>This is a convenience function for producing a viewport with
x- and/or y-scales based on numeric values passed to the function.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">dataViewport<span class="token punctuation">(</span>xData <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> yData <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> xscale <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>
             yscale <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> extension <span class="token operator">=</span> <span class="token number">0.05</span><span class="token punctuation">,</span> <span class="token ellipsis">...</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>xData</code></td>
<td>
<p> A numeric vector of data. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yData</code></td>
<td>
<p> A numeric vector of data. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xscale</code></td>
<td>
<p> A numeric vector (length 2). </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yscale</code></td>
<td>
<p> A numeric vector (length 2). </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>extension</code></td>
<td>
<p> A numeric.  If length greater than 1, then
first value is used to extend the xscale and second value
is used to extend the yscale.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p> All other arguments will be passed to a call to
the <code>viewport()</code> function. </p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If <code>xscale</code> is not specified then the values in <code>x</code> are
used to generate an x-scale based on the range of <code>x</code>, extended
by the proportion specified in <code>extension</code>.  Similarly for the
y-scale.
</p>


<h3>Value</h3>

<p>A grid viewport object.
</p>


<h3>Author(s)</h3>

<p> Paul Murrell </p>


<h3>See Also</h3>

<p><code><a href="#viewport">viewport</a></code> and
<code><a href="#plotViewport">plotViewport</a></code>.
</p>

<hr>
</div>
<div class="container manual-page" id="depth">

<a href="#depth" class="help-page-title"><h2>
Determine the number of levels in an object.
</h2></a>

<h3>Description</h3>

<p>Determine the number of levels in a viewport stack or tree,
in a viewport path, or in a grob path.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">depth<span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token ellipsis">...</span><span class="token punctuation">)</span>
<span class="token comment">## S3 method for class 'viewport'</span>
depth<span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token ellipsis">...</span><span class="token punctuation">)</span>
<span class="token comment">## S3 method for class 'path'</span>
depth<span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token ellipsis">...</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>Typically a viewport or viewport stack or viewport tree or viewport
list, or a viewport path, or a grob path.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p> Arguments used by other methods. </p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Depths of paths are pretty straightforward because they contain
no branchings.  The depth of a viewport stack is the sum of the depths
of the components of the stack.  The depth of a viewport tree is
the depth of the parent plus the depth of the children.
The depth of a viewport list is the depth of the last component
of the list.
</p>


<h3>Value</h3>

<p>An integer value.
</p>


<h3>See Also</h3>

<p><code><a href="#viewport">viewport</a></code>, <code><a href="#vpPath">vpPath</a></code>, <code><a href="#gPath">gPath</a></code>.
</p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r">vp <span class="token operator">&lt;-</span> viewport<span class="token punctuation">(</span><span class="token punctuation">)</span>
depth<span class="token punctuation">(</span>vp<span class="token punctuation">)</span>
depth<span class="token punctuation">(</span>vpStack<span class="token punctuation">(</span>vp<span class="token punctuation">,</span> vp<span class="token punctuation">)</span><span class="token punctuation">)</span>
depth<span class="token punctuation">(</span>vpList<span class="token punctuation">(</span>vpStack<span class="token punctuation">(</span>vp<span class="token punctuation">,</span> vp<span class="token punctuation">)</span><span class="token punctuation">,</span> vp<span class="token punctuation">)</span><span class="token punctuation">)</span>
depth<span class="token punctuation">(</span>vpPath<span class="token punctuation">(</span><span class="token string">"vp"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
depth<span class="token punctuation">(</span>vpPath<span class="token punctuation">(</span><span class="token string">"vp1"</span><span class="token punctuation">,</span> <span class="token string">"vp2"</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="deviceLoc">

<a href="#deviceLoc" class="help-page-title"><h2> Convert Viewport Location to Device Location </h2></a>

<h3>Description</h3>

<p>These functions take a pair of unit objects and convert
them to a pair of device locations (or dimensions) in inches
(or native device coordinates).
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">deviceLoc<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> valueOnly <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> device <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">)</span>
deviceDim<span class="token punctuation">(</span>w<span class="token punctuation">,</span> h<span class="token punctuation">,</span> valueOnly <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> device <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x, y, w, h</code></td>
<td>
<p> A unit object. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>valueOnly</code></td>
<td>
<p> A logical indicating.  If <code>TRUE</code> then
the function does not return a unit object, but rather only the
converted numeric values. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>device</code></td>
<td>
<p> A logical indicating whether the returned values should
be in inches or native device units. </p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>These functions differ from the functions like <code>convertX()</code>
because they convert from the coordinate systems within a viewport
to inches on the device (i.e., from one viewport to another) and
because they only deal with pairs of values (locations or dimensions).
</p>
<p>The functions like <code>convertX()</code> convert between different units within
the same viewport and convert along a single dimension.
</p>


<h3>Value</h3>

<p>A list with two components, both of which are unit object in inches
(unless <code>valueOnly</code> is <code>TRUE</code> in which case
both components are numeric).
</p>


<h3>Warning</h3>

<p>The conversion is only valid for the current device size.
If the device is resized then at least some conversions will
become invalid.
</p>
<p>Furthermore, the returned value only makes sense with respect to
the entire device (i.e., within the context of the root viewport).
</p>


<h3>Author(s)</h3>

<p> Paul Murrell </p>


<h3>See Also</h3>

 <p><code><a href="#unit">unit</a></code> </p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r"><span class="token comment">## A tautology</span>
grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
deviceLoc<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">## Something less obvious</span>
grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>width<span class="token operator">=</span><span class="token number">.5</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
grid.rect<span class="token punctuation">(</span><span class="token punctuation">)</span>
x <span class="token operator">&lt;-</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"in"</span><span class="token punctuation">)</span>
y <span class="token operator">&lt;-</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"in"</span><span class="token punctuation">)</span>
grid.circle<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> r<span class="token operator">=</span>unit<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"mm"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
loc <span class="token operator">&lt;-</span> deviceLoc<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span>
loc
upViewport<span class="token punctuation">(</span><span class="token punctuation">)</span>
grid.circle<span class="token punctuation">(</span>loc<span class="token operator">$</span>x<span class="token punctuation">,</span> loc<span class="token operator">$</span>y<span class="token punctuation">,</span> r<span class="token operator">=</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"mm"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>fill<span class="token operator">=</span><span class="token string">"black"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">## Something even less obvious</span>
grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>width<span class="token operator">=</span><span class="token number">.5</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">.5</span><span class="token punctuation">,</span> angle<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
grid.rect<span class="token punctuation">(</span><span class="token punctuation">)</span>
x <span class="token operator">&lt;-</span> unit<span class="token punctuation">(</span><span class="token number">.2</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span>
y <span class="token operator">&lt;-</span> unit<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"in"</span><span class="token punctuation">)</span>
grid.circle<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> r<span class="token operator">=</span>unit<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"mm"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
loc <span class="token operator">&lt;-</span> deviceLoc<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span>
loc
upViewport<span class="token punctuation">(</span><span class="token punctuation">)</span>
grid.circle<span class="token punctuation">(</span>loc<span class="token operator">$</span>x<span class="token punctuation">,</span> loc<span class="token operator">$</span>y<span class="token punctuation">,</span> r<span class="token operator">=</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"mm"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>fill<span class="token operator">=</span><span class="token string">"black"</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="drawDetails">

<a href="#drawDetails" class="help-page-title"><h2> Customising grid Drawing </h2></a>

<h3>Description</h3>

<p>These generic hook functions are called whenever a grid grob is drawn.
They provide an opportunity for customising the drawing of a
new class derived from grob (or gTree).
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">drawDetails<span class="token punctuation">(</span>x<span class="token punctuation">,</span> recording<span class="token punctuation">)</span>
preDrawDetails<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
postDrawDetails<span class="token punctuation">(</span>x<span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p> A grid grob. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>recording</code></td>
<td>
<p> A logical value indicating whether a grob
is being added to the display list or redrawn from the display list. </p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><strong>NOTE:</strong> these functions have been largely superceded by the
<code><a href="#makeContent">makeContent</a></code> and <code><a href="#makeContent">makeContext</a></code> functions,
though they are still run and may still be useful in some contexts.
</p>
<p>These functions are called by the <code>grid.draw</code> methods for grobs
and gTrees.
</p>
<p><code>preDrawDetails</code> is called first during the drawing of a grob.
This is where any additional viewports should be pushed.  Note that
the default behaviour for grobs is to push any viewports in the
<code>vp</code> slot, and for gTrees is to also push and up any viewports in the
<code>childrenvp</code> slot so there is typically nothing to do here.
</p>
<p><code>drawDetails</code> is called next and is where any additional
calculations and graphical output should occur.
Note that the default behaviour
for gTrees is to draw all grobs in the <code>children</code> slot
so there is typically nothing to do here.
</p>
<p><code>postDrawDetails</code> is called last and should reverse anything
done in <code>preDrawDetails</code> (i.e., pop or up any viewports that were
pushed).  Note that the
default behaviour for grobs is to pop any viewports that were pushed
so there is typically nothing to do here.
</p>
<p>Note that <code>preDrawDetails</code> and <code>postDrawDetails</code> are
also called in the calculation of <code>"grobwidth"</code> and
<code>"grobheight"</code> units.
</p>


<h3>Value</h3>

<p>None of these functions are expected to return a value.
</p>


<h3>Author(s)</h3>

<p> Paul Murrell </p>


<h3>References</h3>

<p> "Changes to grid for R 3.0.0",
Paul Murrell, <em>The R Journal</em> (2013) 5:2, pages 148-160. </p>


<h3>See Also</h3>

 <p><code><a href="#grid.draw">grid.draw</a></code> and <code><a href="#makeContent">makeContent</a></code> </p>

<hr>
</div>
<div class="container manual-page" id="editDetails">

<a href="#editDetails" class="help-page-title"><h2> Customising grid Editing </h2></a>

<h3>Description</h3>

<p>This generic hook function is called whenever a grid grob is edited
via <code>grid.edit</code> or <code>editGrob</code>.
This provides an opportunity for customising the editing of a
new class derived from grob (or gTree).
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">editDetails<span class="token punctuation">(</span>x<span class="token punctuation">,</span> specs<span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p> A grid grob. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>specs</code></td>
<td>
<p> A list of named elements.  The names indicate the
grob slots to modify and the values are the new values for the slots. </p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function is called by <code>grid.edit</code> and <code>editGrob</code>.
A method should be written for classes derived from grob or gTree
if a change in a slot has an effect on other slots in the grob or
children of a gTree (e.g., see <code>grid:::editDetails.xaxis</code>).
</p>
<p>Note that the slot already has the new value.
</p>


<h3>Value</h3>

<p>The function MUST return the modified grob.
</p>


<h3>Author(s)</h3>

<p> Paul Murrell </p>


<h3>See Also</h3>

 <p><code><a href="#grid.edit">grid.edit</a></code> </p>

<hr>
</div>
<div class="container manual-page" id="editViewport">

<a href="#editViewport" class="help-page-title"><h2> Modify a Viewport </h2></a>

<h3>Description</h3>

<p>This is a convenience function for producing a new viewport
from a copy of an existing viewport (by default the current
viewport), with specified modifications.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">editViewport<span class="token punctuation">(</span>vp<span class="token operator">=</span>current.viewport<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token ellipsis">...</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>vp</code></td>
<td>
<p> A viewport object. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p> Modification of the viewport
(should all be valid arguments to
the <code>viewport()</code> function. </p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A grid viewport object.
</p>


<h3>Author(s)</h3>

<p> Paul Murrell </p>


<h3>See Also</h3>

<p><code><a href="#viewport">viewport</a></code>.
</p>

<hr>
</div>
<div class="container manual-page" id="explode">

<a href="#explode" class="help-page-title"><h2>
Explode a path into its components.
</h2></a>

<h3>Description</h3>

<p>Explode a viewport path or grob path into its components.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">explode<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
<span class="token comment">## S3 method for class 'character'</span>
explode<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
<span class="token comment">## S3 method for class 'path'</span>
explode<span class="token punctuation">(</span>x<span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>Typically a viewport path or a grob path, but a character vector
containing zero or more path separators may also be given.
</p>
</td>
</tr></table>
<h3>Value</h3>

<p>A character vector.
</p>


<h3>See Also</h3>

<p><code><a href="#vpPath">vpPath</a></code>, <code><a href="#gPath">gPath</a></code>.
</p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r">explode<span class="token punctuation">(</span><span class="token string">"vp1::vp2"</span><span class="token punctuation">)</span>
explode<span class="token punctuation">(</span>vpPath<span class="token punctuation">(</span><span class="token string">"vp1"</span><span class="token punctuation">,</span> <span class="token string">"vp2"</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="gEdit">

<a href="#gEdit" class="help-page-title"><h2> Create and Apply Edit Objects </h2></a>

<h3>Description</h3>

<p>The functions <code>gEdit</code> and <code>gEditList</code> create
objects representing an edit operation (essentially a list
of arguments to <code>editGrob</code>).
</p>
<p>The functions <code>applyEdit</code> and <code>applyEdits</code> apply
one or more edit operations to a graphical object.
</p>
<p>These functions are most useful for developers creating new
graphical functions and objects.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">gEdit<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">)</span>
gEditList<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">)</span>
applyEdit<span class="token punctuation">(</span>x<span class="token punctuation">,</span> edit<span class="token punctuation">)</span>
applyEdits<span class="token punctuation">(</span>x<span class="token punctuation">,</span> edits<span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p> one or more arguments to the <code>editGrob</code> function
(for <code>gEdit</code>) or one or more <code>"gEdit"</code> objects
(for <code>gEditList</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p> a grob (grid graphical object).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>edit</code></td>
<td>
<p> a <code>"gEdit"</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>edits</code></td>
<td>
<p> either a <code>"gEdit"</code> object or a <code>"gEditList"</code>
object.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>gEdit</code> returns an object of class <code>"gEdit"</code>.
</p>
<p><code>gEditList</code> returns an object of class <code>"gEditList"</code>.
</p>
<p><code>applyEdit</code> and <code>applyEditList</code> return the modified grob.
</p>


<h3>Author(s)</h3>

<p> Paul Murrell </p>


<h3>See Also</h3>

<p><code><a href="#grid.grob">grob</a></code>
<code><a href="#grid.edit">editGrob</a></code>
</p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r">grid.rect<span class="token punctuation">(</span>gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token string">"red"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># same thing, but more verbose</span>
grid.draw<span class="token punctuation">(</span>applyEdit<span class="token punctuation">(</span>rectGrob<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> gEdit<span class="token punctuation">(</span>gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token string">"red"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="getNames">

<a href="#getNames" class="help-page-title"><h2> List the names of grobs on the display list </h2></a>

<h3>Description</h3>

<p>Returns a character vector containing the names of all
top-level grobs on the display list.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">getNames<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>


<h3>Value</h3>

<p>A character vector.
</p>


<h3>Author(s)</h3>

<p> Paul Murrell </p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r">grid.grill<span class="token punctuation">(</span><span class="token punctuation">)</span>
getNames<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="gpar">

<a href="#gpar" class="help-page-title"><h2>Handling Grid Graphical Parameters</h2></a>

<h3>Description</h3>

<p><code>gpar()</code> should be used to create a set of graphical
parameter settings.  It returns an object of class <code>"gpar"</code>.  This is
basically a list of name-value pairs.
</p>
<p><code>get.gpar()</code> can be used to query the current
graphical parameter settings.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">gpar<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">)</span>
get.gpar<span class="token punctuation">(</span>names <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p> Any number of named arguments. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>names</code></td>
<td>
<p>A character vector of valid graphical parameter names.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>All grid viewports and (predefined) graphical objects have a slot
called <code>gp</code>, which contains a <code>"gpar"</code> object.  When
a viewport is pushed onto the viewport stack and when a graphical object
is drawn, the settings in the <code>"gpar"</code> object are enforced.
In this way, the graphical output is modified by the <code>gp</code>
settings until the graphical object has finished drawing, or until the
viewport is popped off the viewport stack, or until some other
viewport or graphical object is pushed or begins drawing.
</p>
<p>The default parameter settings are defined by the ROOT viewport, which
takes its settings from the graphics device.  These defaults may
differ between devices (e.g., the default <code>fill</code> setting is
different for a PNG device compared to a PDF device).
</p>
<p>Valid parameter names are:
</p>

<table>
<tr>
<td style="text-align: left;">
    col </td>
<td style="text-align: left;"> Colour for lines and borders. </td>
</tr>
<tr>
<td style="text-align: left;">
    fill </td>
<td style="text-align: left;"> Colour for filling rectangles, polygons, ... </td>
</tr>
<tr>
<td style="text-align: left;">
    alpha </td>
<td style="text-align: left;"> Alpha channel for transparency </td>
</tr>
<tr>
<td style="text-align: left;">
    lty </td>
<td style="text-align: left;"> Line type </td>
</tr>
<tr>
<td style="text-align: left;">
    lwd </td>
<td style="text-align: left;"> Line width </td>
</tr>
<tr>
<td style="text-align: left;">
    lex </td>
<td style="text-align: left;"> Multiplier applied to line width </td>
</tr>
<tr>
<td style="text-align: left;">
    lineend </td>
<td style="text-align: left;"> Line end style (round, butt, square) </td>
</tr>
<tr>
<td style="text-align: left;">
    linejoin </td>
<td style="text-align: left;"> Line join style (round, mitre, bevel) </td>
</tr>
<tr>
<td style="text-align: left;">
    linemitre </td>
<td style="text-align: left;"> Line mitre limit (number greater than 1) </td>
</tr>
<tr>
<td style="text-align: left;">
    fontsize </td>
<td style="text-align: left;"> The size of text (in points) </td>
</tr>
<tr>
<td style="text-align: left;">
    cex </td>
<td style="text-align: left;"> Multiplier applied to fontsize </td>
</tr>
<tr>
<td style="text-align: left;">
    fontfamily </td>
<td style="text-align: left;"> The font family </td>
</tr>
<tr>
<td style="text-align: left;">
    fontface </td>
<td style="text-align: left;"> The font face (bold, italic, ...) </td>
</tr>
<tr>
<td style="text-align: left;">
    lineheight </td>
<td style="text-align: left;"> The height of a line as a multiple of the size of text </td>
</tr>
<tr>
<td style="text-align: left;">
    font </td>
<td style="text-align: left;"> Font face (alias for fontface; for backward compatibility) </td>
</tr>
<tr>
<td style="text-align: left;">
  </td>
</tr>
</table>
<p>For more details of many of these, see the help for the corresponding
graphical parameter <code><a href="graphics.html#par">par</a></code> in base graphics.  (This may
have a slightly different name, e.g. <code>lend</code>, <code>ljoin</code>,
<code>lmitre</code>, <code>family</code>.)
</p>
<p>Colours can be specified in one of the forms returned by
<code><a href="grDevices.html#rgb">rgb</a></code>, as a name (see <code><a href="grDevices.html#colors">colors</a></code>) or as a
non-negative integer index into the current <a href="grDevices.html#palette">palette</a> (with zero
being taken as transparent).  (Negative integer values are now an
error.)
</p>
<p>The <code>alpha</code> setting is combined with the alpha channel for
individual colours by multiplying (with both alpha settings
normalised to the range 0 to 1).
</p>
<p>The <code>fill</code> setting can also be a linear gradient or a radial
gradient or a pattern (see <a href="#patterns">patterns</a>).
</p>
<p>The size of text is <code>fontsize</code>*<code>cex</code>.  The size of a line
is <code>fontsize</code>*<code>cex</code>*<code>lineheight</code>.
</p>
<p>The <code>cex</code> setting is cumulative;  if a viewport is pushed
with a <code>cex</code> of 0.5 then another viewport is pushed with a
<code>cex</code> of 0.5, the effective <code>cex</code> is 0.25.
</p>
<p>The <code>alpha</code> and <code>lex</code> settings are also cumulative.
</p>
<p>Changes to the <code>fontfamily</code> may be ignored by some devices,
but is supported by PostScript, PDF, X11, Windows, and Quartz.  The
<code>fontfamily</code> may be used to specify one
of the Hershey Font families (e.g., <code>HersheySerif</code>)
and this specification will be honoured
on all devices.
</p>
<p>The specification of <code>fontface</code> can be an integer or a string.
If an integer, then it
follows the R base graphics
standard:  1 = plain, 2 = bold, 3 = italic, 4 = bold italic.
If a string, then valid values are: <code>"plain"</code>,
<code>"bold"</code>, <code>"italic"</code>, <code>"oblique"</code>, and
<code>"bold.italic"</code>.
For the special case of the HersheySerif font family,
<code>"cyrillic"</code>, <code>"cyrillic.oblique"</code>, and <code>"EUC"</code>
are also available.
</p>
<p>All parameter values can be vectors of multiple values.  (This will
not always make sense  for example, viewports will only take
notice of the first parameter value.)
</p>
<p><code>get.gpar()</code> returns all current graphical parameter settings.
</p>


<h3>Value</h3>

<p>An object of class <code>"gpar"</code>.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell</p>


<h3>See Also</h3>

<p><code><a href="grDevices.html#Hershey">Hershey</a></code>.
</p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r">gp <span class="token operator">&lt;-</span> get.gpar<span class="token punctuation">(</span><span class="token punctuation">)</span>
utils<span class="token operator">::</span>str<span class="token punctuation">(</span>gp<span class="token punctuation">)</span>
<span class="token comment">## These *do* nothing but produce a "gpar" object:</span>
gpar<span class="token punctuation">(</span>col <span class="token operator">=</span> <span class="token string">"red"</span><span class="token punctuation">)</span>
gpar<span class="token punctuation">(</span>col <span class="token operator">=</span> <span class="token string">"blue"</span><span class="token punctuation">,</span> lty <span class="token operator">=</span> <span class="token string">"solid"</span><span class="token punctuation">,</span> lwd <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span> fontsize <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">)</span>
get.gpar<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token string">"col"</span><span class="token punctuation">,</span> <span class="token string">"lty"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
vp <span class="token operator">&lt;-</span> viewport<span class="token punctuation">(</span>width <span class="token operator">=</span> <span class="token number">.8</span><span class="token punctuation">,</span> height <span class="token operator">=</span> <span class="token number">.8</span><span class="token punctuation">,</span> gp <span class="token operator">=</span> gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token string">"blue"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
grid.draw<span class="token punctuation">(</span>gTree<span class="token punctuation">(</span>children<span class="token operator">=</span>gList<span class="token punctuation">(</span>rectGrob<span class="token punctuation">(</span>gp <span class="token operator">=</span> gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token string">"red"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                     textGrob<span class="token punctuation">(</span>paste<span class="token punctuation">(</span><span class="token string">"The rect is its own colour (red)"</span><span class="token punctuation">,</span>
                                    <span class="token string">"but this text is the colour"</span><span class="token punctuation">,</span>
                                    <span class="token string">"set by the gTree (green)"</span><span class="token punctuation">,</span>
                                    sep <span class="token operator">=</span> <span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      gp <span class="token operator">=</span> gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token string">"green"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> vp <span class="token operator">=</span> vp<span class="token punctuation">)</span><span class="token punctuation">)</span>
grid.text<span class="token punctuation">(</span><span class="token string">"This text is the colour set by the viewport (blue)"</span><span class="token punctuation">,</span>
          y <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> just <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token string">"center"</span><span class="token punctuation">,</span> <span class="token string">"bottom"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          gp <span class="token operator">=</span> gpar<span class="token punctuation">(</span>fontsize<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span> vp <span class="token operator">=</span> vp<span class="token punctuation">)</span>
grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">## example with multiple values for a parameter</span>
pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
grid.points<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">10</span><span class="token operator">/</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">:</span><span class="token number">10</span><span class="token operator">/</span><span class="token number">11</span><span class="token punctuation">,</span> gp <span class="token operator">=</span> gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
popViewport<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="gPath">

<a href="#gPath" class="help-page-title"><h2> Concatenate Grob Names </h2></a>

<h3>Description</h3>

<p>This function can be used to generate a grob path for use
in <code>grid.edit</code> and friends.
</p>
<p>A grob path is a list of nested grob names.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">gPath<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p> Character values which are grob names. </p>
</td>
</tr></table>
<h3>Details</h3>

<p>Grob names must only be unique amongst grobs which
share the same parent in a gTree.
</p>
<p>This function can be used to generate a specification for
a grob that includes the grob's parent's name
(and the name of its parent and so on).
</p>
<p>For interactive use, it is possible to directly specify
a path, but it is strongly recommended that this function
is used otherwise in case the path separator is changed
in future versions of grid.
</p>


<h3>Value</h3>

<p>A <code> gPath </code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#grid.grob">grob</a></code>,
<code><a href="#grid.edit">editGrob</a></code>,
<code><a href="#grid.add">addGrob</a></code>,
<code><a href="#grid.remove">removeGrob</a></code>,
<code><a href="#grid.get">getGrob</a></code>,
<code><a href="#grid.set">setGrob</a></code>
</p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r">gPath<span class="token punctuation">(</span><span class="token string">"g1"</span><span class="token punctuation">,</span> <span class="token string">"g2"</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="Grid">

<a href="#Grid" class="help-page-title"><h2>Grid Graphics</h2></a>

<h3>Description</h3>

<p>General information about the grid graphics package.
</p>


<h3>Details</h3>

<p>Grid graphics provides an alternative to the standard R graphics.
The user is able to define arbitrary rectangular regions (called
<em>viewports</em>) on the graphics device and define a number of
coordinate systems for each region.  Drawing can be specified to occur
in any viewport using any of the available coordinate systems.
</p>
<p>Grid graphics and standard R graphics do not mix!
</p>
<p>Type <code>library(help = grid)</code> to see a list of (public)
Grid graphics functions.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell</p>


<h3>See Also</h3>

<p><code><a href="#viewport">viewport</a></code>,
<code><a href="#grid.layout">grid.layout</a></code>, and
<code><a href="#unit">unit</a></code>.
</p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r"><span class="token comment">## Diagram of a simple layout</span>
grid.show.layout<span class="token punctuation">(</span>grid.layout<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span>
                     heights<span class="token operator">=</span>unit<span class="token punctuation">(</span>rep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                                  c<span class="token punctuation">(</span><span class="token string">"lines"</span><span class="token punctuation">,</span> <span class="token string">"lines"</span><span class="token punctuation">,</span> <span class="token string">"lines"</span><span class="token punctuation">,</span> <span class="token string">"null"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                     widths<span class="token operator">=</span>unit<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">## Diagram of a sample viewport</span>
grid.show.viewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token number">0.6</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token number">0.6</span><span class="token punctuation">,</span>
                            width<span class="token operator">=</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> height<span class="token operator">=</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">## A flash plotting example</span>
grid.multipanel<span class="token punctuation">(</span>vp<span class="token operator">=</span>viewport<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.8</span><span class="token punctuation">,</span> <span class="token number">0.8</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="viewport">

<a href="#viewport" class="help-page-title"><h2>Create a Grid Viewport</h2></a>

<h3>Description</h3>

<p>These functions create viewports, which describe rectangular regions
on a graphics device and define a number of coordinate systems within
those regions.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">viewport<span class="token punctuation">(</span>x <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> y <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
         width <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> height <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
         default.units <span class="token operator">=</span> <span class="token string">"npc"</span><span class="token punctuation">,</span> just <span class="token operator">=</span> <span class="token string">"centre"</span><span class="token punctuation">,</span>
         gp <span class="token operator">=</span> gpar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> clip <span class="token operator">=</span> <span class="token string">"inherit"</span><span class="token punctuation">,</span> mask <span class="token operator">=</span> <span class="token string">"inherit"</span><span class="token punctuation">,</span>
         xscale <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> yscale <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
         angle <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
         layout <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>
         layout.pos.row <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> layout.pos.col <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>
         name <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">)</span>
vpList<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">)</span>
vpStack<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">)</span>
vpTree<span class="token punctuation">(</span>parent<span class="token punctuation">,</span> children<span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A numeric vector or unit object specifying x-location.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>A numeric vector or unit object specifying y-location.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width</code></td>
<td>
<p>A numeric vector or unit object specifying width.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>height</code></td>
<td>
<p>A numeric vector or unit object specifying height.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>default.units</code></td>
<td>
<p>A string indicating the default units to use
if <code>x</code>, <code>y</code>, <code>width</code>, or <code>height</code>
are only given as numeric vectors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>just</code></td>
<td>
<p>A string or numeric
vector specifying the justification of the viewport
relative to its (x, y) location.  If there are two values, the first
value specifies horizontal justification and the second value specifies
vertical justification.  Possible string values are: <code>"left"</code>,
<code>"right"</code>, <code>"centre"</code>, <code>"center"</code>, <code>"bottom"</code>,
and <code>"top"</code>.  For numeric values, 0 means left alignment
and 1 means right alignment.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gp</code></td>
<td>
<p>An object of class <code>"gpar"</code>, typically the output
from a call to the function <code><a href="#gpar">gpar</a></code>.  This is basically
a list of graphical parameter settings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clip</code></td>
<td>
<p>One of <code>"on"</code>, <code>"inherit"</code>, or
<code>"off"</code>, indicating whether to
clip to the extent of this viewport, inherit the clipping region
from the parent viewport, or turn clipping off altogether.
For back-compatibility, a logical value of <code>TRUE</code> corresponds
to <code>"on"</code> and <code>FALSE</code> corresponds to <code>"inherit"</code>.
</p>
<p>May also be a grob (or a gTree) that describes a clipping path
or the result of a call to <code><a href="#grid.stroke">as.path</a></code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mask</code></td>
<td>
<p>One of <code>"none"</code> (or <code>FALSE</code>)
or <code>"inherit"</code> (or <code>TRUE</code>) 
or a grob (or a gTree) or the result of call to
<code><a href="#as.mask">as.mask</a></code>.  This specifies that the viewport
should have no mask, or it should inherit the mask of its parent,
or it should have its own mask, as described by the grob.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xscale</code></td>
<td>
<p>A numeric vector of length two indicating the minimum and
maximum on the x-scale.  The limits may not be identical. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yscale</code></td>
<td>
<p>A numeric vector of length two indicating the minimum
and maximum on the y-scale. The limits may not be identical. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>angle</code></td>
<td>
<p>A numeric value indicating the angle of rotation of the
viewport.  Positive values indicate the amount of rotation, in
degrees, anticlockwise from the positive x-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>layout</code></td>
<td>
<p>A Grid layout object which splits the viewport into
subregions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>layout.pos.row</code></td>
<td>
<p>A numeric vector giving the
rows occupied by this viewport in its
parent's layout.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>layout.pos.col</code></td>
<td>
<p>A numeric vector giving the
columns occupied by this viewport in its
parent's layout.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>A character value to uniquely identify the viewport
once it has been pushed onto the viewport tree.  </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Any number of grid viewport objects.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parent</code></td>
<td>
<p>A grid viewport object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>children</code></td>
<td>
<p>A vpList object.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The location and size of a viewport are relative to the coordinate
systems defined by the viewport's parent (either a graphical device
or another viewport).  The location and size can be specified in a
very flexible way by specifying them with unit objects.
When specifying the location of a viewport, specifying
both <code>layout.pos.row</code> and <code>layout.pos.col</code> as <code>NULL</code>
indicates that
the viewport ignores its parent's layout and specifies its own
location and size (via its <code>locn</code>).  If only one of
<code>layout.pos.row</code> and <code>layout.pos.col</code> is <code>NULL</code>, this
means occupy ALL of the appropriate row(s)/column(s).  For example,
<code>layout.pos.row = 1</code> and <code>layout.pos.col = NULL</code> means
occupy all of row 1.  Specifying non-<code>NULL</code> values for both
<code>layout.pos.row</code> and <code>layout.pos.col</code> means occupy the
intersection of the appropriate rows and columns.  If a vector of
length two is
specified for <code>layout.pos.row</code> or <code>layout.pos.col</code>, this
indicates a range of rows or columns to occupy.  For example,
<code>layout.pos.row = c(1, 3)</code> and <code>layout.pos.col = c(2, 4)</code>
means occupy cells in the intersection of rows 1, 2, and 3, and
columns, 2, 3, and 4.
</p>
<p>Clipping obeys only the most recent viewport clip setting.
For example, if you clip to viewport1, then clip to viewport2,
the clipping region is determined wholly by viewport2, the
size and shape of viewport1 is irrelevant (until viewport2
is popped of course).
</p>
<p>If a viewport is rotated (because of its own <code>angle</code> setting
or because it is within another viewport which is rotated) then
the <code>clip</code> flag is ignored.
</p>
<p>If <code>clip</code> is a grob, then that grob (which may be more
than one shape) defines a clipping path.  The function
<code>as.path</code> may be used to specify a fill rule for the path.
</p>
<p>Viewport names need not be unique.  When pushed, viewports
sharing the same parent must have unique names, which means that
if you push a viewport with the same name as an existing viewport,
the existing viewport will be replaced in the viewport tree.
A viewport name can be any string, but
grid uses the
reserved name <code>"ROOT"</code> for the top-level viewport.  Also,
when specifying a viewport name in <code>downViewport</code>
and <code>seekViewport</code>, it is possible to provide a viewport
path, which consists of several names concatenated using the
separator  (currently <code>::</code>).  Consequently, it is not
advisable to use this separator in viewport names.
</p>
<p>The viewports in a <code>vpList</code> are pushed in parallel.  The
viewports in a <code>vpStack</code> are pushed in series.  When a
<code>vpTree</code> is pushed, the parent is pushed first, then the
children are pushed in parallel.
</p>


<h3>Value</h3>

<p>An R object of class <code>viewport</code>.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell</p>


<h3>See Also</h3>

<p><a href="#Grid">Grid</a>,
<code><a href="#viewports">pushViewport</a></code>,
<code><a href="#viewports">popViewport</a></code>,
<code><a href="#viewports">downViewport</a></code>,
<code><a href="#viewports">seekViewport</a></code>,
<code><a href="#viewports">upViewport</a></code>,
<code><a href="#unit">unit</a></code>,
<code><a href="#grid.layout">grid.layout</a></code>,
<code><a href="#grid.show.layout">grid.show.layout</a></code>.
</p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r"><span class="token comment"># Diagram of a sample viewport</span>
grid.show.viewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token number">0.6</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token number">0.6</span><span class="token punctuation">,</span>
                   width<span class="token operator">=</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> height<span class="token operator">=</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># Demonstrate viewport clipping</span>
clip.demo <span class="token operator">&lt;-</span> <span class="token keyword">function</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> clip1<span class="token punctuation">,</span> clip2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>layout.pos.col<span class="token operator">=</span>i<span class="token punctuation">,</span>
                         layout.pos.row<span class="token operator">=</span>j<span class="token punctuation">)</span><span class="token punctuation">)</span>
  pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>width<span class="token operator">=</span><span class="token number">0.6</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">0.6</span><span class="token punctuation">,</span> clip<span class="token operator">=</span>clip1<span class="token punctuation">)</span><span class="token punctuation">)</span>
  grid.rect<span class="token punctuation">(</span>gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>fill<span class="token operator">=</span><span class="token string">"white"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  grid.circle<span class="token punctuation">(</span>r<span class="token operator">=</span><span class="token number">0.55</span><span class="token punctuation">,</span> gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token string">"red"</span><span class="token punctuation">,</span> fill<span class="token operator">=</span><span class="token string">"pink"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  popViewport<span class="token punctuation">(</span><span class="token punctuation">)</span>
  pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>width<span class="token operator">=</span><span class="token number">0.6</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">0.6</span><span class="token punctuation">,</span> clip<span class="token operator">=</span>clip2<span class="token punctuation">)</span><span class="token punctuation">)</span>
  grid.polygon<span class="token punctuation">(</span>x<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">1.1</span><span class="token punctuation">,</span> <span class="token number">0.6</span><span class="token punctuation">,</span> <span class="token number">1.1</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.1</span><span class="token punctuation">,</span> <span class="token number">0.4</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
               y<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token number">0.6</span><span class="token punctuation">,</span> <span class="token number">1.1</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.1</span><span class="token punctuation">,</span> <span class="token number">0.4</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.1</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">1.1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
               gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token string">"blue"</span><span class="token punctuation">,</span> fill<span class="token operator">=</span><span class="token string">"light blue"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  popViewport<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
grid.rect<span class="token punctuation">(</span>gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>fill<span class="token operator">=</span><span class="token string">"grey"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>layout<span class="token operator">=</span>grid.layout<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
clip.demo<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> <span class="token boolean">FALSE</span><span class="token punctuation">)</span>
clip.demo<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span> <span class="token boolean">FALSE</span><span class="token punctuation">)</span>
clip.demo<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span>
clip.demo<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span>
popViewport<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># Demonstrate turning clipping off</span>
grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>width<span class="token operator">=</span><span class="token number">.5</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">.5</span><span class="token punctuation">,</span> clip<span class="token operator">=</span><span class="token string">"on"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
grid.rect<span class="token punctuation">(</span><span class="token punctuation">)</span>
grid.circle<span class="token punctuation">(</span>r<span class="token operator">=</span><span class="token number">.6</span><span class="token punctuation">,</span> gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>lwd<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>clip<span class="token operator">=</span><span class="token string">"inherit"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
grid.circle<span class="token punctuation">(</span>r<span class="token operator">=</span><span class="token number">.6</span><span class="token punctuation">,</span> gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>lwd<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"grey"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>clip<span class="token operator">=</span><span class="token string">"off"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
grid.circle<span class="token punctuation">(</span>r<span class="token operator">=</span><span class="token number">.6</span><span class="token punctuation">)</span>
popViewport<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token comment"># Demonstrate vpList, vpStack, and vpTree</span>
grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
tree <span class="token operator">&lt;-</span> vpTree<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>width<span class="token operator">=</span><span class="token number">0.8</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">0.8</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">"A"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
               vpList<span class="token punctuation">(</span>vpStack<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">,</span>
                                       just<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token string">"left"</span><span class="token punctuation">,</span> <span class="token string">"bottom"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">"B"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                              viewport<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">,</span>
                                       just<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token string">"left"</span><span class="token punctuation">,</span> <span class="token string">"bottom"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">"C"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                              viewport<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">,</span>
                                       just<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token string">"left"</span><span class="token punctuation">,</span> <span class="token string">"bottom"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">"D"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                      viewport<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token number">0.4</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">0.9</span><span class="token punctuation">,</span>
                               just<span class="token operator">=</span><span class="token string">"left"</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">"E"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
pushViewport<span class="token punctuation">(</span>tree<span class="token punctuation">)</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token keyword">in</span> LETTERS<span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  seekViewport<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
  grid.rect<span class="token punctuation">(</span><span class="token punctuation">)</span>
  grid.text<span class="token punctuation">(</span>current.vpTree<span class="token punctuation">(</span><span class="token boolean">FALSE</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            x<span class="token operator">=</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"mm"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> y<span class="token operator">=</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span> <span class="token operator">-</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"mm"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            just<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token string">"left"</span><span class="token punctuation">,</span> <span class="token string">"top"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>fontsize<span class="token operator">=</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="grid-defunct">

<a href="#grid-defunct" class="help-page-title"><h2>Defunct Functions in Package <span class="pkg">grid</span>
</h2></a>

<h3>Description</h3>

<p>The functions or variables listed here are no longer part of <span class="pkg">grid</span>.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">grid.grob<span class="token punctuation">(</span>list.struct<span class="token punctuation">,</span> cl <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> draw <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span> 
grid.arrows<span class="token punctuation">(</span>x <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token number">0.25</span><span class="token punctuation">,</span> <span class="token number">0.75</span><span class="token punctuation">)</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">0.5</span><span class="token punctuation">,</span> default.units <span class="token operator">=</span> <span class="token string">"npc"</span><span class="token punctuation">,</span>
            grob <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>
            angle <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">,</span> length <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">0.25</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            ends <span class="token operator">=</span> <span class="token string">"last"</span><span class="token punctuation">,</span> type <span class="token operator">=</span> <span class="token string">"open"</span><span class="token punctuation">,</span> name <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>
            gp <span class="token operator">=</span> gpar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> draw <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span> vp <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">)</span>

arrowsGrob<span class="token punctuation">(</span>x <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token number">0.25</span><span class="token punctuation">,</span> <span class="token number">0.75</span><span class="token punctuation">)</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">0.5</span><span class="token punctuation">,</span> default.units <span class="token operator">=</span> <span class="token string">"npc"</span><span class="token punctuation">,</span>
           grob <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>
           angle <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">,</span> length <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">0.25</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
           ends <span class="token operator">=</span> <span class="token string">"last"</span><span class="token punctuation">,</span> type <span class="token operator">=</span> <span class="token string">"open"</span><span class="token punctuation">,</span> name <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>
           gp <span class="token operator">=</span> gpar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> vp <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">)</span>
grid.convertX<span class="token punctuation">(</span>x<span class="token punctuation">,</span> unitTo<span class="token punctuation">,</span> valueOnly <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">)</span>
grid.convertY<span class="token punctuation">(</span>x<span class="token punctuation">,</span> unitTo<span class="token punctuation">,</span> valueOnly <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">)</span>
grid.convertWidth<span class="token punctuation">(</span>x<span class="token punctuation">,</span> unitTo<span class="token punctuation">,</span> valueOnly <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">)</span>
grid.convertHeight<span class="token punctuation">(</span>x<span class="token punctuation">,</span> unitTo<span class="token punctuation">,</span> valueOnly <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">)</span>
grid.convert<span class="token punctuation">(</span>x<span class="token punctuation">,</span> unitTo<span class="token punctuation">,</span>
             axisFrom <span class="token operator">=</span> <span class="token string">"x"</span><span class="token punctuation">,</span> typeFrom <span class="token operator">=</span> <span class="token string">"location"</span><span class="token punctuation">,</span>
             axisTo <span class="token operator">=</span> axisFrom<span class="token punctuation">,</span> typeTo <span class="token operator">=</span> typeFrom<span class="token punctuation">,</span>
             valueOnly <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">)</span>
grid.collection<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">,</span> gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> draw<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">,</span> vp<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">)</span>
push.viewport<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">,</span> recording<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span>
pop.viewport<span class="token punctuation">(</span>n<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> recording<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span>
viewport.transform<span class="token punctuation">(</span>vp<span class="token punctuation">)</span>
draw.details<span class="token punctuation">(</span>x<span class="token punctuation">,</span> recording<span class="token punctuation">)</span>
convertNative<span class="token punctuation">(</span>unit<span class="token punctuation">,</span> dimension<span class="token operator">=</span><span class="token string">"x"</span><span class="token punctuation">,</span> type<span class="token operator">=</span><span class="token string">"location"</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="grid-internal">

<a href="#grid-internal" class="help-page-title"><h2>Internal Grid Functions</h2></a>

<h3>Description</h3>

<p>Internal Grid functions
</p>


<h3>Details</h3>

<p>These are not to be called by the user (or in some cases are just
waiting for proper documentation to be written :).
</p>

<hr>
</div>
<div class="container manual-page" id="grid-package">

<a href="#grid-package" class="help-page-title"><h2>
The Grid Graphics Package
</h2></a>

<h3>Description</h3>

<p>A rewrite of the graphics layout capabilities, plus some
support for interaction.
</p>


<h3>Details</h3>

<p>This package contains a graphics system which supplements
S-style graphics (see the <span class="pkg">graphics</span> package).
</p>
<p>Further information is available in the following
<a href="utils.html#vignette">vignettes</a>:
</p>

<table>
<tr>
<td style="text-align: left;">
<code>grid</code> </td>
<td style="text-align: left;"> Introduction to <code>grid</code> (<a href="../doc/grid.pdf">../doc/grid.pdf</a>)</td>
</tr>
<tr>
<td style="text-align: left;">
<code>displaylist</code> </td>
<td style="text-align: left;"> Display Lists in <code>grid</code> (<a href="../doc/displaylist.pdf">../doc/displaylist.pdf</a>)</td>
</tr>
<tr>
<td style="text-align: left;">
<code>frame</code> </td>
<td style="text-align: left;"> Frames and packing grobs (<a href="../doc/frame.pdf">../doc/frame.pdf</a>)</td>
</tr>
<tr>
<td style="text-align: left;">
<code>grobs</code> </td>
<td style="text-align: left;"> Working with <code>grid</code> grobs (<a href="../doc/grobs.pdf">../doc/grobs.pdf</a>)</td>
</tr>
<tr>
<td style="text-align: left;">
<code>interactive</code> </td>
<td style="text-align: left;"> Editing <code>grid</code> Graphics (<a href="../doc/interactive.pdf">../doc/interactive.pdf</a>)</td>
</tr>
<tr>
<td style="text-align: left;">
<code>locndimn</code> </td>
<td style="text-align: left;"> Locations versus Dimensions (<a href="../doc/locndimn.pdf">../doc/locndimn.pdf</a>)</td>
</tr>
<tr>
<td style="text-align: left;">
<code>moveline</code> </td>
<td style="text-align: left;"> Demonstrating move-to and line-to (<a href="../doc/moveline.pdf">../doc/moveline.pdf</a>)</td>
</tr>
<tr>
<td style="text-align: left;">
<code>nonfinite</code> </td>
<td style="text-align: left;"> How <code>grid</code> responds to non-finite values (<a href="../doc/nonfinite.pdf">../doc/nonfinite.pdf</a>)</td>
</tr>
<tr>
<td style="text-align: left;">
<code>plotexample</code> </td>
<td style="text-align: left;"> Writing <code>grid</code> Code (<a href="../doc/plotexample.pdf">../doc/plotexample.pdf</a>)</td>
</tr>
<tr>
<td style="text-align: left;">
<code>rotated</code> </td>
<td style="text-align: left;"> Rotated Viewports (<a href="../doc/rotated.pdf">../doc/rotated.pdf</a>)</td>
</tr>
<tr>
<td style="text-align: left;">
<code>saveload</code> </td>
<td style="text-align: left;"> Persistent representations (<a href="../doc/saveload.pdf">../doc/saveload.pdf</a>)</td>
</tr>
<tr>
<td style="text-align: left;">
<code>sharing</code> </td>
<td style="text-align: left;"> Modifying multiple grobs simultaneously (<a href="../doc/sharing.pdf">../doc/sharing.pdf</a>)</td>
</tr>
<tr>
<td style="text-align: left;">
<code>viewports</code> </td>
<td style="text-align: left;"> Working with <code>grid</code> viewports (<a href="../doc/viewports.pdf">../doc/viewports.pdf</a>)</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<p>For a complete list of functions with individual help pages,
use <code>library(help="grid")</code>.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell <a href="mailto:paul@stat.auckland.ac.nz">paul@stat.auckland.ac.nz</a>
</p>
<p>Maintainer: R Core Team <a href="mailto:R-core@r-project.org">R-core@r-project.org</a>
</p>


<h3>References</h3>

<p>Murrell, P. (2005).
<em>R Graphics</em>.
Chapman &amp; Hall/CRC Press.
</p>

<hr>
</div>
<div class="container manual-page" id="grid.add">

<a href="#grid.add" class="help-page-title"><h2>Add a Grid Graphical Object</h2></a>

<h3>Description</h3>

<p>Add a grob to a gTree or a descendant of a gTree.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">grid.add<span class="token punctuation">(</span>gPath<span class="token punctuation">,</span> child<span class="token punctuation">,</span> strict <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> grep <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span>
         global <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> allDevices <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> redraw <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span>

addGrob<span class="token punctuation">(</span>gTree<span class="token punctuation">,</span> child<span class="token punctuation">,</span> gPath <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> strict <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> grep <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span>
        global <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> warn <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span>

setChildren<span class="token punctuation">(</span>x<span class="token punctuation">,</span> children<span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>gTree, x</code></td>
<td>
<p>A gTree object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gPath</code></td>
<td>
<p> A gPath object. For <code>grid.add</code> this
specifies a gTree on the display list.  For <code>addGrob</code> this
specifies a descendant of the specified gTree. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>child</code></td>
<td>
<p> A grob object. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>children</code></td>
<td>
<p> A gList object. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strict</code></td>
<td>
<p> A boolean indicating whether the gPath must be
matched exactly. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grep</code></td>
<td>
<p>A boolean indicating whether the <code>gPath</code> should
be treated as a regular expression.  Values are recycled across
elements of the <code>gPath</code> (e.g., <code>c(TRUE, FALSE)</code> means
that every odd element of the <code>gPath</code> will be treated as
a regular expression).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>global</code></td>
<td>
<p> A boolean indicating whether the function should affect
just the first match of the <code>gPath</code>, or whether all matches
should be affected.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>warn</code></td>
<td>
<p>A logical to indicate whether failing to find the
specified gPath should trigger an error.  </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allDevices</code></td>
<td>
<p> A boolean indicating whether all open devices
should
be searched for matches, or just the current device.
NOT YET IMPLEMENTED.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>redraw</code></td>
<td>
<p>A logical value to indicate whether to redraw the grob. </p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>addGrob</code> copies the specified grob and returns a modified
grob.
</p>
<p><code>grid.add</code> destructively modifies a grob on the display list.
If <code>redraw</code>
is <code>TRUE</code> it then redraws everything to reflect the change.
</p>
<p><code>setChildren</code> is a basic function for setting all children
of a gTree at once (instead of repeated calls to <code>addGrob</code>).
</p>


<h3>Value</h3>

<p><code>addGrob</code> returns a grob object;  <code>grid.add</code> returns <code>NULL</code>.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell</p>


<h3>See Also</h3>

<p><code><a href="#grid.grob">grob</a></code>, <code><a href="#grid.get">getGrob</a></code>,
<code><a href="#grid.add">addGrob</a></code>, <code><a href="#grid.remove">removeGrob</a></code>.
</p>

<hr>
</div>
<div class="container manual-page" id="grid.bezier">

<a href="#grid.bezier" class="help-page-title"><h2> Draw a Bezier Curve </h2></a>

<h3>Description</h3>

<p>These functions create and draw Bezier Curves (a curve drawn
relative to 4 control points).
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">grid.bezier<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">)</span>
bezierGrob<span class="token punctuation">(</span>x <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> y <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            id <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> id.lengths <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>
            default.units <span class="token operator">=</span> <span class="token string">"npc"</span><span class="token punctuation">,</span> arrow <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>
            name <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> gp <span class="token operator">=</span> gpar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> vp <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A numeric vector or unit object specifying x-locations of
spline control points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>A numeric vector or unit object specifying y-locations of
spline control points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>A numeric vector used to separate locations in <code>x</code> and
<code>y</code> into multiple beziers.  All locations with the same
<code>id</code> belong to the same bezier.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id.lengths</code></td>
<td>
<p>A numeric vector used to separate locations in <code>x</code> and
<code>y</code> into multiple bezier.  Specifies consecutive blocks of
locations which make up separate beziers.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>default.units</code></td>
<td>
<p>A string indicating the default units to use
if <code>x</code> or <code>y</code>
are only given as numeric vectors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>arrow</code></td>
<td>
<p>A list describing arrow heads to place at either end
of the bezier, as produced by the <code>arrow</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p> A character identifier. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gp</code></td>
<td>
<p>An object of class <code>"gpar"</code>, typically the output
from a call to the function <code><a href="#gpar">gpar</a></code>.  This is basically
a list of graphical parameter settings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vp</code></td>
<td>
<p>A Grid viewport object (or NULL).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments to be passed to <code>bezierGrob</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Both functions create a beziergrob (a graphical object describing a
Bezier curve), but only <code>grid.bezier</code>
draws the Bezier curve.
</p>
<p>A Bezier curve is a line drawn relative to 4 control points.
</p>
<p>Missing values are not allowed for <code>x</code> and <code>y</code>
(i.e., it is not valid for a control point to be missing).
</p>
<p>The curve is currently drawn using an approximation based on
X-splines.
</p>


<h3>Value</h3>

<p>A grob object.
</p>


<h3>See Also</h3>

<p><a href="#Grid">Grid</a>,
<code><a href="#viewport">viewport</a></code>,
<code><a href="#arrow">arrow</a></code>.
</p>
<p><code><a href="#grid.xspline">grid.xspline</a></code>.
</p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r">x <span class="token operator">&lt;-</span> c<span class="token punctuation">(</span><span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">0.4</span><span class="token punctuation">,</span> <span class="token number">0.4</span><span class="token punctuation">)</span>
y <span class="token operator">&lt;-</span> c<span class="token punctuation">(</span><span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">0.4</span><span class="token punctuation">,</span> <span class="token number">0.4</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">)</span>

grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
grid.bezier<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span>
grid.bezier<span class="token punctuation">(</span>c<span class="token punctuation">(</span>x<span class="token punctuation">,</span> x <span class="token operator">+</span> <span class="token number">.4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> c<span class="token punctuation">(</span>y <span class="token operator">+</span> <span class="token number">.4</span><span class="token punctuation">,</span> y <span class="token operator">+</span> <span class="token number">.4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            id<span class="token operator">=</span>rep<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span> each<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
grid.segments<span class="token punctuation">(</span><span class="token number">.4</span><span class="token punctuation">,</span> <span class="token number">.6</span><span class="token punctuation">,</span> <span class="token number">.6</span><span class="token punctuation">,</span> <span class="token number">.6</span><span class="token punctuation">)</span>
grid.bezier<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span>
            gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>lwd<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span> fill<span class="token operator">=</span><span class="token string">"black"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            arrow<span class="token operator">=</span>arrow<span class="token punctuation">(</span>type<span class="token operator">=</span><span class="token string">"closed"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            vp<span class="token operator">=</span>viewport<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token number">.9</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="grid.cap">

<a href="#grid.cap" class="help-page-title"><h2>
Capture a raster image
</h2></a>

<h3>Description</h3>

<p>Capture the current contents of a graphics device as a raster
(bitmap) image.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">grid.cap<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>


<h3>Details</h3>

<p>This function is only implemented for on-screen graphics devices.
</p>


<h3>Value</h3>

<p>A matrix of R colour names, or <code>NULL</code> if not available.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell
</p>


<h3>See Also</h3>

<p><code><a href="#grid.raster">grid.raster</a></code>
</p>
<p><code><a href="grDevices.html#dev.capabilities">dev.capabilities</a></code> to see if it is supported.
</p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r">dev.new<span class="token punctuation">(</span>width<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">)</span>
grid.rect<span class="token punctuation">(</span><span class="token punctuation">)</span>
grid.text<span class="token punctuation">(</span><span class="token string">"hi"</span><span class="token punctuation">)</span>
cap <span class="token operator">&lt;-</span> grid.cap<span class="token punctuation">(</span><span class="token punctuation">)</span>
dev.off<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>is.null<span class="token punctuation">(</span>cap<span class="token punctuation">)</span><span class="token punctuation">)</span>
    grid.raster<span class="token punctuation">(</span>cap<span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">,</span> interpolate<span class="token operator">=</span><span class="token boolean">FALSE</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="grid.circle">

<a href="#grid.circle" class="help-page-title"><h2> Draw a Circle </h2></a>

<h3>Description</h3>

<p>Functions to create and draw a circle.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">grid.circle<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">,</span> r<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">,</span> default.units<span class="token operator">=</span><span class="token string">"npc"</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">,</span>
            gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> draw<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">,</span> vp<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">)</span>
circleGrob<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">,</span> r<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">,</span> default.units<span class="token operator">=</span><span class="token string">"npc"</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">,</span>
            gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> vp<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A numeric vector or unit object specifying x-locations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>A numeric vector or unit object specifying y-locations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r</code></td>
<td>
<p>A numeric vector or unit object specifying radii.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>default.units</code></td>
<td>
<p>A string indicating the default units to use
if <code>x</code>, <code>y</code>, <code>width</code>, or <code>height</code>
are only given as numeric vectors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p> A character identifier. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gp</code></td>
<td>
<p>An object of class <code>"gpar"</code>, typically the output
from a call to the function <code><a href="#gpar">gpar</a></code>.  This is basically
a list of graphical parameter settings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>draw</code></td>
<td>
<p>A logical value indicating whether graphics output
should be produced.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vp</code></td>
<td>
<p>A Grid viewport object (or NULL).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Both functions create a circle grob (a graphical object describing a
circle), but only <code>grid.circle()</code>
draws the circle (and then only if <code>draw</code> is <code>TRUE</code>).
</p>
<p>The radius may be given in any
units;  if the units are <em>relative</em> (e.g., <code>"npc"</code> or
<code>"native"</code>) then the radius will be different depending on
whether it is interpreted as a width or as a height.  In such cases,
the smaller of these two values will be the result.  To see the
effect, type <code>grid.circle()</code> and adjust the size of the window.
</p>
<p>What happens for very small radii is device-dependent: the
circle may become invisible or be shown at a fixed minimum size.
Circles of zero radius will not be plotted.
</p>


<h3>Value</h3>

<p>A circle grob.  <code>grid.circle()</code> returns the value invisibly.
</p>


<h3>Warning</h3>

<p>Negative values for the radius are silently converted to their
absolute value.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell</p>


<h3>See Also</h3>

<p><a href="#Grid">Grid</a>,
<code><a href="#viewport">viewport</a></code>
</p>

<hr>
</div>
<div class="container manual-page" id="grid.clip">

<a href="#grid.clip" class="help-page-title"><h2>Set the Clipping Region</h2></a>

<h3>Description</h3>

<p>These functions set the clipping region within the current viewport
<em>without</em> altering the current coordinate system.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">grid.clip<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">)</span>
clipGrob<span class="token punctuation">(</span>x <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> y <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
         width <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> height <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
         just <span class="token operator">=</span> <span class="token string">"centre"</span><span class="token punctuation">,</span> hjust <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> vjust <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>
         default.units <span class="token operator">=</span> <span class="token string">"npc"</span><span class="token punctuation">,</span> name <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> vp <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A numeric vector or unit object specifying x-location.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>A numeric vector or unit object specifying y-location.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width</code></td>
<td>
<p>A numeric vector or unit object specifying width.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>height</code></td>
<td>
<p>A numeric vector or unit object specifying height.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>just</code></td>
<td>
<p>The justification of the clip rectangle
relative to its (x, y) location.  If there are two values, the first
value specifies horizontal justification and the second value specifies
vertical justification.  Possible string values are: <code>"left"</code>,
<code>"right"</code>, <code>"centre"</code>, <code>"center"</code>, <code>"bottom"</code>,
and <code>"top"</code>.  For numeric values, 0 means left alignment
and 1 means right alignment.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hjust</code></td>
<td>
<p>A numeric vector specifying horizontal justification.
If specified, overrides the <code>just</code> setting.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vjust</code></td>
<td>
<p>A numeric vector specifying vertical justification.
If specified, overrides the <code>just</code> setting.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>default.units</code></td>
<td>
<p>A string indicating the default units to use
if <code>x</code>, <code>y</code>, <code>width</code>, or <code>height</code>
are only given as numeric vectors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p> A character identifier. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vp</code></td>
<td>
<p>A Grid viewport object (or NULL).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments passed to <code>clipGrob</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Both functions create a clip rectangle (a graphical object describing
a clip rectangle), but only <code>grid.clip</code>
enforces the clipping.
</p>
<p>Pushing or popping a viewport <em>always</em> overrides the clip
region set by a clip grob, regardless of whether that viewport
explicitly enforces a clipping region.
</p>


<h3>Value</h3>

<p><code>clipGrob</code> returns a clip grob.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell</p>


<h3>See Also</h3>

<p><a href="#Grid">Grid</a>,
<code><a href="#viewport">viewport</a></code>
</p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r"><span class="token comment"># draw across entire viewport, but clipped</span>
grid.clip<span class="token punctuation">(</span>x <span class="token operator">=</span> <span class="token number">0.3</span><span class="token punctuation">,</span> width <span class="token operator">=</span> <span class="token number">0.1</span><span class="token punctuation">)</span>
grid.lines<span class="token punctuation">(</span>gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token string">"green"</span><span class="token punctuation">,</span> lwd<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># draw across entire viewport, but clipped (in different place)</span>
grid.clip<span class="token punctuation">(</span>x <span class="token operator">=</span> <span class="token number">0.7</span><span class="token punctuation">,</span> width <span class="token operator">=</span> <span class="token number">0.1</span><span class="token punctuation">)</span>
grid.lines<span class="token punctuation">(</span>gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token string">"red"</span><span class="token punctuation">,</span> lwd<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># Viewport sets new clip region</span>
pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>width<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">,</span> clip<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
grid.lines<span class="token punctuation">(</span>gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token string">"grey"</span><span class="token punctuation">,</span> lwd<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># Return to original viewport;  get</span>
<span class="token comment"># clip region from previous grid.clip()</span>
<span class="token comment"># (NOT from previous viewport clip region)</span>
popViewport<span class="token punctuation">(</span><span class="token punctuation">)</span>
grid.lines<span class="token punctuation">(</span>gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token string">"black"</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="grid.convert">

<a href="#grid.convert" class="help-page-title"><h2> Convert Between Different grid Coordinate Systems </h2></a>

<h3>Description</h3>

<p>These functions take a unit object and convert it to an
equivalent
unit object in a different coordinate system.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">convertX<span class="token punctuation">(</span>x<span class="token punctuation">,</span> unitTo<span class="token punctuation">,</span> valueOnly <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">)</span>
convertY<span class="token punctuation">(</span>x<span class="token punctuation">,</span> unitTo<span class="token punctuation">,</span> valueOnly <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">)</span>
convertWidth<span class="token punctuation">(</span>x<span class="token punctuation">,</span> unitTo<span class="token punctuation">,</span> valueOnly <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">)</span>
convertHeight<span class="token punctuation">(</span>x<span class="token punctuation">,</span> unitTo<span class="token punctuation">,</span> valueOnly <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">)</span>
convertUnit<span class="token punctuation">(</span>x<span class="token punctuation">,</span> unitTo<span class="token punctuation">,</span>
             axisFrom <span class="token operator">=</span> <span class="token string">"x"</span><span class="token punctuation">,</span> typeFrom <span class="token operator">=</span> <span class="token string">"location"</span><span class="token punctuation">,</span>
             axisTo <span class="token operator">=</span> axisFrom<span class="token punctuation">,</span> typeTo <span class="token operator">=</span> typeFrom<span class="token punctuation">,</span>
             valueOnly <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p> A unit object. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unitTo</code></td>
<td>
<p> The coordinate system to convert the unit to.
See the <code><a href="#unit">unit</a></code> function for valid coordinate systems.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>axisFrom</code></td>
<td>
<p> Either <code>"x"</code> or <code>"y"</code> to indicate
whether the unit object represents a value in the x- or
y-direction. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>typeFrom</code></td>
<td>
<p> Either <code>"location"</code> or <code>"dimension"</code>
to indicate whether the unit object represents a location or a
length. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>axisTo</code></td>
<td>
<p> Same as <code>axisFrom</code>, but applies to the unit object
that is to be created. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>typeTo</code></td>
<td>
<p> Same as <code>typeFrom</code>, but applies to the unit object
that is to be created. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>valueOnly</code></td>
<td>
<p> A logical indicating.  If <code>TRUE</code> then
the function does not return a unit object, but rather only the
converted numeric values. </p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>convertUnit</code> function allows for general-purpose
conversions.  The other four functions are just more convenient
front-ends to it for the most common conversions.
</p>
<p>The conversions occur within the current viewport.
</p>
<p>It is not currently possible to convert to all valid coordinate systems
(e.g., "strwidth" or "grobwidth").  I'm not sure if all of these
are impossible, they just seem implausible at this stage.
</p>
<p>In normal usage of grid, these functions should not be necessary.
If you want to express a location or dimension in inches rather
than user coordinates then you should simply do something like
<code>unit(1, "inches")</code> rather than something like
<code>unit(0.134, "native")</code>.
</p>
<p>In some cases, however, it is necessary for the user to
perform calculations on a unit value and this function becomes
necessary.  In such cases, please take note of the warning below.
</p>


<h3>Value</h3>

<p>A unit object in the specified coordinate system
(unless <code>valueOnly</code> is <code>TRUE</code> in which case
the returned value is a numeric).
</p>


<h3>Warning</h3>

<p>The conversion is only valid for the current device size.
If the device is resized then at least some conversions will
become invalid.  For example, suppose that I create a unit
object as follows: <code>oneinch &lt;- convertUnit(unit(1, "inches"),
    "native")</code>.  Now if I resize the device, the unit object in
oneinch no longer corresponds to a physical length of 1 inch.
</p>


<h3>Author(s)</h3>

<p> Paul Murrell </p>


<h3>See Also</h3>

 <p><code><a href="#unit">unit</a></code> </p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r"><span class="token comment">## A tautology</span>
convertX<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span>
<span class="token comment">## The physical units</span>
convertX<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">2.54</span><span class="token punctuation">,</span> <span class="token string">"cm"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span>
convertX<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">25.4</span><span class="token punctuation">,</span> <span class="token string">"mm"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span>
convertX<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">72.27</span><span class="token punctuation">,</span> <span class="token string">"points"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span>
convertX<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">/</span><span class="token number">12</span><span class="token operator">*</span><span class="token number">72.27</span><span class="token punctuation">,</span> <span class="token string">"picas"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span>
convertX<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">72</span><span class="token punctuation">,</span> <span class="token string">"bigpts"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span>
convertX<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">1157</span><span class="token operator">/</span><span class="token number">1238</span><span class="token operator">*</span><span class="token number">72.27</span><span class="token punctuation">,</span> <span class="token string">"dida"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span>
convertX<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">/</span><span class="token number">12</span><span class="token operator">*</span><span class="token number">1157</span><span class="token operator">/</span><span class="token number">1238</span><span class="token operator">*</span><span class="token number">72.27</span><span class="token punctuation">,</span> <span class="token string">"cicero"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span>
convertX<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">65536</span><span class="token operator">*</span><span class="token number">72.27</span><span class="token punctuation">,</span> <span class="token string">"scaledpts"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span>
convertX<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">/</span><span class="token number">2.54</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"cm"</span><span class="token punctuation">)</span>
convertX<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">/</span><span class="token number">25.4</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"mm"</span><span class="token punctuation">)</span>
convertX<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">/</span><span class="token number">72.27</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"points"</span><span class="token punctuation">)</span>
convertX<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">/</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">/</span><span class="token number">12</span><span class="token operator">*</span><span class="token number">72.27</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"picas"</span><span class="token punctuation">)</span>
convertX<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">/</span><span class="token number">72</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"bigpts"</span><span class="token punctuation">)</span>
convertX<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">/</span><span class="token punctuation">(</span><span class="token number">1157</span><span class="token operator">/</span><span class="token number">1238</span><span class="token operator">*</span><span class="token number">72.27</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"dida"</span><span class="token punctuation">)</span>
convertX<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">/</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">/</span><span class="token number">12</span><span class="token operator">*</span><span class="token number">1157</span><span class="token operator">/</span><span class="token number">1238</span><span class="token operator">*</span><span class="token number">72.27</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"cicero"</span><span class="token punctuation">)</span>
convertX<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">/</span><span class="token punctuation">(</span><span class="token number">65536</span><span class="token operator">*</span><span class="token number">72.27</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"scaledpts"</span><span class="token punctuation">)</span>

pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>width<span class="token operator">=</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                       height<span class="token operator">=</span>unit<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                       xscale<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                       yscale<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token comment">## Location versus dimension</span>
  convertY<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"native"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span>
  convertHeight<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"native"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span>
  <span class="token comment">## From "x" to "y" (the conversion is via "inches")</span>
  convertUnit<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"native"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"native"</span><span class="token punctuation">,</span>
               axisFrom<span class="token operator">=</span><span class="token string">"x"</span><span class="token punctuation">,</span> axisTo<span class="token operator">=</span><span class="token string">"y"</span><span class="token punctuation">)</span>
  <span class="token comment">## Convert several values at once</span>
  convertX<span class="token punctuation">(</span>unit<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">2.54</span><span class="token punctuation">)</span><span class="token punctuation">,</span> c<span class="token punctuation">(</span><span class="token string">"npc"</span><span class="token punctuation">,</span> <span class="token string">"cm"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                c<span class="token punctuation">(</span><span class="token string">"inches"</span><span class="token punctuation">,</span> <span class="token string">"native"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
popViewport<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">## Convert a complex unit</span>
convertX<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"strwidth"</span><span class="token punctuation">,</span> <span class="token string">"Hello"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"native"</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="grid.copy">

<a href="#grid.copy" class="help-page-title"><h2>Make a Copy of a Grid Graphical Object</h2></a>

<h3>Description</h3>

<p>This function is redundant and will disappear in future versions.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">grid.copy<span class="token punctuation">(</span>grob<span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>grob</code></td>
<td>
<p>A grob object.</p>
</td>
</tr></table>
<h3>Value</h3>

<p>A copy of the grob object.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell</p>


<h3>See Also</h3>

<p><code><a href="#grid-defunct">grid.grob</a></code>.
</p>

<hr>
</div>
<div class="container manual-page" id="grid.curve">

<a href="#grid.curve" class="help-page-title"><h2> Draw a Curve Between Locations </h2></a>

<h3>Description</h3>

<p>These functions create and draw a curve from one location
to another.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">grid.curve<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">)</span>
curveGrob<span class="token punctuation">(</span>x1<span class="token punctuation">,</span> y1<span class="token punctuation">,</span> x2<span class="token punctuation">,</span> y2<span class="token punctuation">,</span> default.units <span class="token operator">=</span> <span class="token string">"npc"</span><span class="token punctuation">,</span>
          curvature <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> angle <span class="token operator">=</span> <span class="token number">90</span><span class="token punctuation">,</span> ncp <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> shape <span class="token operator">=</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
          square <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span> squareShape <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
          inflect <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> arrow <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> open <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span>
          debug <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span>
          name <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> gp <span class="token operator">=</span> gpar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> vp <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">)</span>
arcCurvature<span class="token punctuation">(</span>theta<span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x1</code></td>
<td>
<p>A numeric vector or unit object specifying the x-location of
the start point.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y1</code></td>
<td>
<p>A numeric vector or unit object specifying the y-location of
the start point.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x2</code></td>
<td>
<p>A numeric vector or unit object specifying the x-location of
the end point.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y2</code></td>
<td>
<p>A numeric vector or unit object specifying the y-location of
the end point.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>default.units</code></td>
<td>
<p>A string indicating the default units to use
if <code>x1</code>, <code>y1</code>, <code>x2</code> or <code>y2</code>
are only given as numeric values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>curvature</code></td>
<td>
<p>A numeric value giving the amount of curvature.
Negative values produce left-hand curves, positive values
produce right-hand curves, and zero produces a straight line.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>angle</code></td>
<td>
<p>A numeric value between 0 and 180,
giving an amount to skew the control
points of the curve.  Values less than 90 skew the curve towards
the start point and values greater than 90 skew the curve
towards the end point.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncp</code></td>
<td>
<p>The number of control points used to draw the curve.
More control points creates a smoother curve.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shape</code></td>
<td>
<p>A numeric vector of values between -1 and 1, which
control the shape of the curve relative to its control points.
See <code>grid.xspline</code> for more details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>square</code></td>
<td>
<p>A logical value that controls whether control
points for the curve are created city-block fashion or
obliquely.  When <code>ncp</code> is 1 and <code>angle</code> is 90,
this is typically <code>TRUE</code>, otherwise this should probably
be set to <code>FALSE</code> (see Examples below).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>squareShape</code></td>
<td>
<p>A <code>shape</code> value to control the behaviour
of the curve relative to any additional control point that
is inserted if <code>square</code> is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inflect</code></td>
<td>
<p>A logical value specifying whether the curve
should be cut in half and inverted (see Examples below).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>arrow</code></td>
<td>
<p>A list describing arrow heads to place at either end
of the curve, as produced by the <code>arrow</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>open</code></td>
<td>
<p>A logical value indicating whether to close the curve
(connect the start and end points).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>debug</code></td>
<td>
<p>A logical value indicating whether debugging
information should be drawn.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p> A character identifier. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gp</code></td>
<td>
<p>An object of class <code>"gpar"</code>, typically the output
from a call to the function <code><a href="#gpar">gpar</a></code>.  This is basically
a list of graphical parameter settings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vp</code></td>
<td>
<p>A Grid viewport object (or NULL).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments to be passed to <code>curveGrob</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>theta</code></td>
<td>
<p>An angle (in degrees).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Both functions create a curve grob (a graphical object describing an
curve), but only <code>grid.curve</code>
draws the curve.
</p>
<p>The <code>arcCurvature</code> function can be used to calculate a
<code>curvature</code> such that control points are generated on
an arc corresponding to angle <code>theta</code>.  This is typically
used in conjunction with a large <code>ncp</code> to produce a curve
corresponding to the desired arc.
</p>


<h3>Value</h3>

<p>A grob object.
</p>


<h3>See Also</h3>

<p><a href="#Grid">Grid</a>,
<code><a href="#viewport">viewport</a></code>,
<code><a href="#grid.xspline">grid.xspline</a></code>,
<code><a href="#arrow">arrow</a></code>
</p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r">curveTest <span class="token operator">&lt;-</span> <span class="token keyword">function</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token ellipsis">...</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>layout.pos.col<span class="token operator">=</span>j<span class="token punctuation">,</span> layout.pos.row<span class="token operator">=</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span>
  do.call<span class="token punctuation">(</span><span class="token string">"grid.curve"</span><span class="token punctuation">,</span> c<span class="token punctuation">(</span>list<span class="token punctuation">(</span>x1<span class="token operator">=</span><span class="token number">.25</span><span class="token punctuation">,</span> y1<span class="token operator">=</span><span class="token number">.25</span><span class="token punctuation">,</span> x2<span class="token operator">=</span><span class="token number">.75</span><span class="token punctuation">,</span> y2<span class="token operator">=</span><span class="token number">.75</span><span class="token punctuation">)</span><span class="token punctuation">,</span> list<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  grid.text<span class="token punctuation">(</span>sub<span class="token punctuation">(</span><span class="token string">"list\\((.*)\\)"</span><span class="token punctuation">,</span> <span class="token string">"\\1"</span><span class="token punctuation">,</span>
                deparse<span class="token punctuation">(</span>substitute<span class="token punctuation">(</span>list<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            y<span class="token operator">=</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  popViewport<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment"># grid.newpage()</span>
pushViewport<span class="token punctuation">(</span>plotViewport<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                          layout<span class="token operator">=</span>grid.layout<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> heights<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>layout.pos.row<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>
                      layout<span class="token operator">=</span>grid.layout<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> respect<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
curveTest<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
curveTest<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> inflect<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span>
curveTest<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> angle<span class="token operator">=</span><span class="token number">135</span><span class="token punctuation">)</span>
curveTest<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> arrow<span class="token operator">=</span>arrow<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
curveTest<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> ncp<span class="token operator">=</span><span class="token number">8</span><span class="token punctuation">)</span>
curveTest<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> shape<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
curveTest<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> curvature<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
curveTest<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> square<span class="token operator">=</span><span class="token boolean">FALSE</span><span class="token punctuation">)</span>
curveTest<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> debug<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span>
popViewport<span class="token punctuation">(</span><span class="token punctuation">)</span>
pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>layout.pos.row<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span>
                      layout<span class="token operator">=</span>grid.layout<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
curveTest<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
curveTest<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> inflect<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span>
curveTest<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> angle<span class="token operator">=</span><span class="token number">135</span><span class="token punctuation">)</span>
curveTest<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> arrow<span class="token operator">=</span>arrow<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
curveTest<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> ncp<span class="token operator">=</span><span class="token number">8</span><span class="token punctuation">)</span>
curveTest<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> shape<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
curveTest<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> curvature<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
curveTest<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> square<span class="token operator">=</span><span class="token boolean">FALSE</span><span class="token punctuation">)</span>
curveTest<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> debug<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span>
popViewport<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="grid.delay">

<a href="#grid.delay" class="help-page-title"><h2> Encapsulate calculations and generating a grob </h2></a>

<h3>Description</h3>

<p>Evaluates an expression that includes both calculations
and generating a grob that depends on the calculations so that
both the calculations and the grob generation will be rerun when
the scene is redrawn (e.g., device resize or editing).
</p>
<p>Intended <em>only</em> for expert use.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">delayGrob<span class="token punctuation">(</span>expr<span class="token punctuation">,</span> list<span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">,</span> gp<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">,</span> vp<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">)</span>
grid.delay<span class="token punctuation">(</span>expr<span class="token punctuation">,</span> list<span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">,</span> gp<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">,</span> vp<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>expr</code></td>
<td>
<p>object of mode <code><a href="base.html#expression">expression</a></code> or <code>call</code> or
an unevaluated expression.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>list</code></td>
<td>
<p>a list defining the environment in which <code>expr</code> is to
be evaluated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p> A character identifier. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gp</code></td>
<td>
<p>An object of class <code>"gpar"</code>, typically the output
from a call to the function <code><a href="#gpar">gpar</a></code>.  This is basically
a list of graphical parameter settings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vp</code></td>
<td>
<p>A Grid viewport object (or NULL).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>A grob is created of special class <code>"delayedgrob"</code>
(and drawn, in the case of <code>grid.delay</code>).
The <code>makeContent</code> method for this class
evaluates the expression with the list as the evaluation
environment (and the grid Namespace as the parent of that
environment).
</p>
<p>The <code>expr</code> argument should return a grob as its result.
</p>
<p>These functions are analogues of the <code>grid.record()</code>
and <code>recordGrob()</code> functions;  the difference is that
these functions are based on the <code>makeContent()</code> hook,
while those functions are based on the <code>drawDetails()</code>
hook.
</p>


<h3>Note</h3>

<p> This function <em>must</em> be used instead of the
function <code>recordGraphics</code>;  all of the dire warnings
about using <code>recordGraphics</code> responsibly also apply here.
</p>


<h3>Author(s)</h3>

<p> Paul Murrell </p>


<h3>See Also</h3>

 <p><code><a href="grDevices.html#recordGraphics">recordGraphics</a></code> </p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r">grid.delay<span class="token punctuation">(</span><span class="token punctuation">{</span>
              w <span class="token operator">&lt;-</span> convertWidth<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span>
              rectGrob<span class="token punctuation">(</span>width<span class="token operator">=</span>w<span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            list<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="grid.display.list">

<a href="#grid.display.list" class="help-page-title"><h2>Control the Grid Display List</h2></a>

<h3>Description</h3>

<p>Turn the Grid display list on or off.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">grid.display.list<span class="token punctuation">(</span>on<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span>
engine.display.list<span class="token punctuation">(</span>on<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>on</code></td>
<td>
<p>A logical value to indicate whether the display list
should be on or off.</p>
</td>
</tr></table>
<h3>Details</h3>

<p>All drawing and viewport-setting operations are (by default)
recorded in the Grid display list.  This allows redrawing
to occur following an editing operation.
</p>
<p>This display list could get very large so it may be useful to
turn it off in some cases;  this will of course disable redrawing.
</p>
<p>All graphics output is also recorded on the main display list
of the R graphics engine (by default).  This supports redrawing
following a device resize and allows copying between devices.
</p>
<p>Turning off this display list means that grid will redraw from its
own display list for device resizes and copies.  This will be slower
than using the graphics engine display list.
</p>


<h3>Value</h3>

<p>None.
</p>


<h3>WARNING</h3>

<p>Turning the display list on causes the display list to be erased!
</p>
<p>Turning off both the grid display list and the graphics engine
display list will result in no redrawing whatsoever.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell</p>

<hr>
</div>
<div class="container manual-page" id="grid.DLapply">

<a href="#grid.DLapply" class="help-page-title"><h2> Modify the Grid Display List </h2></a>

<h3>Description</h3>

<p>Call a function on each element of the current display list.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">grid.DLapply<span class="token punctuation">(</span>FUN<span class="token punctuation">,</span> <span class="token ellipsis">...</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>FUN</code></td>
<td>
<p>A function;  the first argument to this function
is passed each element of the display list. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments to pass to <code>FUN</code> .</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function is insanely dangerous (for the grid display list).
</p>
<p>Two token efforts are made to try to avoid ending up with complete
garbage on the display list:
</p>

<ol>
<li>
<p> The display list is only replaced once all new elements have
been generated (so an error during generation does not result in a
half-finished display list).
</p>
</li>
<li>
<p> All new elements must be either <code>NULL</code> or inherit from
the class of the element that they are replacing.
</p>
</li>
</ol>
<h3>Value</h3>

<p>The side effect of these functions
is usually to modify the grid display list.
</p>


<h3>See Also</h3>

<p><a href="#Grid">Grid</a>.
</p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r">grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
grid.rect<span class="token punctuation">(</span>width<span class="token operator">=</span><span class="token number">.4</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">.4</span><span class="token punctuation">,</span> x<span class="token operator">=</span><span class="token number">.25</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token number">.75</span><span class="token punctuation">,</span> gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>fill<span class="token operator">=</span><span class="token string">"black"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">"r1"</span><span class="token punctuation">)</span>
grid.rect<span class="token punctuation">(</span>width<span class="token operator">=</span><span class="token number">.4</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">.4</span><span class="token punctuation">,</span> x<span class="token operator">=</span><span class="token number">.5</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token number">.5</span><span class="token punctuation">,</span> gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>fill<span class="token operator">=</span><span class="token string">"grey"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">"r2"</span><span class="token punctuation">)</span>
grid.rect<span class="token punctuation">(</span>width<span class="token operator">=</span><span class="token number">.4</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">.4</span><span class="token punctuation">,</span> x<span class="token operator">=</span><span class="token number">.75</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token number">.25</span><span class="token punctuation">,</span> gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>fill<span class="token operator">=</span><span class="token string">"white"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">"r3"</span><span class="token punctuation">)</span>
grid.DLapply<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>is.grob<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span> x<span class="token operator">$</span>gp <span class="token operator">&lt;-</span> gpar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> x <span class="token punctuation">}</span><span class="token punctuation">)</span>
grid.refresh<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="grid.draw">

<a href="#grid.draw" class="help-page-title"><h2>Draw a grid grob</h2></a>

<h3>Description</h3>

<p>Produces graphical output from a graphical object.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">grid.draw<span class="token punctuation">(</span>x<span class="token punctuation">,</span> recording<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An object of class <code>"grob"</code> or NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>recording</code></td>
<td>
<p>A logical value to indicate whether the drawing
operation should be recorded on the Grid display list.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This is a generic function with methods for grob and gTree objects.
</p>
<p>The grob and gTree methods automatically push any viewports in a
<code>vp</code> slot and automatically apply any <code>gpar</code> settings
in a <code>gp</code> slot.  In addition, the gTree method pushes and
ups any viewports in a <code>childrenvp</code> slot and automatically
calls <code>grid.draw</code> for any grobs in a <code>children</code> slot.
</p>
<p>The methods for grob and gTree call the generic hook functions
<code>preDrawDetails</code>, <code>drawDetails</code>, and <code>postDrawDetails</code>
to allow classes derived from grob or gTree to perform
additional viewport pushing/popping and produce additional
output beyond the default behaviour for grobs and gTrees.
</p>


<h3>Value</h3>

<p>None.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell</p>


<h3>See Also</h3>

<p><code><a href="#grid.grob">grob</a></code>.
</p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r">grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">## Create a graphical object, but don't draw it</span>
l <span class="token operator">&lt;-</span> linesGrob<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">## Draw it</span>
grid.draw<span class="token punctuation">(</span>l<span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="grid.edit">

<a href="#grid.edit" class="help-page-title"><h2>Edit the Description of a Grid Graphical Object</h2></a>

<h3>Description</h3>

<p>Changes the value of one of the slots of a grob
and redraws the grob.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">grid.edit<span class="token punctuation">(</span>gPath<span class="token punctuation">,</span> <span class="token ellipsis">...</span><span class="token punctuation">,</span> strict <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> grep <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span>
          global <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> allDevices <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> redraw <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span>

grid.gedit<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">,</span> grep <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span> global <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span>

editGrob<span class="token punctuation">(</span>grob<span class="token punctuation">,</span> gPath <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> <span class="token ellipsis">...</span><span class="token punctuation">,</span> strict <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> grep <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span>
         global <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> warn <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>grob</code></td>
<td>
<p>A grob object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Zero or more named arguments specifying new slot values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gPath</code></td>
<td>
<p> A gPath object. For <code>grid.edit</code> this
specifies a grob on the display list.  For <code>editGrob</code> this
specifies a descendant of the specified grob. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strict</code></td>
<td>
<p> A boolean indicating whether the gPath must be
matched exactly. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grep</code></td>
<td>
<p>A boolean indicating whether the <code>gPath</code> should
be treated as a regular expression.  Values are recycled across
elements of the <code>gPath</code> (e.g., <code>c(TRUE, FALSE)</code> means
that every odd element of the <code>gPath</code> will be treated as
a regular expression).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>global</code></td>
<td>
<p> A boolean indicating whether the function should affect
just the first match of the <code>gPath</code>, or whether all matches
should be affected.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>warn</code></td>
<td>
<p>A logical to indicate whether failing to find the
specified gPath should trigger an error.  </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allDevices</code></td>
<td>
<p> A boolean indicating whether all open devices
should
be searched for matches, or just the current device.
NOT YET IMPLEMENTED.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>redraw</code></td>
<td>
<p>A logical value to indicate whether to redraw the grob. </p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>editGrob</code> copies the specified grob and returns a modified
grob.
</p>
<p><code>grid.edit</code> destructively modifies a grob on the display list.
If <code>redraw</code>
is <code>TRUE</code> it then redraws everything to reflect the change.
</p>
<p>Both functions call <code>editDetails</code> to allow a grob to perform
custom actions and <code>validDetails</code> to check that the modified grob
is still coherent.
</p>
<p><code>grid.gedit</code> (<code>g</code> for global) is just a convenience wrapper for
<code>grid.edit</code> with different defaults.
</p>


<h3>Value</h3>

<p><code>editGrob</code> returns a grob object;  <code>grid.edit</code> returns <code>NULL</code>.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell</p>


<h3>See Also</h3>

<p><code><a href="#grid.grob">grob</a></code>, <code><a href="#grid.get">getGrob</a></code>,
<code><a href="#grid.add">addGrob</a></code>, <code><a href="#grid.remove">removeGrob</a></code>.
</p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r">grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
grid.xaxis<span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"xa"</span><span class="token punctuation">,</span> vp <span class="token operator">=</span> viewport<span class="token punctuation">(</span>width<span class="token operator">=</span><span class="token number">.5</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
grid.edit<span class="token punctuation">(</span><span class="token string">"xa"</span><span class="token punctuation">,</span> gp <span class="token operator">=</span> gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token string">"red"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># won't work because no ticks (at is NULL)</span>
try<span class="token punctuation">(</span>grid.edit<span class="token punctuation">(</span>gPath<span class="token punctuation">(</span><span class="token string">"xa"</span><span class="token punctuation">,</span> <span class="token string">"ticks"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> gp <span class="token operator">=</span> gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token string">"green"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
grid.edit<span class="token punctuation">(</span><span class="token string">"xa"</span><span class="token punctuation">,</span> at <span class="token operator">=</span> <span class="token number">1</span><span class="token operator">:</span><span class="token number">4</span><span class="token operator">/</span><span class="token number">5</span><span class="token punctuation">)</span>
<span class="token comment"># Now it should work</span>
try<span class="token punctuation">(</span>grid.edit<span class="token punctuation">(</span>gPath<span class="token punctuation">(</span><span class="token string">"xa"</span><span class="token punctuation">,</span> <span class="token string">"ticks"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> gp <span class="token operator">=</span> gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token string">"green"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="grid.force">

<a href="#grid.force" class="help-page-title"><h2> Force a grob into its components </h2></a>

<h3>Description</h3>

<p>Some grobs only generate their content to draw at
drawing time;  this function replaces such grobs with
their at-drawing-time content.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">grid.force<span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token ellipsis">...</span><span class="token punctuation">)</span>
<span class="token comment">## Default S3 method:</span>
grid.force<span class="token punctuation">(</span>x<span class="token punctuation">,</span> redraw <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> <span class="token ellipsis">...</span><span class="token punctuation">)</span>
<span class="token comment">## S3 method for class 'gPath'</span>
grid.force<span class="token punctuation">(</span>x<span class="token punctuation">,</span> strict <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> grep <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> global <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span>
                           redraw <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> <span class="token ellipsis">...</span><span class="token punctuation">)</span> 
<span class="token comment">## S3 method for class 'grob'</span>
grid.force<span class="token punctuation">(</span>x<span class="token punctuation">,</span> draw <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> <span class="token ellipsis">...</span><span class="token punctuation">)</span>
forceGrob<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
grid.revert<span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token ellipsis">...</span><span class="token punctuation">)</span>
<span class="token comment">## S3 method for class 'gPath'</span>
grid.revert<span class="token punctuation">(</span>x<span class="token punctuation">,</span> strict <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> grep <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> global <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span>
                            redraw <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> <span class="token ellipsis">...</span><span class="token punctuation">)</span> 
<span class="token comment">## S3 method for class 'grob'</span>
grid.revert<span class="token punctuation">(</span>x<span class="token punctuation">,</span> draw <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> <span class="token ellipsis">...</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>For the default method, <code>x</code> should not be specified.
Otherwise, <code>x</code> should be a grob or a gPath.
If <code>x</code> is character, it is assumed to be a gPath.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strict</code></td>
<td>

<p>A boolean indicating whether the <code>path</code> must be matched
exactly.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grep</code></td>
<td>

<p>Whether the <code>path</code> should be treated as a regular expression.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>global</code></td>
<td>

<p>A boolean indicating whether the function should affect just the
first match of the <code>path</code>, or whether all matches should be
affected.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>draw</code></td>
<td>
<p>logical value indicating whether a grob should be
drawn after it is forced.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>redraw</code></td>
<td>
<p>logical value indicating whether to redraw the
<span class="pkg">grid</span> scene after the forcing operation.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p> Further arguments for use by methods. </p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Some grobs wait until drawing time to generate what content
will actually be drawn (an axis, as produced by <code>grid.xaxis()</code>,
with an <code>at</code> or <code>NULL</code> is a good example because it
has to see what viewport it is going to be drawn in before
it can decide what tick marks to draw).
</p>
<p>The content of such grobs (e.g., the tick marks) are not usually
visible to <code>grid.ls()</code> or accessible to <code>grid.edit()</code>.
</p>
<p>The <code>grid.force()</code> function <em>replaces</em> a grob with its
at-drawing-time contents.  For example, an axis will be
replaced by a vanilla gTree with lines and text representing
the axis tick marks that were actually drawn.  This makes
the tick marks
visible to <code>grid.ls()</code> and accessible to <code>grid.edit()</code>.
</p>
<p>The <code>forceGrob()</code> function is the internal work horse for
<code>grid.force()</code>, so will not normally be called directly by
the user.  It is exported so that methods can be written for
custom grob classes if necessary.
</p>
<p>The <code>grid.revert()</code> function reverses the effect of
<code>grid.force()</code>, replacing forced content with the original
grob.
</p>


<h3>Warning</h3>

<p>Forcing an explicit grob produces a result as if the grob were
drawn in the <em>current</em> drawing context.
It may not make sense to draw the result in a different
drawing context.
</p>


<h3>Note</h3>

<p>These functions only have an effect for grobs that generate their content
at drawing time using <code>makeContext()</code> and <code>makeContent()</code>
methods (<em>not</em> for grobs that generate their content
at drawing time using <code>preDrawDetails()</code> and
<code>drawDetails()</code> methods).
</p>


<h3>Author(s)</h3>

<p> Paul Murrell </p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r">grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>width<span class="token operator">=</span><span class="token number">.5</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># Draw xaxis</span>
grid.xaxis<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"xax"</span><span class="token punctuation">)</span>
grid.ls<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># Force xaxis</span>
grid.force<span class="token punctuation">(</span><span class="token punctuation">)</span>
grid.ls<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># Revert xaxis</span>
grid.revert<span class="token punctuation">(</span><span class="token punctuation">)</span>
grid.ls<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># Draw and force yaxis</span>
grid.force<span class="token punctuation">(</span>yaxisGrob<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> draw<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span>
grid.ls<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># Revert yaxis</span>
grid.revert<span class="token punctuation">(</span><span class="token punctuation">)</span>
grid.ls<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># Force JUST xaxis</span>
grid.force<span class="token punctuation">(</span><span class="token string">"xax"</span><span class="token punctuation">)</span>
grid.ls<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># Force ALL</span>
grid.force<span class="token punctuation">(</span><span class="token punctuation">)</span>
grid.ls<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># Revert JUST xaxis</span>
grid.revert<span class="token punctuation">(</span><span class="token string">"xax"</span><span class="token punctuation">)</span>
grid.ls<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="grid.frame">

<a href="#grid.frame" class="help-page-title"><h2> Create a Frame for Packing Objects </h2></a>

<h3>Description</h3>

<p>These functions, together with <code>grid.pack</code>,
<code>grid.place</code>, <code>packGrob</code>, and <code>placeGrob</code> are part of a
GUI-builder-like interface to constructing graphical images.
The idea is that you create a frame with this function then
use <code>grid.pack</code> or whatever to pack/place objects into the frame.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">grid.frame<span class="token punctuation">(</span>layout<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">,</span> gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> vp<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">,</span> draw<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span>
frameGrob<span class="token punctuation">(</span>layout<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">,</span> gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> vp<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>layout</code></td>
<td>
<p> A Grid layout, or NULL. This can be used to initialise
the frame with a number of rows and columns, with initial widths
and heights, etc. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p> A character identifier. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vp</code></td>
<td>
<p> An object of class <code>viewport</code>, or NULL. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gp</code></td>
<td>
<p> An object of class <code>"gpar"</code>;  typically the output from
a call to the function <code><a href="#gpar">gpar</a></code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>draw</code></td>
<td>
<p> Should the frame be drawn.  </p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Both functions create a frame grob (a graphical object describing a
frame), but only <code>grid.frame()</code>
draws the frame (and then only if <code>draw</code> is <code>TRUE</code>).
Nothing will actually be
drawn, but it will put the frame on the display list, which means
that the output will be dynamically updated as objects are packed
into the frame.  Possibly useful for debugging.
</p>


<h3>Value</h3>

<p>A frame grob.  <code>grid.frame()</code> returns the value invisibly.
</p>


<h3>Author(s)</h3>

<p> Paul Murrell </p>


<h3>See Also</h3>

<p><code><a href="#grid.pack">grid.pack</a></code>
</p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r">grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
grid.frame<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"gf"</span><span class="token punctuation">,</span> draw<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span>
grid.pack<span class="token punctuation">(</span><span class="token string">"gf"</span><span class="token punctuation">,</span> rectGrob<span class="token punctuation">(</span>gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>fill<span class="token operator">=</span><span class="token string">"grey"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> width<span class="token operator">=</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"null"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
grid.pack<span class="token punctuation">(</span><span class="token string">"gf"</span><span class="token punctuation">,</span> textGrob<span class="token punctuation">(</span><span class="token string">"hi there"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> side<span class="token operator">=</span><span class="token string">"right"</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="grid.function">

<a href="#grid.function" class="help-page-title"><h2>Draw a curve representing a function</h2></a>

<h3>Description</h3>

<p>Draw a curve representing a function.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">grid.<span class="token keyword">function</span><span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">)</span>
functionGrob<span class="token punctuation">(</span>f<span class="token punctuation">,</span> n <span class="token operator">=</span> <span class="token number">101</span><span class="token punctuation">,</span> range <span class="token operator">=</span> <span class="token string">"x"</span><span class="token punctuation">,</span> units <span class="token operator">=</span> <span class="token string">"native"</span><span class="token punctuation">,</span>
             name <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> vp <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">)</span>

grid.abline<span class="token punctuation">(</span>intercept<span class="token punctuation">,</span> slope<span class="token punctuation">,</span> <span class="token ellipsis">...</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>f</code></td>
<td>
<p> A function that must take a single argument
and return a list with two numeric components named <code>x</code> and
<code>y</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p> The number values that will be generated as input
to the function <code>f</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>range</code></td>
<td>
<p> Either <code>"x"</code>, <code>"y"</code>, or a numeric vector.
See the Details section.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>units</code></td>
<td>
<p>A string indicating the units to use
for the <code>x</code> and <code>y</code> values generated by the function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>intercept</code></td>
<td>
<p> Numeric.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>slope</code></td>
<td>
<p> Numeric. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p> Arguments passed to <code>grid.function()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p> A character identifier. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gp</code></td>
<td>
<p>An object of class <code>"gpar"</code>, typically the output
from a call to the function <code><a href="#gpar">gpar</a></code>.  This is basically
a list of graphical parameter settings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vp</code></td>
<td>
<p>A Grid viewport object (or NULL).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>n</code> values are generated and passed to the function <code>f</code>
and a series of lines are
drawn through the resulting <code>x</code> and <code>y</code> values.
</p>
<p>The generation of the <code>n</code> values depends on the value of
<code>range</code>.  In the default case, <code>dim</code> is
<code>"x"</code>, which means that a set
of <code>x</code> values are generated covering the range of the current
viewport scale in the x-dimension.  If <code>dim</code> is <code>"y"</code>
then values are generated from the current y-scale instead.
If <code>range</code> is a numeric vector, then values are generated
from that range.
</p>
<p><code>grid.abline()</code> provides a simple front-end for a straight
line parameterized by <code>intercept</code> and <code>slope</code>.
</p>


<h3>Value</h3>

<p>A functiongrob grob.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell</p>


<h3>See Also</h3>

<p><a href="#Grid">Grid</a>,
<code><a href="#viewport">viewport</a></code>
</p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r"><span class="token comment"># abline</span><span class="token comment"># NOTE: in ROOT viewport on screen, (0, 0) at top-left</span><span class="token comment">#       and "native" is pixels!</span>
    grid.<span class="token keyword">function</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> list<span class="token punctuation">(</span>x<span class="token operator">=</span>x<span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token number">0</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token operator">*</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment"># a more "normal" viewport with default normalized "native" coords</span>
    grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
    pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    grid.<span class="token keyword">function</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> list<span class="token punctuation">(</span>x<span class="token operator">=</span>x<span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token number">0</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token operator">*</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment"># slightly simpler</span>
    grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
    pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    grid.abline<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment"># sine curve</span>
    grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
    pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>xscale<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">*</span>pi<span class="token punctuation">)</span><span class="token punctuation">,</span> yscale<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    grid.<span class="token keyword">function</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> list<span class="token punctuation">(</span>x<span class="token operator">=</span>x<span class="token punctuation">,</span> y<span class="token operator">=</span>sin<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment"># constrained sine curve</span>
    grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
    pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>xscale<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">*</span>pi<span class="token punctuation">)</span><span class="token punctuation">,</span> yscale<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    grid.<span class="token keyword">function</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> list<span class="token punctuation">(</span>x<span class="token operator">=</span>x<span class="token punctuation">,</span> y<span class="token operator">=</span>sin<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                  range<span class="token operator">=</span><span class="token number">0</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token comment"># inverse sine curve</span>
    grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
    pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>xscale<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> yscale<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">*</span>pi<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    grid.<span class="token keyword">function</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span> list<span class="token punctuation">(</span>x<span class="token operator">=</span>sin<span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">,</span> y<span class="token operator">=</span>y<span class="token punctuation">)</span><span class="token punctuation">,</span>
                  range<span class="token operator">=</span><span class="token string">"y"</span><span class="token punctuation">)</span>
    <span class="token comment"># parametric function</span>
    grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
    pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>xscale<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> yscale<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    grid.<span class="token keyword">function</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span> list<span class="token punctuation">(</span>x<span class="token operator">=</span>cos<span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">,</span> y<span class="token operator">=</span>sin<span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                  range<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token operator">*</span>pi<span class="token operator">/</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment"># physical abline</span>
    grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
    grid.<span class="token keyword">function</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> list<span class="token punctuation">(</span>x<span class="token operator">=</span>x<span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token number">0</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token operator">*</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span>
                  units<span class="token operator">=</span><span class="token string">"in"</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="grid.get">

<a href="#grid.get" class="help-page-title"><h2>Get a Grid Graphical Object</h2></a>

<h3>Description</h3>

<p>Retrieve a grob or a descendant of a grob.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">grid.get<span class="token punctuation">(</span>gPath<span class="token punctuation">,</span> strict <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> grep <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> global <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span>
         allDevices <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">)</span>

grid.gget<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">,</span> grep <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span> global <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span>

getGrob<span class="token punctuation">(</span>gTree<span class="token punctuation">,</span> gPath<span class="token punctuation">,</span> strict <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> grep <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> global <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>gTree</code></td>
<td>
<p>A gTree object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gPath</code></td>
<td>
<p> A gPath object. For <code>grid.get</code> this
specifies a grob on the display list.  For <code>getGrob</code> this
specifies a descendant of the specified gTree. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strict</code></td>
<td>
<p> A boolean indicating whether the gPath must be
matched exactly. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grep</code></td>
<td>
<p>A boolean indicating whether the <code>gPath</code> should
be treated as a regular expression.  Values are recycled across
elements of the <code>gPath</code> (e.g., <code>c(TRUE, FALSE)</code> means
that every odd element of the <code>gPath</code> will be treated as
a regular expression).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>global</code></td>
<td>
<p> A boolean indicating whether the function should affect
just the first match of the <code>gPath</code>, or whether all matches
should be affected.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allDevices</code></td>
<td>
<p> A boolean indicating whether all open devices
should
be searched for matches, or just the current device.
NOT YET IMPLEMENTED.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p> Arguments that are passed to <code>grid.get</code>. </p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>grid.gget</code> (<code>g</code> for global) is just a convenience wrapper for
<code>grid.get</code> with different defaults.
</p>


<h3>Value</h3>

<p>A grob object.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell</p>


<h3>See Also</h3>

<p><code><a href="#grid.grob">grob</a></code>, <code><a href="#grid.get">getGrob</a></code>,
<code><a href="#grid.add">addGrob</a></code>, <code><a href="#grid.remove">removeGrob</a></code>.
</p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r">grid.xaxis<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"xa"</span><span class="token punctuation">)</span>
grid.get<span class="token punctuation">(</span><span class="token string">"xa"</span><span class="token punctuation">)</span>
grid.get<span class="token punctuation">(</span>gPath<span class="token punctuation">(</span><span class="token string">"xa"</span><span class="token punctuation">,</span> <span class="token string">"ticks"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

grid.draw<span class="token punctuation">(</span>gTree<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"gt"</span><span class="token punctuation">,</span> children<span class="token operator">=</span>gList<span class="token punctuation">(</span>xaxisGrob<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"axis"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
grid.get<span class="token punctuation">(</span>gPath<span class="token punctuation">(</span><span class="token string">"gt"</span><span class="token punctuation">,</span> <span class="token string">"axis"</span><span class="token punctuation">,</span> <span class="token string">"ticks"</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="grid.grab">

<a href="#grid.grab" class="help-page-title"><h2> Grab the current grid output </h2></a>

<h3>Description</h3>

<p>Creates a gTree object from the current grid display list
or from a scene generated by user-specified code.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">grid.grab<span class="token punctuation">(</span>warn <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> wrap <span class="token operator">=</span> wrap.grobs<span class="token punctuation">,</span> wrap.grobs <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> <span class="token ellipsis">...</span><span class="token punctuation">)</span>
grid.grabExpr<span class="token punctuation">(</span>expr<span class="token punctuation">,</span> warn <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> wrap <span class="token operator">=</span> wrap.grobs<span class="token punctuation">,</span> wrap.grobs <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> 
              width <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">,</span> height <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">,</span> device <span class="token operator">=</span> offscreen<span class="token punctuation">,</span> <span class="token ellipsis">...</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>expr</code></td>
<td>
<p> An expression to be evaluated.  Typically,
some calls to grid drawing functions. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>warn</code></td>
<td>
<p> An integer specifying the amount of warnings
to emit.  0 means no warnings, 1 means warn when it is
certain that the grab will not faithfully represent the
original scene. 2 means warn if there's any possibility
that the grab will not faithfully represent the
original scene.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wrap</code></td>
<td>
<p> A logical indicating how the output should
be captured. If <code>TRUE</code>, each non-grob element on the
display list is captured by wrapping it in a grob.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wrap.grobs</code></td>
<td>
<p> A logical indicating whether, if we are wrapping
elements (<code>wrap=TRUE</code>), we should wrap grobs (or just
wrap viewports).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width, height</code></td>
<td>
<p> Size of the device used for temporary
rendering. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>device</code></td>
<td>
<p> A function that opens a graphics device for temporary
rendering. By default this is an off-screen, in-memory device
based on the <code>pdf</code> device, but this default device may not be
satisfactory when using custom fonts.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p> arguments passed to gTree, for example, a
name and/or class for the gTree that is created.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>There are four ways to capture grid output as a gTree.
</p>
<p>There are two functions for capturing output:
use <code>grid.grab</code> to capture an existing drawing
and <code>grid.grabExpr</code> to capture the output from
an expression (without drawing anything).
</p>
<p>For each of these functions, the output can be captured in
two ways.  One way tries to be clever and make a
gTree with a childrenvp slot containing all viewports on
the display list (including those
that are popped) and every
grob on the display list as a child of the new
gTree;  each child has a vpPath in the vp slot so that it is
drawn in the appropriate viewport.
In other words, the gTree contains all elements on the display
list, but in a slightly altered form.
</p>
<p>The other way, <code>wrap=TRUE</code>,
is to create a grob for every element on the
display list (and make all of those grobs children of the
gTree).  Only viewports are
wrapped unless <code>wrap.grobs</code> is also <code>TRUE</code>.
</p>
<p>The first approach creates a more compact and elegant gTree,
which is more flexible to work with,
but is not guaranteed to faithfully replicate all possible
grid output.  The second approach is more brute force, and
harder to work with, but is more likely to replicate the original
output.
</p>
<p>An example of a case that will NOT be replicated by wrapping,
with <code>wrap.grobs=TRUE</code>, is
a scene where the placement of one grob is dependent on another grob
(e.g., via <code>grobX</code> or <code>grobWidth</code>).
</p>


<h3>Value</h3>

<p>A gTree object.
</p>


<h3>See Also</h3>

 <p><code><a href="#grid.grob">gTree</a></code>
</p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r">pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>width<span class="token operator">=</span><span class="token number">.5</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
grid.rect<span class="token punctuation">(</span><span class="token punctuation">)</span>
grid.points<span class="token punctuation">(</span>stats<span class="token operator">::</span>runif<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> stats<span class="token operator">::</span>runif<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
popViewport<span class="token punctuation">(</span><span class="token punctuation">)</span>
grab <span class="token operator">&lt;-</span> grid.grab<span class="token punctuation">(</span><span class="token punctuation">)</span>
grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
grid.draw<span class="token punctuation">(</span>grab<span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="grid.grep">

<a href="#grid.grep" class="help-page-title"><h2>
Search for Grobs and/or Viewports
</h2></a>

<h3>Description</h3>

<p>Given a path, find all matching grobs and/or viewports on the display list
or within a given grob.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">grid.grep<span class="token punctuation">(</span>path<span class="token punctuation">,</span> x <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> grobs <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span> viewports <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span>
          strict <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> grep <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> global <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span>
          no.match <span class="token operator">=</span> character<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> vpPath <span class="token operator">=</span> viewports<span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>path</code></td>
<td>
<p> a gPath or a vpPath or a character value that could be
interpreted as either. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p> a grob or <code>NULL</code>.  If <code>NULL</code>, the display list
is searched.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grobs</code></td>
<td>
<p>A logical value indicating whether to search for grobs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>viewports</code></td>
<td>
<p>A logical value indicating whether to search for
viewports.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strict</code></td>
<td>

<p>A boolean indicating whether the <code>path</code> must be matched
exactly.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grep</code></td>
<td>

<p>Whether the <code>path</code> should be treated as a regular expression.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>global</code></td>
<td>

<p>A boolean indicating whether the function should affect just the
first match of the <code>path</code>, or whether all matches should be
affected.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>no.match</code></td>
<td>

<p>The value to return if no matches are found.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vpPath</code></td>
<td>

<p>A logical value indicating whether to return the vpPath for each
grob as an attribute of the result.
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Either a gPath or a vpPath or,
if <code>global</code> is <code>TRUE</code> a list of gPaths and/or vpPaths.
</p>
<p>If <code>vpPath</code> is <code>TRUE</code>, each gPath result will have an
attribute <code>"vpPath"</code>.
</p>
<p>If there are no matches, <code>no.match</code> is returned.
</p>


<h3>See Also</h3>

<p>grid.ls()
</p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r"><span class="token comment"># A gTree, called "grandparent", with child gTree,</span><span class="token comment"># called "parent", with childrenvp vpStack (vp2 within vp1)</span><span class="token comment"># and child grob, called "child", with vp vpPath (down to vp2)</span>
sampleGTree <span class="token operator">&lt;-</span> gTree<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"grandparent"</span><span class="token punctuation">,</span>
                     children<span class="token operator">=</span>gList<span class="token punctuation">(</span>gTree<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"parent"</span><span class="token punctuation">,</span>
                          children<span class="token operator">=</span>gList<span class="token punctuation">(</span>grob<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"child"</span><span class="token punctuation">,</span> vp<span class="token operator">=</span><span class="token string">"vp1::vp2"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                          childrenvp<span class="token operator">=</span>vpStack<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"vp1"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                                             viewport<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"vp2"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># Searching for grobs</span>
grid.grep<span class="token punctuation">(</span><span class="token string">"parent"</span><span class="token punctuation">,</span> sampleGTree<span class="token punctuation">)</span>
grid.grep<span class="token punctuation">(</span><span class="token string">"parent"</span><span class="token punctuation">,</span> sampleGTree<span class="token punctuation">,</span> strict<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span>
grid.grep<span class="token punctuation">(</span><span class="token string">"grandparent"</span><span class="token punctuation">,</span> sampleGTree<span class="token punctuation">,</span> strict<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span>
grid.grep<span class="token punctuation">(</span><span class="token string">"grandparent::parent"</span><span class="token punctuation">,</span> sampleGTree<span class="token punctuation">)</span>
grid.grep<span class="token punctuation">(</span><span class="token string">"parent::child"</span><span class="token punctuation">,</span> sampleGTree<span class="token punctuation">)</span>
grid.grep<span class="token punctuation">(</span><span class="token string">"[a-z]"</span><span class="token punctuation">,</span> sampleGTree<span class="token punctuation">,</span> grep<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span>
grid.grep<span class="token punctuation">(</span><span class="token string">"[a-z]"</span><span class="token punctuation">,</span> sampleGTree<span class="token punctuation">,</span> grep<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">,</span> global<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span>
<span class="token comment"># Searching for viewports</span>
grid.grep<span class="token punctuation">(</span><span class="token string">"vp1"</span><span class="token punctuation">,</span> sampleGTree<span class="token punctuation">,</span> viewports<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span>
grid.grep<span class="token punctuation">(</span><span class="token string">"vp2"</span><span class="token punctuation">,</span> sampleGTree<span class="token punctuation">,</span> viewports<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span>
grid.grep<span class="token punctuation">(</span><span class="token string">"vp"</span><span class="token punctuation">,</span> sampleGTree<span class="token punctuation">,</span> viewports<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">,</span> grep<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span>
grid.grep<span class="token punctuation">(</span><span class="token string">"vp2"</span><span class="token punctuation">,</span> sampleGTree<span class="token punctuation">,</span> viewports<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">,</span> strict<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span>
grid.grep<span class="token punctuation">(</span><span class="token string">"vp1::vp2"</span><span class="token punctuation">,</span> sampleGTree<span class="token punctuation">,</span> viewports<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span>
<span class="token comment"># Searching for both</span>
grid.grep<span class="token punctuation">(</span><span class="token string">"[a-z]"</span><span class="token punctuation">,</span> sampleGTree<span class="token punctuation">,</span> viewports<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">,</span> grep<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">,</span> global<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="grid.grill">

<a href="#grid.grill" class="help-page-title"><h2>Draw a Grill</h2></a>

<h3>Description</h3>

<p>This function draws a grill within a Grid viewport.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">grid.grill<span class="token punctuation">(</span>h <span class="token operator">=</span> unit<span class="token punctuation">(</span>seq<span class="token punctuation">(</span><span class="token number">0.25</span><span class="token punctuation">,</span> <span class="token number">0.75</span><span class="token punctuation">,</span> <span class="token number">0.25</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
           v <span class="token operator">=</span> unit<span class="token punctuation">(</span>seq<span class="token punctuation">(</span><span class="token number">0.25</span><span class="token punctuation">,</span> <span class="token number">0.75</span><span class="token punctuation">,</span> <span class="token number">0.25</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
           default.units <span class="token operator">=</span> <span class="token string">"npc"</span><span class="token punctuation">,</span> gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col <span class="token operator">=</span> <span class="token string">"grey"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> vp <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>h</code></td>
<td>
<p>A numeric vector or unit object
indicating the horizontal location of the
vertical grill lines.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>v</code></td>
<td>
<p>A numeric vector or unit object
indicating the vertical location of the
horizontal grill lines.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>default.units</code></td>
<td>
<p>A string indicating the default units to use
if <code>h</code> or <code>v</code> are only given as numeric vectors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gp</code></td>
<td>
<p>An object of class <code>"gpar"</code>, typically the output
from a call to the function <code><a href="#gpar">gpar</a></code>.  This is basically
a list of graphical parameter settings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vp</code></td>
<td>
<p>A Grid viewport object.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>None.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell</p>


<h3>See Also</h3>

<p><a href="#Grid">Grid</a>,
<code><a href="#viewport">viewport</a></code>.
</p>

<hr>
</div>
<div class="container manual-page" id="grid.grob">

<a href="#grid.grob" class="help-page-title"><h2>Create Grid Graphical Objects, aka "Grob"s</h2></a>

<h3>Description</h3>

<p>Creating grid graphical objects, short (grobs).
</p>
<p><code>grob()</code> and <code>gTree()</code> are the basic creators,
<code>grobTree()</code> and <code>gList()</code> take several grobs to build a new
one.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r"><span class="token comment">## Grob Creation:</span>

grob <span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">,</span> name <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> gp <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> vp <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> cl <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">)</span>
gTree<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">,</span> name <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> gp <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> vp <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> children <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>
      childrenvp <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> cl <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">)</span>
grobTree<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">,</span> name <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> gp <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> vp <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>
         childrenvp <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> cl <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">)</span>
gList<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">)</span>

<span class="token comment">## Grob Properties:</span>
childNames<span class="token punctuation">(</span>gTree<span class="token punctuation">)</span>
is.grob<span class="token punctuation">(</span>x<span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>For <code>grob</code> and <code>gTree</code>, the
named slots describing important features of
the graphical object.  For <code>gList</code> and <code>grobTree</code>,
a series of grob objects. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>a character identifier for the grob.  Used to find the
grob on the display list and/or as a child of another grob. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>children</code></td>
<td>
<p>a <code>"gList"</code> object. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>childrenvp</code></td>
<td>
<p>a <code><a href="#viewport">viewport</a></code> object (or <code>NULL</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gp</code></td>
<td>
<p>A <code>"gpar"</code> object, typically the output
from a call to the function <code><a href="#gpar">gpar</a></code>.  This is basically
a list of graphical parameter settings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vp</code></td>
<td>
<p>a <code><a href="#viewport">viewport</a></code> object (or <code>NULL</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cl</code></td>
<td>
<p>string giving the class attribute for the new class.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gTree</code></td>
<td>
<p>a <code>"gTree"</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p> An <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> object. </p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>These functions can be used to create a basic <code>"grob"</code>,
<code>"gTree"</code>, or <code>"gList"</code> object, or a new class derived from
one of these.
</p>
<p>A grid graphical object (grob) is a description of a graphical
item.  These basic classes provide default behaviour for
validating, drawing,
and modifying graphical objects.  Both <code>grob()</code> and
<code>gTree()</code> call the function <code><a href="#validDetails">validDetails</a></code> to check
that the object returned is internally coherent.
</p>
<p>A <code>"gTree"</code> can have other grobs as children;  when a gTree is drawn, it
draws all of its children.  Before drawing its children, a gTree
pushes its <code>childrenvp</code> slot and then navigates back up (calls
<code><a href="#viewports">upViewport</a></code>) so that the children can specify their location
within the <code>childrenvp</code> via a <code><a href="#vpPath">vpPath</a></code>.
</p>
<p>Grob names need not be unique in general, but all children of a
gTree must have different names.
A grob name can be any string, though it is not
advisable to use the <code><a href="#gPath">gPath</a></code> separator (currently
<code>::</code>) in grob names.
</p>
<p>The function <code>childNames</code> returns the names of the grobs
which are children of a gTree.
</p>
<p>All grid primitives (<code><a href="#grid.lines">grid.lines</a></code>, <code>grid.rect</code>, ...)
and some higher-level grid components (e.g., <code><a href="#grid.xaxis">grid.xaxis</a></code>
and <code>grid.yaxis</code>) are derived from these classes.
</p>
<p><code>grobTree</code> is just a convenient wrapper for <code>gTree</code>
when the only components of the gTree are grobs (so all
unnamed arguments become children of the gTree).
</p>
<p>The <code>grid.grob</code> function is defunct.
</p>


<h3>Value</h3>

<p>An <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> object of class <code>"grob"</code>, a <b>gr</b>aphical <b>ob</b>ject.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell</p>


<h3>See Also</h3>

<p><code><a href="#grid.draw">grid.draw</a></code>,
<code><a href="#grid.edit">grid.edit</a></code>,
<code><a href="#grid.get">grid.get</a></code>.
</p>

<hr>
</div>
<div class="container manual-page" id="grid.group">

<a href="#grid.group" class="help-page-title"><h2> Draw a Group </h2></a>

<h3>Description</h3>

<p>These functions define and draw one or more <dfn>groups</dfn>, where
a group is a grob that is drawn in isolation before being
combined with the main image.  The concept of groups
allows for compositing operators, object reuse, and
affine transformations (see the Details section).
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">groupGrob<span class="token punctuation">(</span>src<span class="token punctuation">,</span> op <span class="token operator">=</span> <span class="token string">"over"</span><span class="token punctuation">,</span> dst <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> coords <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span>
          name <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> vp<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">)</span> 
grid.group<span class="token punctuation">(</span>src<span class="token punctuation">,</span> op <span class="token operator">=</span> <span class="token string">"over"</span><span class="token punctuation">,</span> dst <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> coords <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span>
           name <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> vp<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">)</span>

defineGrob<span class="token punctuation">(</span>src<span class="token punctuation">,</span> op <span class="token operator">=</span> <span class="token string">"over"</span><span class="token punctuation">,</span> dst <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> coords <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span>
           name <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> vp<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">)</span> 
grid.define<span class="token punctuation">(</span>src<span class="token punctuation">,</span> op <span class="token operator">=</span> <span class="token string">"over"</span><span class="token punctuation">,</span> dst <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> coords <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span>
            name <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> vp<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">)</span>

useGrob<span class="token punctuation">(</span>group<span class="token punctuation">,</span> transform<span class="token operator">=</span>viewportTransform<span class="token punctuation">,</span>
        name<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">,</span> gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> vp<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">)</span> 

grid.use<span class="token punctuation">(</span>group<span class="token punctuation">,</span> transform<span class="token operator">=</span>viewportTransform<span class="token punctuation">,</span>
         name<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">,</span> gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> vp<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>src</code></td>
<td>
<p>A grob.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>op</code></td>
<td>
<p>The name of a compositing operator (see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dst</code></td>
<td>
<p>A grob.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coords</code></td>
<td>
<p>A logical indicating whether grob coordinates should be
calculated for the group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>A character identified referring to the name of a defined group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transform</code></td>
<td>
<p>A function that returns an affine transformation
matrix; see <code><a href="#viewportTransform">viewportTransform</a></code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p> A character identifier. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gp</code></td>
<td>
<p>An object of class <code>"gpar"</code>, typically the output
from a call to the function <code><a href="#gpar">gpar</a></code>.  This is basically
a list of graphical parameter settings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vp</code></td>
<td>
<p>A Grid viewport object (or NULL).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>In the simplest usage, we can use <code>grid.group()</code> to
specify a grob to be drawn in isolation before being combined
with the main image.  This can be different from normal drawing if,
for example, the grob draws more than one shape and there
is a mask currently in effect.
</p>
<p>Another possible use of <code>grid.group()</code> is to specify
both <code>src</code> and <code>dst</code> and combine them
using a compositing operator other than the default
<code>"over"</code>, before combining the result with the main image.
For example, if we use the <code>"clear"</code> operator then <code>dst</code>
is only drawn where it is NOT overlapped by <code>src</code>.
</p>
<p>It is also possible to break the process into two steps by
first using <code>grid.define()</code> to define a group and
then <code>grid.use()</code> to draw the group.  This allows for
reuse of a group (define the group once and use it several times).
</p>
<p>If a group is defined in one viewport and used in a different
viewport, an implicit transformation is applied.  This could
be a simple transformation (if the viewports are in different
locations, but are the same size),
or it could be more complex if the viewports are also different
sizes or at different orientations.
</p>
<p><strong>NOTE:</strong> transformations occur on the graphics device
so affect all aspects of drawing.  For example, text
and line widths are transformed as well as locations.
</p>
<p>See <code><a href="#viewportTransform">viewportTransform</a></code> for more information about
transformations and how to customise them.
</p>
<p>Not all graphics devices support these functions: for example
<code>xfig</code> and <code>pictex</code> do not.  For devices that do
provide support, that support may only be partial (e.g., the
Cairo-based devices support more compositing operators than
the <code>pdf()</code> device).
</p>


<h3>Value</h3>

<p>A grob object.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell</p>


<h3>See Also</h3>

<p><a href="#Grid">Grid</a>
</p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r"><span class="token comment">## NOTE: on devices without support for groups (or masks or patterns),</span><span class="token comment">##       there will only be two overlapping opaque circles </span>
grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
pat <span class="token operator">&lt;-</span> pattern<span class="token punctuation">(</span>rasterGrob<span class="token punctuation">(</span>matrix<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token number">.5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> nrow<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                          width<span class="token operator">=</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"cm"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                          height<span class="token operator">=</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"cm"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                          interpolate<span class="token operator">=</span><span class="token boolean">FALSE</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
               width<span class="token operator">=</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"cm"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> height<span class="token operator">=</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"cm"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
               extend<span class="token operator">=</span><span class="token string">"repeat"</span><span class="token punctuation">)</span>
grid.rect<span class="token punctuation">(</span>gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token keyword">NA</span><span class="token punctuation">,</span> fill<span class="token operator">=</span>pat<span class="token punctuation">)</span><span class="token punctuation">)</span>
mask <span class="token operator">&lt;-</span> rectGrob<span class="token punctuation">(</span>gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token keyword">NA</span><span class="token punctuation">,</span> fill<span class="token operator">=</span>rgb<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>mask<span class="token operator">=</span>mask<span class="token punctuation">)</span><span class="token punctuation">)</span>
pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>y<span class="token operator">=</span><span class="token number">.5</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">.5</span><span class="token punctuation">,</span> just<span class="token operator">=</span><span class="token string">"bottom"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
grid.circle<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">2</span><span class="token operator">/</span><span class="token number">3</span><span class="token punctuation">,</span> r<span class="token operator">=</span><span class="token number">.45</span><span class="token punctuation">,</span> gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>fill<span class="token operator">=</span><span class="token number">2</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
popViewport<span class="token punctuation">(</span><span class="token punctuation">)</span>
pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>y<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">.5</span><span class="token punctuation">,</span> just<span class="token operator">=</span><span class="token string">"bottom"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
grid.group<span class="token punctuation">(</span>circleGrob<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">2</span><span class="token operator">/</span><span class="token number">3</span><span class="token punctuation">,</span> r<span class="token operator">=</span><span class="token number">.45</span><span class="token punctuation">,</span> gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>fill<span class="token operator">=</span><span class="token number">2</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
popViewport<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="grid.layout">

<a href="#grid.layout" class="help-page-title"><h2>Create a Grid Layout</h2></a>

<h3>Description</h3>

<p>This function returns a Grid layout, which describes a subdivision
of a rectangular region.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">grid.layout<span class="token punctuation">(</span>nrow <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> ncol <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
        widths <span class="token operator">=</span> unit<span class="token punctuation">(</span>rep_len<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> ncol<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"null"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        heights <span class="token operator">=</span> unit<span class="token punctuation">(</span>rep_len<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> nrow<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"null"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        default.units <span class="token operator">=</span> <span class="token string">"null"</span><span class="token punctuation">,</span> respect <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span>
        just<span class="token operator">=</span><span class="token string">"centre"</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>nrow</code></td>
<td>
<p>An integer describing the number of rows in the layout.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncol</code></td>
<td>
<p>An integer describing the number of columns in the layout.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>widths</code></td>
<td>
<p>A numeric vector or unit object
describing the widths of the columns
in the layout.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>heights</code></td>
<td>
<p>A numeric vector or unit object
describing the heights of the rows
in the layout.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>default.units</code></td>
<td>
<p>A string indicating the default units to use
if <code>widths</code> or <code>heights</code> are only given as numeric vectors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>respect</code></td>
<td>
<p>A logical value or a numeric matrix.
If a logical, this indicates whether
row heights and column widths should respect each other.
If a matrix, non-zero values indicate that the corresponding
row and column should be respected (see examples below).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>just</code></td>
<td>
<p>A string or numeric
vector specifying how the
layout should be
justified if it is not the same size as its parent viewport.
If there are two values, the first
value specifies horizontal justification and the second value specifies
vertical justification.  Possible string values are: <code>"left"</code>,
<code>"right"</code>, <code>"centre"</code>, <code>"center"</code>, <code>"bottom"</code>,
and <code>"top"</code>.  For numeric values, 0 means left alignment
and 1 means right alignment. NOTE that in this context,
<code>"left"</code>, for example, means align the left
edge of the left-most layout column with the left edge of the
parent viewport.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The unit objects given for the <code>widths</code> and <code>heights</code>
of a layout may use a special <code>units</code> that only has
meaning for layouts.  This is the <code>"null"</code> unit, which
indicates what relative fraction of the available width/height the
column/row occupies.  See the reference for a better description
of relative widths and heights in layouts.
</p>


<h3>Value</h3>

<p>A Grid layout object.
</p>


<h3>WARNING</h3>

<p>This function must NOT be confused with the base R graphics function
<code>layout</code>.  In particular, do not use <code>layout</code> in
combination with Grid graphics.  The documentation for
<code>layout</code> may provide some useful information and this
function should behave identically in comparable situations.  The
<code>grid.layout</code>
function has <em>added</em> the ability to specify a broader range
of units for row heights and column widths, and allows for nested
layouts (see <code>viewport</code>).
</p>


<h3>Author(s)</h3>

<p>Paul Murrell</p>


<h3>References</h3>

<p>Murrell, P. R. (1999).
Layouts: A Mechanism for Arranging Plots on a Page.
<em>Journal of Computational and Graphical Statistics</em>, <b>8</b>,
121134.
<a href="https://doi.org/10.2307/1390924" target="_blank">doi:10.2307/1390924</a>.
</p>


<h3>See Also</h3>

<p><a href="#Grid">Grid</a>,
<code><a href="#grid.show.layout">grid.show.layout</a></code>,
<code><a href="#viewport">viewport</a></code>,
<code><a href="graphics.html#layout">layout</a></code></p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r"><span class="token comment">## A variety of layouts (some a bit mid-bending ...)</span>
layout.torture<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">## Demonstration of layout justification</span>
grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
testlay <span class="token operator">&lt;-</span> <span class="token keyword">function</span><span class="token punctuation">(</span>just<span class="token operator">=</span><span class="token string">"centre"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>layout<span class="token operator">=</span>grid.layout<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> widths<span class="token operator">=</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                          heights<span class="token operator">=</span>unit<span class="token punctuation">(</span><span class="token number">0.25</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                          just<span class="token operator">=</span>just<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>layout.pos.col<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> layout.pos.row<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  grid.rect<span class="token punctuation">(</span><span class="token punctuation">)</span>
  grid.text<span class="token punctuation">(</span>paste<span class="token punctuation">(</span>just<span class="token punctuation">,</span> collapse<span class="token operator">=</span><span class="token string">"-"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  popViewport<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
testlay<span class="token punctuation">(</span><span class="token punctuation">)</span>
testlay<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token string">"left"</span><span class="token punctuation">,</span> <span class="token string">"top"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
testlay<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token string">"right"</span><span class="token punctuation">,</span> <span class="token string">"top"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
testlay<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token string">"right"</span><span class="token punctuation">,</span> <span class="token string">"bottom"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
testlay<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token string">"left"</span><span class="token punctuation">,</span> <span class="token string">"bottom"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
testlay<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token string">"left"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
testlay<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token string">"right"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
testlay<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token string">"bottom"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
testlay<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token string">"top"</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="grid.lines">

<a href="#grid.lines" class="help-page-title"><h2>Draw Lines in a Grid Viewport</h2></a>

<h3>Description</h3>

<p>These functions create and draw a series of lines.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">grid.lines<span class="token punctuation">(</span>x <span class="token operator">=</span> unit<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          y <span class="token operator">=</span> unit<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          default.units <span class="token operator">=</span> <span class="token string">"npc"</span><span class="token punctuation">,</span>
          arrow <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> name <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>
          gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> draw <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span> vp <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">)</span>
linesGrob<span class="token punctuation">(</span>x <span class="token operator">=</span> unit<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          y <span class="token operator">=</span> unit<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          default.units <span class="token operator">=</span> <span class="token string">"npc"</span><span class="token punctuation">,</span>
          arrow <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> name <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>
          gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> vp <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">)</span>
grid.polyline<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">)</span>
polylineGrob<span class="token punctuation">(</span>x <span class="token operator">=</span> unit<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
             y <span class="token operator">=</span> unit<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
             id<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">,</span> id.lengths<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">,</span>
             default.units <span class="token operator">=</span> <span class="token string">"npc"</span><span class="token punctuation">,</span>
             arrow <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> name <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>
             gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> vp <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A numeric vector or unit object specifying x-values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>A numeric vector or unit object specifying y-values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>default.units</code></td>
<td>
<p>A string indicating the default units to use
if <code>x</code> or <code>y</code> are only given as numeric vectors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>arrow</code></td>
<td>
<p>A list describing arrow heads to place at either end
of the line, as produced by the <code>arrow</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p> A character identifier. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gp</code></td>
<td>
<p>An object of class <code>"gpar"</code>, typically the output
from a call to the function <code><a href="#gpar">gpar</a></code>.  This is basically
a list of graphical parameter settings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>draw</code></td>
<td>
<p>A logical value indicating whether graphics output
should be produced.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vp</code></td>
<td>
<p>A Grid viewport object (or NULL).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>A numeric vector used to separate locations in <code>x</code> and
<code>y</code> into multiple lines.  All locations with the same
<code>id</code> belong to the same line.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id.lengths</code></td>
<td>
<p>A numeric vector used to separate locations in <code>x</code> and
<code>y</code> into multiple lines.  Specifies consecutive blocks of
locations which make up separate lines.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments passed to <code>polylineGrob</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The first two functions create a lines grob (a graphical object describing
lines), and <code>grid.lines</code>
draws the lines (if <code>draw</code> is <code>TRUE</code>).
</p>
<p>The second two functions create or draw a polyline grob,
which is just like a lines grob, except that there can be
multiple distinct lines drawn.
</p>


<h3>Value</h3>

<p>A lines grob or a polyline grob.
<code>grid.lines</code> returns a lines grob invisibly.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell</p>


<h3>See Also</h3>

<p><a href="#Grid">Grid</a>,
<code><a href="#viewport">viewport</a></code>,
<code><a href="#arrow">arrow</a></code>
</p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r">grid.lines<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># Using id (NOTE: locations are not in consecutive blocks)</span>
grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
grid.polyline<span class="token punctuation">(</span>x<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token operator">:</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">10</span><span class="token punctuation">,</span> rep<span class="token punctuation">(</span><span class="token number">.5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">10</span><span class="token operator">:</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">10</span><span class="token punctuation">,</span> rep<span class="token punctuation">(</span><span class="token number">.5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
             y<span class="token operator">=</span>c<span class="token punctuation">(</span>rep<span class="token punctuation">(</span><span class="token number">.5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">10</span><span class="token operator">:</span><span class="token number">6</span><span class="token operator">/</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> rep<span class="token punctuation">(</span><span class="token number">.5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token operator">:</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
             id<span class="token operator">=</span>rep<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
             gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">5</span><span class="token punctuation">,</span> lwd<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># Using id.lengths</span>
grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
grid.polyline<span class="token punctuation">(</span>x<span class="token operator">=</span>outer<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">.5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token operator">:</span><span class="token number">1</span><span class="token operator">/</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
             y<span class="token operator">=</span>outer<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token number">.5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">.5</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token operator">:</span><span class="token number">1</span><span class="token operator">/</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
             id.lengths<span class="token operator">=</span>rep<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
             gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">5</span><span class="token punctuation">,</span> lwd<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="grid.locator">

<a href="#grid.locator" class="help-page-title"><h2> Capture a Mouse Click </h2></a>

<h3>Description</h3>

<p>Allows the user to click the mouse once within the current
graphics
device and returns the location of the mouse click within the
current viewport, in the specified coordinate system.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">grid.locator<span class="token punctuation">(</span>unit <span class="token operator">=</span> <span class="token string">"native"</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>unit</code></td>
<td>
<p> The coordinate system in which to return the location
of the mouse click.
See the <code><a href="#unit">unit</a></code> function for valid coordinate systems.</p>
</td>
</tr></table>
<h3>Details</h3>

<p>This function is modal (like the graphics package
function <code>locator</code>) so
the command line and graphics drawing is blocked until
the use has clicked the mouse  in the current device.
</p>


<h3>Value</h3>

<p>A unit object representing the location of the mouse click within the
current viewport, in the specified coordinate system.
</p>
<p>If the user did not click mouse button 1, the function
(invisibly) returns <code>NULL</code>.
</p>


<h3>Author(s)</h3>

<p> Paul Murrell </p>


<h3>See Also</h3>

 <p><code><a href="#viewport">viewport</a></code>, <code><a href="#unit">unit</a></code>,
<code><a href="graphics.html#locator">locator</a></code> in package <span class="pkg">graphics</span>, and for an application
see <code><a href="lattice.html#interaction">trellis.focus</a></code> and
<code><a href="lattice.html#interaction">panel.identify</a></code> in package
<a href="https://CRAN.R-project.org/package=lattice" target="_blank"><span class="pkg">lattice</span></a>.
</p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r"><span class="token keyword">if</span><span class="token punctuation">(</span>dev.interactive<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">## Need to write a more sophisticated unit as.character method</span>
  unittrim <span class="token operator">&lt;-</span> <span class="token keyword">function</span><span class="token punctuation">(</span>unit<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    sub<span class="token punctuation">(</span><span class="token string">"^([0-9]+|[0-9]+[.][0-9])[0-9]*"</span><span class="token punctuation">,</span> <span class="token string">"\\1"</span><span class="token punctuation">,</span> as.character<span class="token punctuation">(</span>unit<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  do.click <span class="token operator">&lt;-</span> <span class="token keyword">function</span><span class="token punctuation">(</span>unit<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    click.locn <span class="token operator">&lt;-</span> grid.locator<span class="token punctuation">(</span>unit<span class="token punctuation">)</span>
    grid.segments<span class="token punctuation">(</span>unit.c<span class="token punctuation">(</span>click.locn<span class="token operator">$</span>x<span class="token punctuation">,</span> unit<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                  unit.c<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> click.locn<span class="token operator">$</span>y<span class="token punctuation">)</span><span class="token punctuation">,</span>
                  click.locn<span class="token operator">$</span>x<span class="token punctuation">,</span> click.locn<span class="token operator">$</span>y<span class="token punctuation">,</span>
                  gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>lty<span class="token operator">=</span><span class="token string">"dashed"</span><span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"grey"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    grid.points<span class="token punctuation">(</span>click.locn<span class="token operator">$</span>x<span class="token punctuation">,</span> click.locn<span class="token operator">$</span>y<span class="token punctuation">,</span> pch<span class="token operator">=</span><span class="token number">16</span><span class="token punctuation">,</span> size<span class="token operator">=</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"mm"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    clickx <span class="token operator">&lt;-</span> unittrim<span class="token punctuation">(</span>click.locn<span class="token operator">$</span>x<span class="token punctuation">)</span>
    clicky <span class="token operator">&lt;-</span> unittrim<span class="token punctuation">(</span>click.locn<span class="token operator">$</span>y<span class="token punctuation">)</span>
    grid.text<span class="token punctuation">(</span>paste0<span class="token punctuation">(</span><span class="token string">"("</span><span class="token punctuation">,</span> clickx<span class="token punctuation">,</span> <span class="token string">", "</span><span class="token punctuation">,</span> clicky<span class="token punctuation">,</span> <span class="token string">")"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              click.locn<span class="token operator">$</span>x <span class="token operator">+</span> unit<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"mm"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> click.locn<span class="token operator">$</span>y<span class="token punctuation">,</span>
              just<span class="token operator">=</span><span class="token string">"left"</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># (empty slate)</span>
  <span class="token comment">## device</span>
  do.click<span class="token punctuation">(</span><span class="token string">"inches"</span><span class="token punctuation">)</span>
  Sys.sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

  pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>width<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">,</span>
                        xscale<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span> yscale<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  grid.rect<span class="token punctuation">(</span><span class="token punctuation">)</span>
  grid.xaxis<span class="token punctuation">(</span><span class="token punctuation">)</span>
  grid.yaxis<span class="token punctuation">(</span><span class="token punctuation">)</span>
  do.click<span class="token punctuation">(</span><span class="token string">"native"</span><span class="token punctuation">)</span>
  popViewport<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="grid.ls">

<a href="#grid.ls" class="help-page-title"><h2> List the names of grobs or viewports </h2></a>

<h3>Description</h3>

<p>Return a listing of the names of grobs or viewports.
</p>
<p>This is a generic function with methods for grobs (including
gTrees) and viewports (including vpTrees).
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">grid.ls<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">,</span> grobs<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">,</span> viewports<span class="token operator">=</span><span class="token boolean">FALSE</span><span class="token punctuation">,</span> fullNames<span class="token operator">=</span><span class="token boolean">FALSE</span><span class="token punctuation">,</span>
        recursive<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">,</span> print<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">,</span> flatten<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">,</span> <span class="token ellipsis">...</span><span class="token punctuation">)</span>

nestedListing<span class="token punctuation">(</span>x<span class="token punctuation">,</span> gindent<span class="token operator">=</span><span class="token string">"  "</span><span class="token punctuation">,</span> vpindent<span class="token operator">=</span>gindent<span class="token punctuation">)</span>
pathListing<span class="token punctuation">(</span>x<span class="token punctuation">,</span> gvpSep<span class="token operator">=</span><span class="token string">" | "</span><span class="token punctuation">,</span> gAlign<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span>
grobPathListing<span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token ellipsis">...</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A grob or viewport or <code>NULL</code>.  If <code>NULL</code>, the current
grid display list is listed.
</p>
<p>For print functions, this should be the result of a call to
<code>grid.ls</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grobs</code></td>
<td>
<p>A logical value indicating whether to list grobs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>viewports</code></td>
<td>
<p>A logical value indicating whether to list
viewports.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fullNames</code></td>
<td>
<p>A logical value indicating whether to embellish
object names with information about the object type.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>recursive</code></td>
<td>
<p>A logical value indicating whether recursive
structures should also list their children.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>print</code></td>
<td>
<p>A logical indicating whether to print the listing
or a function that will print the listing.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>flatten</code></td>
<td>
<p>A logical value indicating whether to flatten
the listing.  Otherwise a more complex hierarchical object is
produced.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gindent</code></td>
<td>
<p>The indent used to show nesting in the output for
grobs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vpindent</code></td>
<td>
<p>The indent used to show nesting in the output for
viewports.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gvpSep</code></td>
<td>
<p>The string used to separate viewport paths from grob
paths.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gAlign</code></td>
<td>
<p>Logical indicating whether to align the left hand
edge of all grob paths.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments passed to the <code>print</code> function.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If the argument <code>x</code> is <code>NULL</code>, the current contents
of the grid display list are listed (both viewports and grobs).
In other words, all objects representing the current scene
are listed.
</p>
<p>Otherwise, <code>x</code> should be a grob or a viewport.
</p>
<p>The default behaviour of this function is to print information
about the grobs in the current scene.  It is also possible to
add information about the viewports in the scene.  By default,
the listing is recursive, so all children of gTrees and all
nested viewports are reported.
</p>
<p>The format of the information can be controlled via the <code>print</code>
argument, which can be given a function to perform the formatting.
The <code>nestedListing</code> function produces a line per grob or
viewport, with indenting used to show nesting.  The <code>pathListing</code>
function produces a line per grob or viewport, with viewport paths
and grob paths used to show nesting.  The <code>grobPathListing</code>
is a simple derivation that only shows lines for grobs.  The user
can define new functions.
</p>


<h3>Value</h3>

<p>The result of this function is either a <code>"gridFlatListing"</code>
object (if <code>flatten</code> is <code>TRUE</code>) or a <code>"gridListing"</code>
object.
</p>
<p>The former is a simple (flat) list of vectors.  This is convenient,
for example,
for working programmatically with the list of grob and viewport
names, or for writing a new display function for the listing.
</p>
<p>The latter is a more complex hierarchical object (list of lists),
but it does contain more detailed information so may be of use for
more advanced customisations.
</p>


<h3>Author(s)</h3>

<p> Paul Murrell </p>


<h3>See Also</h3>

<p><code><a href="#grid.grob">grob</a></code>
<code><a href="#viewport">viewport</a></code>
</p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r"><span class="token comment"># A gTree, called "parent", with childrenvp vpTree (vp2 within vp1)</span><span class="token comment"># and child grob, called "child", with vp vpPath (down to vp2)</span>
sampleGTree <span class="token operator">&lt;-</span> gTree<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"parent"</span><span class="token punctuation">,</span>
                     children<span class="token operator">=</span>gList<span class="token punctuation">(</span>grob<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"child"</span><span class="token punctuation">,</span> vp<span class="token operator">=</span><span class="token string">"vp1::vp2"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                     childrenvp<span class="token operator">=</span>vpTree<span class="token punctuation">(</span>parent<span class="token operator">=</span>viewport<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"vp1"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                                       children<span class="token operator">=</span>vpList<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"vp2"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
grid.ls<span class="token punctuation">(</span>sampleGTree<span class="token punctuation">)</span>
<span class="token comment"># Show viewports too</span>
grid.ls<span class="token punctuation">(</span>sampleGTree<span class="token punctuation">,</span> viewports<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span>
<span class="token comment"># Only show viewports</span>
grid.ls<span class="token punctuation">(</span>sampleGTree<span class="token punctuation">,</span> viewports<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">,</span> grobs<span class="token operator">=</span><span class="token boolean">FALSE</span><span class="token punctuation">)</span>
<span class="token comment"># Alternate displays</span>
<span class="token comment"># nested listing, custom indent</span>
grid.ls<span class="token punctuation">(</span>sampleGTree<span class="token punctuation">,</span> viewports<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">,</span> print<span class="token operator">=</span>nestedListing<span class="token punctuation">,</span> gindent<span class="token operator">=</span><span class="token string">"--"</span><span class="token punctuation">)</span>
<span class="token comment"># path listing</span>
grid.ls<span class="token punctuation">(</span>sampleGTree<span class="token punctuation">,</span> viewports<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">,</span> print<span class="token operator">=</span>pathListing<span class="token punctuation">)</span>
<span class="token comment"># path listing, without grobs aligned</span>
grid.ls<span class="token punctuation">(</span>sampleGTree<span class="token punctuation">,</span> viewports<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">,</span> print<span class="token operator">=</span>pathListing<span class="token punctuation">,</span> gAlign<span class="token operator">=</span><span class="token boolean">FALSE</span><span class="token punctuation">)</span>
<span class="token comment"># grob path listing</span>
grid.ls<span class="token punctuation">(</span>sampleGTree<span class="token punctuation">,</span> viewports<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">,</span> print<span class="token operator">=</span>grobPathListing<span class="token punctuation">)</span>
<span class="token comment"># path listing, grobs only</span>
grid.ls<span class="token punctuation">(</span>sampleGTree<span class="token punctuation">,</span> print<span class="token operator">=</span>pathListing<span class="token punctuation">)</span>
<span class="token comment"># path listing, viewports only</span>
grid.ls<span class="token punctuation">(</span>sampleGTree<span class="token punctuation">,</span> viewports<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">,</span> grobs<span class="token operator">=</span><span class="token boolean">FALSE</span><span class="token punctuation">,</span> print<span class="token operator">=</span>pathListing<span class="token punctuation">)</span>
<span class="token comment"># raw flat listing</span>
str<span class="token punctuation">(</span>grid.ls<span class="token punctuation">(</span>sampleGTree<span class="token punctuation">,</span> viewports<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">,</span> print<span class="token operator">=</span><span class="token boolean">FALSE</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="grid.move.to">

<a href="#grid.move.to" class="help-page-title"><h2> Move or Draw to a Specified Position </h2></a>

<h3>Description</h3>

<p>Grid has the notion of a current location.  These functions
sets that location.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">grid.move.to<span class="token punctuation">(</span>x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> default.units <span class="token operator">=</span> <span class="token string">"npc"</span><span class="token punctuation">,</span> name <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>
             draw <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span> vp <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">)</span>

moveToGrob<span class="token punctuation">(</span>x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> default.units <span class="token operator">=</span> <span class="token string">"npc"</span><span class="token punctuation">,</span> name <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>
           vp <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">)</span>

grid.line.to<span class="token punctuation">(</span>x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> default.units <span class="token operator">=</span> <span class="token string">"npc"</span><span class="token punctuation">,</span>
             arrow <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> name <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>
             gp <span class="token operator">=</span> gpar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> draw <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span> vp <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">)</span>

lineToGrob<span class="token punctuation">(</span>x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> default.units <span class="token operator">=</span> <span class="token string">"npc"</span><span class="token punctuation">,</span> arrow <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>
           name <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> gp <span class="token operator">=</span> gpar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> vp <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A numeric value or a unit object specifying an x-value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>A numeric value or a unit object specifying a y-value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>default.units</code></td>
<td>
<p>A string indicating the default units to use
if <code>x</code> or <code>y</code> are only given as numeric values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>arrow</code></td>
<td>
<p>A list describing arrow heads to place at either end
of the line, as produced by the <code>arrow</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p> A character identifier. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>draw</code></td>
<td>
<p>A logical value indicating whether graphics output
should be produced.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gp</code></td>
<td>
<p>An object of class <code>"gpar"</code>, typically the output
from a call to the function <code><a href="#gpar">gpar</a></code>.  This is basically
a list of graphical parameter settings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vp</code></td>
<td>
<p>A Grid viewport object (or NULL).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Both functions create a move.to/line.to grob (a graphical object describing a
move-to/line-to), but only <code>grid.move.to/line.to()</code>
draws the move.to/line.to (and then only if <code>draw</code> is <code>TRUE</code>).
</p>


<h3>Value</h3>

<p>A move.to/line.to grob.
<code>grid.move.to/line.to()</code> returns the value invisibly.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell</p>


<h3>See Also</h3>

<p><a href="#Grid">Grid</a>,
<code><a href="#viewport">viewport</a></code>,
<code><a href="#arrow">arrow</a></code>
</p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r">grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
grid.move.to<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span>
grid.line.to<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
grid.line.to<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token number">0.25</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">0.25</span><span class="token punctuation">,</span> just<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token string">"left"</span><span class="token punctuation">,</span> <span class="token string">"bottom"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
grid.rect<span class="token punctuation">(</span><span class="token punctuation">)</span>
grid.grill<span class="token punctuation">(</span><span class="token punctuation">)</span>
grid.line.to<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span>
popViewport<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="grid.newpage">

<a href="#grid.newpage" class="help-page-title"><h2>Move to a New Page on a Grid Device</h2></a>

<h3>Description</h3>

<p>This function erases the current device or moves to a new page.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">grid.newpage<span class="token punctuation">(</span>recording <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span> clearGroups <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>recording</code></td>
<td>
<p>A logical value to indicate whether the new-page
operation should be saved onto the Grid display list.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clearGroups</code></td>
<td>
<p>A logical value indicating whether any groups
that have been defined on the current page should be
released (see <code><a href="#grid.group">grid.group</a></code>).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The new page is painted with the fill colour
(<code><a href="#gpar">gpar</a>("fill")</code>), which is often transparent.  For devices
with a <em>canvas</em> colour (the on-screen devices <code>X11</code>,
<code>windows</code> and <code>quartz</code>), the page is first painted with the
canvas colour and then the background colour.
</p>
<p>There are two hooks called <code>"before.grid.newpage"</code> and
<code>"grid.newpage"</code> (see <code><a href="base.html#userhooks">setHook</a></code>).  The latter
is used in the testing code to annotate the new page.  The hook
function(s) are called with no argument.  (If the value is a character
string, <code>get</code> is called on it from within the <span class="pkg">grid</span>
namespace.)
</p>


<h3>Value</h3>

<p>None.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell</p>


<h3>See Also</h3>

<p><a href="#Grid">Grid</a>
</p>

<hr>
</div>
<div class="container manual-page" id="grid.null">

<a href="#grid.null" class="help-page-title"><h2> Null Graphical Object </h2></a>

<h3>Description</h3>

<p>These functions create a NULL graphical object,
which has zero width, zero height, and draw nothing.
It can be used as a place-holder or as an invisible
reference point for other drawing.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">nullGrob<span class="token punctuation">(</span>x <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> y <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
         default.units <span class="token operator">=</span> <span class="token string">"npc"</span><span class="token punctuation">,</span>
         name <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> vp <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">)</span>
grid.null<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A numeric vector or unit object specifying x-location.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>A numeric vector or unit object specifying y-location.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>default.units</code></td>
<td>
<p>A string indicating the default units to use
if <code>x</code>, <code>y</code>, <code>width</code>, or <code>height</code>
are only given as numeric vectors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p> A character identifier. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vp</code></td>
<td>
<p>A Grid viewport object (or NULL).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments passed to <code>nullGrob()</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A null grob.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell</p>


<h3>See Also</h3>

<p><a href="#Grid">Grid</a>,
<code><a href="#viewport">viewport</a></code>
</p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r">grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
grid.null<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"ref"</span><span class="token punctuation">)</span>
grid.rect<span class="token punctuation">(</span>height<span class="token operator">=</span>grobHeight<span class="token punctuation">(</span><span class="token string">"ref"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
grid.segments<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> grobX<span class="token punctuation">(</span><span class="token string">"ref"</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> grobY<span class="token punctuation">(</span><span class="token string">"ref"</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="grid.pack">

<a href="#grid.pack" class="help-page-title"><h2> Pack an Object within a Frame </h2></a>

<h3>Description</h3>

<p>these functions, together with <code>grid.frame</code> and <code>frameGrob</code>
are part of a
GUI-builder-like interface to constructing graphical images.
The idea is that you create a frame with <code>grid.frame</code> or
<code>frameGrob</code> then
use these functions to pack objects into the frame.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">grid.pack<span class="token punctuation">(</span>gPath<span class="token punctuation">,</span> grob<span class="token punctuation">,</span> redraw <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span> side <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>
          row <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> row.before <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> row.after <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>
          col <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> col.before <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> col.after <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>
          width <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> height <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>
          force.width <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> force.height <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> border <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>
          dynamic <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">)</span>

packGrob<span class="token punctuation">(</span>frame<span class="token punctuation">,</span> grob<span class="token punctuation">,</span> side <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>
          row <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> row.before <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> row.after <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>
          col <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> col.before <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> col.after <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>
          width <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> height <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>
          force.width <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> force.height <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> border <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>
          dynamic <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>gPath</code></td>
<td>
<p> A gPath object, which specifies a frame on the
display list.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>frame</code></td>
<td>
<p> An object of class <code>frame</code>, typically the output
from a call to <code>grid.frame</code>. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grob</code></td>
<td>
<p> An object of class <code>grob</code>.  The object to be
packed. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>redraw</code></td>
<td>
<p> A boolean indicating whether the output should be updated. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>side</code></td>
<td>
<p> One of <code>"left"</code>, <code>"top"</code>, <code>"right"</code>,
<code>"bottom"</code> to indicate which side to pack the object on. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>row</code></td>
<td>
<p> Which row to add the object to.  Must be between 1 and
the-number-of-rows-currently-in-the-frame + 1, or <code>NULL</code> in
which case the object occupies all rows. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>row.before</code></td>
<td>
<p> Add the object to a new row just before this row. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>row.after</code></td>
<td>
<p> Add the object to a new row just after this row. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p> Which col to add the object to.  Must be between 1 and
the-number-of-cols-currently-in-the-frame + 1, or <code>NULL</code> in
which case the object occupies all cols.  </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.before</code></td>
<td>
<p>Add the object to a new col just before this col.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.after</code></td>
<td>
<p> Add the object to a new col just after this col. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width</code></td>
<td>
<p> Specifies the width of the column that the object is
added to (rather than allowing the width to be taken from the object). </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>height</code></td>
<td>
<p> Specifies the height of the row that the object is
added to (rather than allowing the height to be taken from the
object). </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>force.width</code></td>
<td>
<p> A logical value indicating whether the width of
the column that the grob is being packed into should be EITHER the
width specified in the call to <code>grid.pack</code> OR the maximum of
that width and the pre-existing width. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>force.height</code></td>
<td>
<p> A logical value indicating whether the height of
the column that the grob is being packed into should be EITHER the
height specified in the call to <code>grid.pack</code> OR the maximum of
that height and the pre-existing height. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>border</code></td>
<td>
<p> A <code>unit</code> object of length 4 indicating the borders
around the object. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dynamic</code></td>
<td>
<p> If the width/height is taken from the grob being
packed, this boolean flag indicates whether the grobwidth/height
unit refers directly to the grob, or uses a gPath to the grob.
In the latter case, changes to the grob will trigger a
recalculation of the width/height.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>packGrob</code> modifies the given frame grob and returns the modified
frame grob.
</p>
<p><code>grid.pack</code> destructively modifies a frame grob on the display
list (and redraws the display list if <code>redraw</code> is <code>TRUE</code>).
</p>
<p>These are (meant to be) very flexible functions.  There are many
different
ways to specify where the new object is to be added relative to the
objects already in the frame.  The function checks that the
specification is not self-contradictory.
</p>
<p>NOTE that the width/height of the row/col that the object is added to
is taken from the object itself unless the <code>width</code>/<code>height</code>
is specified.
</p>


<h3>Value</h3>

<p><code>packGrob</code> returns a frame grob, but <code>grid.pack</code> returns
<code>NULL</code>.
</p>


<h3>Author(s)</h3>

<p> Paul Murrell </p>


<h3>See Also</h3>

<p><code><a href="#grid.frame">grid.frame</a></code>,
<code><a href="#grid.place">grid.place</a></code>,
<code><a href="#grid.edit">grid.edit</a></code>, and <code><a href="#gPath">gPath</a></code>.
</p>

<hr>
</div>
<div class="container manual-page" id="grid.path">

<a href="#grid.path" class="help-page-title"><h2> Draw a Path </h2></a>

<h3>Description</h3>

<p>These functions create and draw one or more paths.
The final point of a path will automatically
be connected to the initial point.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">pathGrob<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span>
         id<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">,</span> id.lengths<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">,</span>
         pathId<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">,</span> pathId.lengths<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">,</span>
         rule<span class="token operator">=</span><span class="token string">"winding"</span><span class="token punctuation">,</span>
         default.units<span class="token operator">=</span><span class="token string">"npc"</span><span class="token punctuation">,</span>
         name<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">,</span> gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> vp<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">)</span>
grid.path<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A numeric vector or unit object specifying x-locations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>A numeric vector or unit object specifying y-locations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>A numeric vector used to separate locations in <code>x</code> and
<code>y</code> into sub-paths.  All locations with the same
<code>id</code> belong to the same sub-path.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id.lengths</code></td>
<td>
<p>A numeric vector used to separate locations in <code>x</code> and
<code>y</code> into sub-paths.  Specifies consecutive blocks of
locations which make up separate sub-paths.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pathId</code></td>
<td>
<p>A numeric vector used to separate locations in <code>x</code> and
<code>y</code> into distinct paths.  All locations with the same
<code>pathId</code> belong to the same path.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pathId.lengths</code></td>
<td>
<p>A numeric vector used to separate locations in <code>x</code> 
and <code>y</code> into paths.  Specifies consecutive blocks of locations which 
make up separate paths.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rule</code></td>
<td>
<p>A character value specifying the fill rule: either
<code>"winding"</code> or <code>"evenodd"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>default.units</code></td>
<td>
<p>A string indicating the default units to use
if <code>x</code> or <code>y</code>
are only given as numeric vectors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p> A character identifier. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gp</code></td>
<td>
<p>An object of class <code>"gpar"</code>, typically the output
from a call to the function <code><a href="#gpar">gpar</a></code>.  This is basically
a list of graphical parameter settings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vp</code></td>
<td>
<p>A Grid viewport object (or NULL).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments passed to <code>pathGrob()</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Both functions create a path grob (a graphical object describing a
path), but only <code>grid.path</code> draws the path (and then only if
<code>draw</code> is <code>TRUE</code>).
</p>
<p>A path is like a polygon except that the former can contain holes, as
interpreted by the fill rule; these fill a region if the path border
encircles it an odd or non-zero number of times, respectively.
</p>
<p>Not all graphics devices support this function: for example
<code>xfig</code> and <code>pictex</code> do not.
</p>


<h3>Value</h3>

<p>A grob object.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell</p>


<h3>See Also</h3>

<p><a href="#Grid">Grid</a>,
<code><a href="#viewport">viewport</a></code>
</p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r">pathSample <span class="token operator">&lt;-</span> <span class="token keyword">function</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> rule<span class="token punctuation">,</span> gp <span class="token operator">=</span> gpar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>is.na<span class="token punctuation">(</span>rule<span class="token punctuation">)</span><span class="token punctuation">)</span>
        grid.path<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> id <span class="token operator">=</span> rep<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span> each <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> gp <span class="token operator">=</span> gp<span class="token punctuation">)</span>
    <span class="token keyword">else</span>
        grid.path<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> id <span class="token operator">=</span> rep<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span> each <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> rule <span class="token operator">=</span> rule<span class="token punctuation">,</span> gp <span class="token operator">=</span> gp<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>is.na<span class="token punctuation">(</span>rule<span class="token punctuation">)</span><span class="token punctuation">)</span>
        grid.text<span class="token punctuation">(</span>paste<span class="token punctuation">(</span><span class="token string">"Rule:"</span><span class="token punctuation">,</span> rule<span class="token punctuation">)</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> just <span class="token operator">=</span> <span class="token string">"bottom"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

pathTriplet <span class="token operator">&lt;-</span> <span class="token keyword">function</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> title<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>height <span class="token operator">=</span> <span class="token number">0.9</span><span class="token punctuation">,</span> layout <span class="token operator">=</span> grid.layout<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                          gp <span class="token operator">=</span> gpar<span class="token punctuation">(</span>cex <span class="token operator">=</span> <span class="token number">.7</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    grid.rect<span class="token punctuation">(</span>y <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> height <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"char"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> just <span class="token operator">=</span> <span class="token string">"top"</span><span class="token punctuation">,</span>
              gp <span class="token operator">=</span> gpar<span class="token punctuation">(</span>col <span class="token operator">=</span> <span class="token keyword">NA</span><span class="token punctuation">,</span> fill <span class="token operator">=</span> <span class="token string">"grey"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    grid.text<span class="token punctuation">(</span>title<span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> just <span class="token operator">=</span> <span class="token string">"top"</span><span class="token punctuation">)</span>
    pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>layout.pos.col <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    pathSample<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> rule <span class="token operator">=</span> <span class="token string">"winding"</span><span class="token punctuation">,</span>
               gp <span class="token operator">=</span> gpar<span class="token punctuation">(</span>fill <span class="token operator">=</span> <span class="token string">"grey"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    popViewport<span class="token punctuation">(</span><span class="token punctuation">)</span>
    pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>layout.pos.col <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    pathSample<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> rule <span class="token operator">=</span> <span class="token string">"evenodd"</span><span class="token punctuation">,</span>
               gp <span class="token operator">=</span> gpar<span class="token punctuation">(</span>fill <span class="token operator">=</span> <span class="token string">"grey"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    popViewport<span class="token punctuation">(</span><span class="token punctuation">)</span>
    pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>layout.pos.col <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    pathSample<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> rule <span class="token operator">=</span> <span class="token keyword">NA</span><span class="token punctuation">)</span>
    popViewport<span class="token punctuation">(</span><span class="token punctuation">)</span>
    popViewport<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

pathTest <span class="token operator">&lt;-</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
    pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>layout <span class="token operator">=</span> grid.layout<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>layout.pos.row <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    pathTriplet<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token number">.1</span><span class="token punctuation">,</span> <span class="token number">.1</span><span class="token punctuation">,</span> <span class="token number">.9</span><span class="token punctuation">,</span> <span class="token number">.9</span><span class="token punctuation">,</span> <span class="token number">.2</span><span class="token punctuation">,</span> <span class="token number">.2</span><span class="token punctuation">,</span> <span class="token number">.8</span><span class="token punctuation">,</span> <span class="token number">.8</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                c<span class="token punctuation">(</span><span class="token number">.1</span><span class="token punctuation">,</span> <span class="token number">.9</span><span class="token punctuation">,</span> <span class="token number">.9</span><span class="token punctuation">,</span> <span class="token number">.1</span><span class="token punctuation">,</span> <span class="token number">.2</span><span class="token punctuation">,</span> <span class="token number">.8</span><span class="token punctuation">,</span> <span class="token number">.8</span><span class="token punctuation">,</span> <span class="token number">.2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token string">"Nested rectangles, both clockwise"</span><span class="token punctuation">)</span>
    popViewport<span class="token punctuation">(</span><span class="token punctuation">)</span>
    pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>layout.pos.row <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    pathTriplet<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token number">.1</span><span class="token punctuation">,</span> <span class="token number">.1</span><span class="token punctuation">,</span> <span class="token number">.9</span><span class="token punctuation">,</span> <span class="token number">.9</span><span class="token punctuation">,</span> <span class="token number">.2</span><span class="token punctuation">,</span> <span class="token number">.8</span><span class="token punctuation">,</span> <span class="token number">.8</span><span class="token punctuation">,</span> <span class="token number">.2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                c<span class="token punctuation">(</span><span class="token number">.1</span><span class="token punctuation">,</span> <span class="token number">.9</span><span class="token punctuation">,</span> <span class="token number">.9</span><span class="token punctuation">,</span> <span class="token number">.1</span><span class="token punctuation">,</span> <span class="token number">.2</span><span class="token punctuation">,</span> <span class="token number">.2</span><span class="token punctuation">,</span> <span class="token number">.8</span><span class="token punctuation">,</span> <span class="token number">.8</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token string">"Nested rectangles, outer clockwise, inner anti-clockwise"</span><span class="token punctuation">)</span>
    popViewport<span class="token punctuation">(</span><span class="token punctuation">)</span>
    pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>layout.pos.row <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    pathTriplet<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token number">.1</span><span class="token punctuation">,</span> <span class="token number">.1</span><span class="token punctuation">,</span> <span class="token number">.4</span><span class="token punctuation">,</span> <span class="token number">.4</span><span class="token punctuation">,</span> <span class="token number">.6</span><span class="token punctuation">,</span> <span class="token number">.9</span><span class="token punctuation">,</span> <span class="token number">.9</span><span class="token punctuation">,</span> <span class="token number">.6</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                c<span class="token punctuation">(</span><span class="token number">.1</span><span class="token punctuation">,</span> <span class="token number">.4</span><span class="token punctuation">,</span> <span class="token number">.4</span><span class="token punctuation">,</span> <span class="token number">.1</span><span class="token punctuation">,</span> <span class="token number">.6</span><span class="token punctuation">,</span> <span class="token number">.6</span><span class="token punctuation">,</span> <span class="token number">.9</span><span class="token punctuation">,</span> <span class="token number">.9</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token string">"Disjoint rectangles"</span><span class="token punctuation">)</span>
    popViewport<span class="token punctuation">(</span><span class="token punctuation">)</span>
    pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>layout.pos.row <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    pathTriplet<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token number">.1</span><span class="token punctuation">,</span> <span class="token number">.1</span><span class="token punctuation">,</span> <span class="token number">.6</span><span class="token punctuation">,</span> <span class="token number">.6</span><span class="token punctuation">,</span> <span class="token number">.4</span><span class="token punctuation">,</span> <span class="token number">.4</span><span class="token punctuation">,</span> <span class="token number">.9</span><span class="token punctuation">,</span> <span class="token number">.9</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                c<span class="token punctuation">(</span><span class="token number">.1</span><span class="token punctuation">,</span> <span class="token number">.6</span><span class="token punctuation">,</span> <span class="token number">.6</span><span class="token punctuation">,</span> <span class="token number">.1</span><span class="token punctuation">,</span> <span class="token number">.4</span><span class="token punctuation">,</span> <span class="token number">.9</span><span class="token punctuation">,</span> <span class="token number">.9</span><span class="token punctuation">,</span> <span class="token number">.4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token string">"Overlapping rectangles, both clockwise"</span><span class="token punctuation">)</span>
    popViewport<span class="token punctuation">(</span><span class="token punctuation">)</span>
    pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>layout.pos.row <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    pathTriplet<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token number">.1</span><span class="token punctuation">,</span> <span class="token number">.1</span><span class="token punctuation">,</span> <span class="token number">.6</span><span class="token punctuation">,</span> <span class="token number">.6</span><span class="token punctuation">,</span> <span class="token number">.4</span><span class="token punctuation">,</span> <span class="token number">.9</span><span class="token punctuation">,</span> <span class="token number">.9</span><span class="token punctuation">,</span> <span class="token number">.4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                c<span class="token punctuation">(</span><span class="token number">.1</span><span class="token punctuation">,</span> <span class="token number">.6</span><span class="token punctuation">,</span> <span class="token number">.6</span><span class="token punctuation">,</span> <span class="token number">.1</span><span class="token punctuation">,</span> <span class="token number">.4</span><span class="token punctuation">,</span> <span class="token number">.4</span><span class="token punctuation">,</span> <span class="token number">.9</span><span class="token punctuation">,</span> <span class="token number">.9</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token string">"Overlapping rectangles, one clockwise, other anti-clockwise"</span><span class="token punctuation">)</span>
    popViewport<span class="token punctuation">(</span><span class="token punctuation">)</span>
    popViewport<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

pathTest<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># Drawing multiple paths at once</span>
holed_rect <span class="token operator">&lt;-</span> cbind<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token number">.15</span><span class="token punctuation">,</span> <span class="token number">.15</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">.15</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">.15</span><span class="token punctuation">,</span> <span class="token number">.1</span><span class="token punctuation">,</span> <span class="token number">.1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">.1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">.1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
                    c<span class="token punctuation">(</span><span class="token number">.15</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">.15</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">.15</span><span class="token punctuation">,</span> <span class="token number">.15</span><span class="token punctuation">,</span> <span class="token number">.1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">.1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">.1</span><span class="token punctuation">,</span> <span class="token number">.1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
holed_rects <span class="token operator">&lt;-</span> rbind<span class="token punctuation">(</span>
    holed_rect <span class="token operator">+</span> matrix<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token number">.7</span><span class="token punctuation">,</span> <span class="token number">.2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> nrow <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">,</span> ncol <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> byrow <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    holed_rect <span class="token operator">+</span> matrix<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token number">.7</span><span class="token punctuation">,</span> <span class="token number">.8</span><span class="token punctuation">)</span><span class="token punctuation">,</span> nrow <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">,</span> ncol <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> byrow <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    holed_rect <span class="token operator">+</span> matrix<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token number">.2</span><span class="token punctuation">,</span> <span class="token number">.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> nrow <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">,</span> ncol <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> byrow <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
grid.path<span class="token punctuation">(</span>x <span class="token operator">=</span> holed_rects<span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> y <span class="token operator">=</span> holed_rects<span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> 
          id <span class="token operator">=</span> rep<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">6</span><span class="token punctuation">,</span> each <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> pathId <span class="token operator">=</span> rep<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span> each <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          gp <span class="token operator">=</span> gpar<span class="token punctuation">(</span>fill <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          rule <span class="token operator">=</span> <span class="token string">'evenodd'</span><span class="token punctuation">)</span>

<span class="token comment"># Not specifying pathId will treat all points as part of the same path, thus </span>
<span class="token comment"># having same fill</span>
grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
grid.path<span class="token punctuation">(</span>x <span class="token operator">=</span> holed_rects<span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> y <span class="token operator">=</span> holed_rects<span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> 
          id <span class="token operator">=</span> rep<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">6</span><span class="token punctuation">,</span> each <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          gp <span class="token operator">=</span> gpar<span class="token punctuation">(</span>fill <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          rule <span class="token operator">=</span> <span class="token string">'evenodd'</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="grid.place">

<a href="#grid.place" class="help-page-title"><h2> Place an Object within a Frame </h2></a>

<h3>Description</h3>

<p>These functions provide a simpler (and faster) alternative
to the <code>grid.pack()</code> and <code>packGrob</code>
functions.  They can be used to place objects within the existing
rows and columns of a frame layout.  They do not provide the ability to
add new rows and columns nor do they affect the
heights and widths of the rows and columns.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">grid.place<span class="token punctuation">(</span>gPath<span class="token punctuation">,</span> grob<span class="token punctuation">,</span> row <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> col <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> redraw <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span>
placeGrob<span class="token punctuation">(</span>frame<span class="token punctuation">,</span> grob<span class="token punctuation">,</span> row <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> col <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>gPath</code></td>
<td>
<p> A gPath object, which specifies a frame on the
display list.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>frame</code></td>
<td>
<p> An object of class <code>frame</code>, typically the output
from a call to <code>grid.frame</code>. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grob</code></td>
<td>
<p> An object of class <code>grob</code>.  The object to be
placed. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>row</code></td>
<td>
<p> Which row to add the object to.  Must be between 1 and
the-number-of-rows-currently-in-the-frame. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p> Which col to add the object to.  Must be between 1 and
the-number-of-cols-currently-in-the-frame.  </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>redraw</code></td>
<td>
<p> A boolean indicating whether the output should be updated. </p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>placeGrob</code> modifies the given frame grob and returns the modified
frame grob.
</p>
<p><code>grid.place</code> destructively modifies a frame grob on the display
list (and redraws the display list if <code>redraw</code> is <code>TRUE</code>).
</p>


<h3>Value</h3>

<p><code>placeGrob</code> returns a frame grob, but <code>grid.place</code> returns
<code>NULL</code>.
</p>


<h3>Author(s)</h3>

<p> Paul Murrell </p>


<h3>See Also</h3>

<p><code><a href="#grid.frame">grid.frame</a></code>,
<code><a href="#grid.pack">grid.pack</a></code>,
<code><a href="#grid.edit">grid.edit</a></code>, and <code><a href="#gPath">gPath</a></code>.
</p>

<hr>
</div>
<div class="container manual-page" id="grid.plot.and.legend">

<a href="#grid.plot.and.legend" class="help-page-title"><h2> A Simple Plot and Legend Demo </h2></a>

<h3>Description</h3>

<p>This function is just a wrapper for a simple demonstration of how
a basic plot and legend can be drawn from scratch using grid.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">grid.plot.and.legend<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>


<h3>Author(s)</h3>

<p> Paul Murrell </p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r">grid.plot.and.legend<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="grid.points">

<a href="#grid.points" class="help-page-title"><h2>Draw Data Symbols</h2></a>

<h3>Description</h3>

<p>These functions create and draw data symbols.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">grid.points<span class="token punctuation">(</span>x <span class="token operator">=</span> stats<span class="token operator">::</span>runif<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            y <span class="token operator">=</span> stats<span class="token operator">::</span>runif<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            pch <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> size <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"char"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            default.units <span class="token operator">=</span> <span class="token string">"native"</span><span class="token punctuation">,</span> name <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>
            gp <span class="token operator">=</span> gpar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> draw <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span> vp <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">)</span>
pointsGrob<span class="token punctuation">(</span>x <span class="token operator">=</span> stats<span class="token operator">::</span>runif<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
           y <span class="token operator">=</span> stats<span class="token operator">::</span>runif<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
           pch <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> size <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"char"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
           default.units <span class="token operator">=</span> <span class="token string">"native"</span><span class="token punctuation">,</span> name <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>
           gp <span class="token operator">=</span> gpar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> vp <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>numeric vector or unit object specifying x-values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>numeric vector or unit object specifying y-values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pch</code></td>
<td>
<p>numeric or character vector indicating what sort of
plotting symbol to use.  See <code><a href="graphics.html#points">points</a></code> for the
interpretation of these values, and note <code>fill</code> below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size</code></td>
<td>
<p>unit object specifying the size of the plotting symbols.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>default.units</code></td>
<td>
<p>string indicating the default units to use
if <code>x</code> or <code>y</code> are only given as numeric vectors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>character identifier. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gp</code></td>
<td>
<p>an <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> object of class <code>"gpar"</code>, typically the output
from a call to the function <code><a href="#gpar">gpar</a></code>.  This is basically
a list of graphical parameter settings; note that <code>fill</code> (and
not <code>bg</code> as in package <span class="pkg">graphics</span> <code><a href="graphics.html#points">points</a></code>) is
used to fill, i.e., color the background of symbols with
<code>pch = 21:25</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>draw</code></td>
<td>
<p>logical indicating whether graphics output should be produced.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vp</code></td>
<td>
<p>A Grid viewport object (or NULL).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Both functions create a points grob (a graphical object describing
points), but only <code>grid.points</code> draws the points (and then only
if <code>draw</code> is <code>TRUE</code>).
</p>


<h3>Value</h3>

<p>A points <code><a href="#grid.grob">grob</a></code>.  <code>grid.points</code> returns the value invisibly.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell</p>


<h3>See Also</h3>

<p><a href="#Grid">Grid</a>,
<code><a href="#viewport">viewport</a></code>
</p>

<hr>
</div>
<div class="container manual-page" id="grid.polygon">

<a href="#grid.polygon" class="help-page-title"><h2> Draw a Polygon </h2></a>

<h3>Description</h3>

<p>These functions create and draw a polygon.
The final point will automatically
be connected to the initial point.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">grid.polygon<span class="token punctuation">(</span>x<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> y<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
             id<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">,</span> id.lengths<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">,</span>
             default.units<span class="token operator">=</span><span class="token string">"npc"</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">,</span>
             gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> draw<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">,</span> vp<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">)</span>
polygonGrob<span class="token punctuation">(</span>x<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> y<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
             id<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">,</span> id.lengths<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">,</span>
             default.units<span class="token operator">=</span><span class="token string">"npc"</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">,</span>
             gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> vp<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A numeric vector or unit object specifying x-locations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>A numeric vector or unit object specifying y-locations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>A numeric vector used to separate locations in <code>x</code> and
<code>y</code> into multiple polygons.  All locations with the same
<code>id</code> belong to the same polygon.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id.lengths</code></td>
<td>
<p>A numeric vector used to separate locations in <code>x</code> and
<code>y</code> into multiple polygons.  Specifies consecutive blocks of
locations which make up separate polygons.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>default.units</code></td>
<td>
<p>A string indicating the default units to use
if <code>x</code>, <code>y</code>, <code>width</code>, or <code>height</code>
are only given as numeric vectors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p> A character identifier. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gp</code></td>
<td>
<p>An object of class <code>"gpar"</code>, typically the output
from a call to the function <code><a href="#gpar">gpar</a></code>.  This is basically
a list of graphical parameter settings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>draw</code></td>
<td>
<p>A logical value indicating whether graphics output
should be produced.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vp</code></td>
<td>
<p>A Grid viewport object (or NULL).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Both functions create a polygon grob (a graphical object describing a
polygon), but only <code>grid.polygon</code>
draws the polygon (and then only if <code>draw</code> is <code>TRUE</code>).
</p>


<h3>Value</h3>

<p>A grob object.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell</p>


<h3>See Also</h3>

<p><a href="#Grid">Grid</a>,
<code><a href="#viewport">viewport</a></code>
</p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r">grid.polygon<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># Using id (NOTE: locations are not in consecutive blocks)</span>
grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
grid.polygon<span class="token punctuation">(</span>x<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token operator">:</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">10</span><span class="token punctuation">,</span> rep<span class="token punctuation">(</span><span class="token number">.5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">10</span><span class="token operator">:</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">10</span><span class="token punctuation">,</span> rep<span class="token punctuation">(</span><span class="token number">.5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
             y<span class="token operator">=</span>c<span class="token punctuation">(</span>rep<span class="token punctuation">(</span><span class="token number">.5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">10</span><span class="token operator">:</span><span class="token number">6</span><span class="token operator">/</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> rep<span class="token punctuation">(</span><span class="token number">.5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token operator">:</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
             id<span class="token operator">=</span>rep<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
             gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>fill<span class="token operator">=</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># Using id.lengths</span>
grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
grid.polygon<span class="token punctuation">(</span>x<span class="token operator">=</span>outer<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">.5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token operator">:</span><span class="token number">1</span><span class="token operator">/</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
             y<span class="token operator">=</span>outer<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token number">.5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">.5</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token operator">:</span><span class="token number">1</span><span class="token operator">/</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
             id.lengths<span class="token operator">=</span>rep<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
             gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>fill<span class="token operator">=</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="grid.pretty">

<a href="#grid.pretty" class="help-page-title"><h2> Generate a Sensible ("Pretty") Set of Breakpoints </h2></a>

<h3>Description</h3>

<p>Produces a pretty set of approximately <code>n</code> breakpoints within the
range given.
</p>
<p>This is a direct interface to <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span>'s graphical engine <code>GEpretty()</code>
function, which also underlies base <span class="pkg">graphics</span>' package
<code><a href="graphics.html#axis">axis</a>()</code>, <code><a href="graphics.html#axTicks">axTicks</a>()</code>, etc.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">grid.pretty<span class="token punctuation">(</span>range<span class="token punctuation">,</span> n <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>range</code></td>
<td>
<p>a numeric vector of length at least two, as e.g., returned
by <code><a href="base.html#range">range</a>()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>a non-negative integer specifying the <em>approximate</em> number
of breakpoints to be produced.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A numeric vector of pretty breakpoints.
</p>


<h3>Author(s)</h3>

<p> Paul Murrell </p>

<hr>
</div>
<div class="container manual-page" id="grid.raster">

<a href="#grid.raster" class="help-page-title"><h2>
Render a raster object
</h2></a>

<h3>Description</h3>

<p>Render a raster object (bitmap image) at the given location, size,
and orientation.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">grid.raster<span class="token punctuation">(</span>image<span class="token punctuation">,</span>
            x <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> y <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            width <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> height <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>
            just <span class="token operator">=</span> <span class="token string">"centre"</span><span class="token punctuation">,</span> hjust <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> vjust <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>
            interpolate <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span> default.units <span class="token operator">=</span> <span class="token string">"npc"</span><span class="token punctuation">,</span>
            name <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> gp <span class="token operator">=</span> gpar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> vp <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">)</span>

rasterGrob<span class="token punctuation">(</span>image<span class="token punctuation">,</span>
           x <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> y <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
           width <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> height <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>
           just <span class="token operator">=</span> <span class="token string">"centre"</span><span class="token punctuation">,</span> hjust <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> vjust <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>
           interpolate <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span> default.units <span class="token operator">=</span> <span class="token string">"npc"</span><span class="token punctuation">,</span>
           name <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> gp <span class="token operator">=</span> gpar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> vp <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>image</code></td>
<td>

<p>Any R object that can be coerced to a raster object.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A numeric vector or unit object specifying x-location.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>A numeric vector or unit object specifying y-location.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width</code></td>
<td>
<p>A numeric vector or unit object specifying width.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>height</code></td>
<td>
<p>A numeric vector or unit object specifying height.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>just</code></td>
<td>
<p>The justification of the rectangle
relative to its (x, y) location.  If there are two values, the first
value specifies horizontal justification and the second value specifies
vertical justification.  Possible string values are: <code>"left"</code>,
<code>"right"</code>, <code>"centre"</code>, <code>"center"</code>, <code>"bottom"</code>,
and <code>"top"</code>.  For numeric values, 0 means left alignment
and 1 means right alignment.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hjust</code></td>
<td>
<p>A numeric vector specifying horizontal justification.
If specified, overrides the <code>just</code> setting.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vjust</code></td>
<td>
<p>A numeric vector specifying vertical justification.
If specified, overrides the <code>just</code> setting.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>default.units</code></td>
<td>
<p>A string indicating the default units to use
if <code>x</code>, <code>y</code>, <code>width</code>, or <code>height</code>
are only given as numeric vectors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p> A character identifier. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gp</code></td>
<td>
<p>An object of class <code>"gpar"</code>, typically the output
from a call to the function <code><a href="#gpar">gpar</a></code>.  This is basically
a list of graphical parameter settings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vp</code></td>
<td>
<p>A Grid viewport object (or NULL).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interpolate</code></td>
<td>

<p>A logical value indicating whether to linearly interpolate the
image (the alternative is to use nearest-neighbour interpolation,
which gives a more blocky result).
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Neither <code>width</code> nor <code>height</code> needs to be specified,
in which case, the aspect ratio of the image is preserved.  If
both <code>width</code> and <code>height</code> are specified, it is likely
that the image will be distorted.
</p>
<p>Not all graphics devices are capable of rendering raster images
and some may not be able to produce rotated images (i.e., if
a raster object is rendered within a rotated viewport).  See also the
comments under <code><a href="graphics.html#rasterImage">rasterImage</a></code>.
</p>
<p>All graphical parameter settings in <code>gp</code> will be ignored,
including <code>alpha</code>.
</p>


<h3>Value</h3>

<p>A rastergrob grob.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell
</p>


<h3>See Also</h3>

<p><code><a href="grDevices.html#as.raster">as.raster</a></code>.
</p>
<p><code><a href="grDevices.html#dev.capabilities">dev.capabilities</a></code> to see if it is supported.
</p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r">redGradient <span class="token operator">&lt;-</span> matrix<span class="token punctuation">(</span>hcl<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> seq<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                      nrow<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span> ncol<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span>
<span class="token comment"># interpolated</span>
grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
grid.raster<span class="token punctuation">(</span>redGradient<span class="token punctuation">)</span>
<span class="token comment"># blocky</span>
grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
grid.raster<span class="token punctuation">(</span>redGradient<span class="token punctuation">,</span> interpolate<span class="token operator">=</span><span class="token boolean">FALSE</span><span class="token punctuation">)</span>
<span class="token comment"># blocky and stretched</span>
grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
grid.raster<span class="token punctuation">(</span>redGradient<span class="token punctuation">,</span> interpolate<span class="token operator">=</span><span class="token boolean">FALSE</span><span class="token punctuation">,</span> height<span class="token operator">=</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># The same raster drawn several times</span>
grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
grid.raster<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> x<span class="token operator">=</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">3</span><span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">3</span><span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token number">.1</span><span class="token punctuation">,</span> interpolate<span class="token operator">=</span><span class="token boolean">FALSE</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="grid.record">

<a href="#grid.record" class="help-page-title"><h2> Encapsulate calculations and drawing </h2></a>

<h3>Description</h3>

<p>Evaluates an expression that includes both calculations
and drawing that depends on the calculations so that
both the calculations and the drawing will be rerun when
the scene is redrawn (e.g., device resize or editing).
</p>
<p>Intended <em>only</em> for expert use.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">recordGrob<span class="token punctuation">(</span>expr<span class="token punctuation">,</span> list<span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">,</span> gp<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">,</span> vp<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">)</span>
grid.record<span class="token punctuation">(</span>expr<span class="token punctuation">,</span> list<span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">,</span> gp<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">,</span> vp<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>expr</code></td>
<td>
<p>object of mode <code><a href="base.html#expression">expression</a></code> or <code>call</code> or
an unevaluated expression.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>list</code></td>
<td>
<p>a list defining the environment in which <code>expr</code> is to
be evaluated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p> A character identifier. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gp</code></td>
<td>
<p>An object of class <code>"gpar"</code>, typically the output
from a call to the function <code><a href="#gpar">gpar</a></code>.  This is basically
a list of graphical parameter settings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vp</code></td>
<td>
<p>A Grid viewport object (or NULL).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>A grob is created of special class <code>"recordedGrob"</code>
(and drawn, in the case of <code>grid.record</code>).
The <code>drawDetails</code> method for this class
evaluates the expression with the list as the evaluation
environment (and the grid Namespace as the parent of that
environment).
</p>


<h3>Note</h3>

<p> This function <em>must</em> be used instead of the
function <code>recordGraphics</code>;  all of the dire warnings
about using <code>recordGraphics</code> responsibly also apply here.
</p>


<h3>Author(s)</h3>

<p> Paul Murrell </p>


<h3>See Also</h3>

 <p><code><a href="grDevices.html#recordGraphics">recordGraphics</a></code> </p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r">grid.record<span class="token punctuation">(</span><span class="token punctuation">{</span>
              w <span class="token operator">&lt;-</span> convertWidth<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span>
              grid.rect<span class="token punctuation">(</span>width<span class="token operator">=</span>w<span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            list<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="grid.rect">

<a href="#grid.rect" class="help-page-title"><h2>Draw rectangles </h2></a>

<h3>Description</h3>

<p>These functions create and draw rectangles.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">grid.rect<span class="token punctuation">(</span>x <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> y <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          width <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> height <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          just <span class="token operator">=</span> <span class="token string">"centre"</span><span class="token punctuation">,</span> hjust <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> vjust <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>
          default.units <span class="token operator">=</span> <span class="token string">"npc"</span><span class="token punctuation">,</span> name <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>
          gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> draw <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span> vp <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">)</span>
rectGrob<span class="token punctuation">(</span>x <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> y <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
         width <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> height <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
         just <span class="token operator">=</span> <span class="token string">"centre"</span><span class="token punctuation">,</span> hjust <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> vjust <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>
         default.units <span class="token operator">=</span> <span class="token string">"npc"</span><span class="token punctuation">,</span> name <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>
         gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> vp <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A numeric vector or unit object specifying x-location.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>A numeric vector or unit object specifying y-location.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width</code></td>
<td>
<p>A numeric vector or unit object specifying width.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>height</code></td>
<td>
<p>A numeric vector or unit object specifying height.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>just</code></td>
<td>
<p>The justification of the rectangle
relative to its (x, y) location.  If there are two values, the first
value specifies horizontal justification and the second value specifies
vertical justification.  Possible string values are: <code>"left"</code>,
<code>"right"</code>, <code>"centre"</code>, <code>"center"</code>, <code>"bottom"</code>,
and <code>"top"</code>.  For numeric values, 0 means left alignment
and 1 means right alignment.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hjust</code></td>
<td>
<p>A numeric vector specifying horizontal justification.
If specified, overrides the <code>just</code> setting.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vjust</code></td>
<td>
<p>A numeric vector specifying vertical justification.
If specified, overrides the <code>just</code> setting.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>default.units</code></td>
<td>
<p>A string indicating the default units to use
if <code>x</code>, <code>y</code>, <code>width</code>, or <code>height</code>
are only given as numeric vectors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p> A character identifier. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gp</code></td>
<td>
<p>An object of class <code>"gpar"</code>, typically the output
from a call to the function <code><a href="#gpar">gpar</a></code>.  This is basically
a list of graphical parameter settings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>draw</code></td>
<td>
<p>A logical value indicating whether graphics output
should be produced.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vp</code></td>
<td>
<p>A Grid viewport object (or NULL).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Both functions create a rect grob (a graphical object describing
rectangles), but only <code>grid.rect</code>
draws the rectangles (and then only if <code>draw</code> is <code>TRUE</code>).
</p>


<h3>Value</h3>

<p>A rect grob.  <code>grid.rect</code> returns the value invisibly.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell</p>


<h3>See Also</h3>

<p><a href="#Grid">Grid</a>,
<code><a href="#viewport">viewport</a></code>
</p>

<hr>
</div>
<div class="container manual-page" id="grid.refresh">

<a href="#grid.refresh" class="help-page-title"><h2> Refresh the current grid scene </h2></a>

<h3>Description</h3>

<p>Replays the current grid display list.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">grid.refresh<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>


<h3>Author(s)</h3>

<p> Paul Murrell </p>

<hr>
</div>
<div class="container manual-page" id="grid.remove">

<a href="#grid.remove" class="help-page-title"><h2>Remove a Grid Graphical Object</h2></a>

<h3>Description</h3>

<p>Remove a grob from a gTree or a descendant of a gTree.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">grid.remove<span class="token punctuation">(</span>gPath<span class="token punctuation">,</span> warn <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span> strict <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> grep <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span>
            global <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> allDevices <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> redraw <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span>

grid.gremove<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">,</span> grep <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span> global <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span>

removeGrob<span class="token punctuation">(</span>gTree<span class="token punctuation">,</span> gPath<span class="token punctuation">,</span> strict <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> grep <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span>
           global <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> warn <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>gTree</code></td>
<td>
<p>A gTree object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gPath</code></td>
<td>
<p>a gPath object. For <code>grid.remove</code> this
specifies a gTree on the display list.  For <code>removeGrob</code> this
specifies a descendant of the specified <code>gTree</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strict</code></td>
<td>
<p>a <code><a href="base.html#logical">logical</a></code> indicating whether the <code>gPath</code> must be
matched exactly.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grep</code></td>
<td>
<p>a <code><a href="base.html#logical">logical</a></code> indicating whether the <code>gPath</code> should
be treated as a regular expression.  Values are recycled across
elements of the <code>gPath</code> (e.g., <code>c(TRUE, FALSE)</code> means
that every odd element of the <code>gPath</code> will be treated as
a regular expression).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>global</code></td>
<td>
<p>a <code><a href="base.html#logical">logical</a></code> indicating whether the function should affect
just the first match of the <code>gPath</code>, or whether all matches
should be affected.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allDevices</code></td>
<td>
<p>a <code><a href="base.html#logical">logical</a></code> indicating whether all open
devices should be searched for matches, or just the current device.
NOT YET IMPLEMENTED.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>warn</code></td>
<td>
<p>A logical to indicate whether failing to find the
specified grob should trigger an error.  </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>redraw</code></td>
<td>
<p>A logical value to indicate whether to redraw the grob. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>arguments passed to <code><a href="#grid.get">grid.get</a></code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>removeGrob</code> copies the specified grob and returns a modified
grob.
</p>
<p><code>grid.remove</code> destructively modifies a grob on the display list.
If <code>redraw</code>
is <code>TRUE</code> it then redraws everything to reflect the change.
</p>
<p><code>grid.gremove</code> (<code>g</code> for global) is just a convenience wrapper for
<code>grid.remove</code> with different defaults.
</p>


<h3>Value</h3>

<p><code>removeGrob</code> returns a grob object;  <code>grid.remove</code> returns
<code>NULL</code>.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell</p>


<h3>See Also</h3>

<p><code><a href="#grid.grob">grob</a></code>, <code><a href="#grid.get">getGrob</a></code>.
</p>

<hr>
</div>
<div class="container manual-page" id="grid.reorder">

<a href="#grid.reorder" class="help-page-title"><h2> Reorder the children of a gTree </h2></a>

<h3>Description</h3>

<p>Change the order in which the children of a gTree get drawn.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">grid.reorder<span class="token punctuation">(</span>gPath<span class="token punctuation">,</span> order<span class="token punctuation">,</span> back<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">,</span> grep<span class="token operator">=</span><span class="token boolean">FALSE</span><span class="token punctuation">,</span> redraw<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span>
reorderGrob<span class="token punctuation">(</span>x<span class="token punctuation">,</span> order<span class="token punctuation">,</span> back<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>gPath</code></td>
<td>
<p>A gPath object specifying a gTree within the current
scene.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A gTree object to be modified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>order</code></td>
<td>
<p>A character vector or a numeric vector that specifies
the new drawing order for the children of the gTree.  May not refer
to all children of the gTree (see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>back</code></td>
<td>
<p>Controls what happens when the <code>order</code> does not
specify all children of the gTree (see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grep</code></td>
<td>
<p>Should the <code>gPath</code> be treated as a regular expression?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>redraw</code></td>
<td>
<p>Should the modified scene be redrawn?</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>In the simplest case, <code>order</code> specifies a new ordering for all of
the children of the gTree.  The children may be specified either by
name or by existing numerical order.
</p>
<p>If the <code>order</code> does not
specify all children of the gTree then, by default, the children
specified by <code>order</code> are drawn first and then all remaining
children are drawn.  If <code>back=FALSE</code> then the children not
specified in <code>order</code> are drawn first, followed by the specified
children.  This makes it easy to specify a send-to-back or
bring-to-front reordering.  The <code>order</code> argument is <em>always</em>
in back-to-front order.
</p>
<p>It is not possible to reorder the grid display list (the top-level
grobs in the current scene) because the display list is a mixture of
grobs and viewports (so it is not clear what reordering even means and
it would be too easy to end up with a scene that would not draw).
If you want to reorder the grid display list, try <code>grid.grab()</code>
to create a gTree and then reorder (and redraw) that gTree.
</p>


<h3>Value</h3>

<p><code>grid.reorder()</code> is called for its side-effect of modifying the
current scene.
<code>reorderGrob()</code> returns the modified gTree.
</p>


<h3>Warning</h3>

<p>This function may return a gTree that will not draw.  For example, a
gTree has two children, A and B (in that order),
and the width of child B depends on the width of child A (e.g., a box
around a piece of text).  Switching the order so that B is drawn
before A will not allow B to be drawn.  If this happens with
<code>grid.reorder()</code>, the modification will not be performed.  If
this happens with <code>reorderGrob()</code> it should be possible simply to
restore the original order.
</p>


<h3>Author(s)</h3>

<p> Paul Murrell </p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r"><span class="token comment"># gTree with two children, "red-rect" and "blue-rect" (in that order)</span>
gt <span class="token operator">&lt;-</span> gTree<span class="token punctuation">(</span>children<span class="token operator">=</span>gList<span class="token punctuation">(</span>
                rectGrob<span class="token punctuation">(</span>gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token keyword">NA</span><span class="token punctuation">,</span> fill<span class="token operator">=</span><span class="token string">"red"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                         width<span class="token operator">=</span><span class="token number">.8</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">.2</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">"red-rect"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                rectGrob<span class="token punctuation">(</span>gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token keyword">NA</span><span class="token punctuation">,</span> fill<span class="token operator">=</span><span class="token string">"blue"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                         width<span class="token operator">=</span><span class="token number">.2</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">.8</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">"blue-rect"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            name<span class="token operator">=</span><span class="token string">"gt"</span><span class="token punctuation">)</span>
grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
grid.draw<span class="token punctuation">(</span>gt<span class="token punctuation">)</span>
<span class="token comment"># Spec entire order as numeric (blue-rect, red-rect)</span>
grid.reorder<span class="token punctuation">(</span><span class="token string">"gt"</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token comment"># Spec entire order as character</span>
grid.reorder<span class="token punctuation">(</span><span class="token string">"gt"</span><span class="token punctuation">,</span> c<span class="token punctuation">(</span><span class="token string">"red-rect"</span><span class="token punctuation">,</span> <span class="token string">"blue-rect"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># Only spec the one I want behind as character</span>
grid.reorder<span class="token punctuation">(</span><span class="token string">"gt"</span><span class="token punctuation">,</span> <span class="token string">"blue-rect"</span><span class="token punctuation">)</span>
<span class="token comment"># Only spec the one I want in front as character</span>
grid.reorder<span class="token punctuation">(</span><span class="token string">"gt"</span><span class="token punctuation">,</span> <span class="token string">"blue-rect"</span><span class="token punctuation">,</span> back<span class="token operator">=</span><span class="token boolean">FALSE</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="grid.segments">

<a href="#grid.segments" class="help-page-title"><h2> Draw Line Segments </h2></a>

<h3>Description</h3>

<p>These functions create and draw line segments.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">grid.segments<span class="token punctuation">(</span>x0 <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> y0 <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              x1 <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> y1 <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              default.units <span class="token operator">=</span> <span class="token string">"npc"</span><span class="token punctuation">,</span>
              arrow <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>
              name <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> gp <span class="token operator">=</span> gpar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> draw <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span> vp <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">)</span>
segmentsGrob<span class="token punctuation">(</span>x0 <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> y0 <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              x1 <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> y1 <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              default.units <span class="token operator">=</span> <span class="token string">"npc"</span><span class="token punctuation">,</span>
              arrow <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> name <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> gp <span class="token operator">=</span> gpar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> vp <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x0</code></td>
<td>
<p> Numeric indicating the starting x-values of the line segments. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y0</code></td>
<td>
<p> Numeric indicating the starting y-values of the line
segments. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x1</code></td>
<td>
<p> Numeric indicating the stopping x-values of the line
segments. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y1</code></td>
<td>
<p> Numeric indicating the stopping y-values of the line segments.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>default.units</code></td>
<td>
<p> A string. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>arrow</code></td>
<td>
<p>A list describing arrow heads to place at either end
of the line segments, as produced by the <code>arrow</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p> A character identifier. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gp</code></td>
<td>
<p>An object of class <code>"gpar"</code>, typically the output
from a call to the function <code><a href="#gpar">gpar</a></code>.  This is basically
a list of graphical parameter settings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>draw</code></td>
<td>
<p> A logical value indicating whether graphics output
should be produced.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vp</code></td>
<td>
<p>A Grid viewport object (or NULL).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Both functions create a segments grob (a graphical object describing
segments), but only <code>grid.segments</code>
draws the segments (and then only if <code>draw</code> is <code>TRUE</code>).
</p>


<h3>Value</h3>

<p>A segments grob.  <code>grid.segments</code> returns the value invisibly.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell</p>


<h3>See Also</h3>

<p><a href="#Grid">Grid</a>,
<code><a href="#viewport">viewport</a></code>,
<code><a href="#arrow">arrow</a></code>
</p>

<hr>
</div>
<div class="container manual-page" id="grid.set">

<a href="#grid.set" class="help-page-title"><h2>Set a Grid Graphical Object</h2></a>

<h3>Description</h3>

<p>Replace a grob or a descendant of a grob.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">grid.set<span class="token punctuation">(</span>gPath<span class="token punctuation">,</span> newGrob<span class="token punctuation">,</span> strict <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> grep <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span>
         redraw <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span>

setGrob<span class="token punctuation">(</span>gTree<span class="token punctuation">,</span> gPath<span class="token punctuation">,</span> newGrob<span class="token punctuation">,</span> strict <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> grep <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>gTree</code></td>
<td>
<p>A gTree object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gPath</code></td>
<td>
<p> A gPath object. For <code>grid.set</code> this
specifies a grob on the display list.  For <code>setGrob</code> this
specifies a descendant of the specified gTree. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newGrob</code></td>
<td>
<p> A grob object. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strict</code></td>
<td>
<p> A boolean indicating whether the gPath must be
matched exactly. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grep</code></td>
<td>
<p>A boolean indicating whether the <code>gPath</code> should
be treated as a regular expression.  Values are recycled across
elements of the <code>gPath</code> (e.g., <code>c(TRUE, FALSE)</code> means
that every odd element of the <code>gPath</code> will be treated as
a regular expression).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>redraw</code></td>
<td>
<p>A logical value to indicate whether to redraw the grob. </p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>setGrob</code> copies the specified grob and returns a modified
grob.
</p>
<p><code>grid.set</code> destructively replaces a grob on the display list.
If <code>redraw</code>
is <code>TRUE</code> it then redraws everything to reflect the change.
</p>
<p>These functions should not normally be called by the user.
</p>


<h3>Value</h3>

<p><code>setGrob</code> returns a grob object;  <code>grid.set</code> returns <code>NULL</code>.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell</p>


<h3>See Also</h3>

<p><code><a href="#grid-defunct">grid.grob</a></code>.
</p>

<hr>
</div>
<div class="container manual-page" id="grid.show.layout">

<a href="#grid.show.layout" class="help-page-title"><h2>Draw a Diagram of a Grid Layout</h2></a>

<h3>Description</h3>

<p>This function uses Grid graphics to draw a diagram of a
Grid layout.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">grid.show.layout<span class="token punctuation">(</span>l<span class="token punctuation">,</span> newpage<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">,</span> vp.ex <span class="token operator">=</span> <span class="token number">0.8</span><span class="token punctuation">,</span> bg <span class="token operator">=</span> <span class="token string">"light grey"</span><span class="token punctuation">,</span>
             cell.border <span class="token operator">=</span> <span class="token string">"blue"</span><span class="token punctuation">,</span> cell.fill <span class="token operator">=</span> <span class="token string">"light blue"</span><span class="token punctuation">,</span>
             cell.label <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span> label.col <span class="token operator">=</span> <span class="token string">"blue"</span><span class="token punctuation">,</span>
             unit.col <span class="token operator">=</span> <span class="token string">"red"</span><span class="token punctuation">,</span> vp <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> <span class="token ellipsis">...</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>l</code></td>
<td>
<p>A Grid layout object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newpage</code></td>
<td>
<p>A logical value indicating whether to move on
to a new page before drawing the diagram.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vp.ex</code></td>
<td>
<p>positive number, typically in <code class="reqn"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">(0,1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span></code>, specifying the
scaling of the layout.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bg</code></td>
<td>
<p>The colour used for the background.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cell.border</code></td>
<td>
<p>The colour used to draw the borders of the cells
in the layout.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cell.fill</code></td>
<td>
<p>The colour used to fill the cells in the layout.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cell.label</code></td>
<td>
<p>A logical indicating whether the layout cells
should be labelled.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label.col</code></td>
<td>
<p>The colour used for layout cell labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unit.col</code></td>
<td>
<p>The colour used for labelling the widths/heights of
columns/rows.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vp</code></td>
<td>
<p>A Grid viewport object (or NULL).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments passed to <code>format</code> for formatting the
layout width and height annotations.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>A viewport is created within <code>vp</code> to provide a margin for
annotation, and the layout is drawn within that new viewport.
The margin is filled with light grey, the new viewport is filled
with white and framed with a black border, and the layout regions
are filled with light blue and framed with a blue border.
The diagram is annotated with the widths and heights (including units)
of the columns and rows of the layout using red text. (All colours
are defaults and may be customised via function arguments.)
</p>


<h3>Value</h3>

<p>None.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell</p>


<h3>See Also</h3>

<p><a href="#Grid">Grid</a>,
<code><a href="#viewport">viewport</a></code>,
<code><a href="#grid.layout">grid.layout</a></code>
</p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r"><span class="token comment">## Diagram of a simple layout</span>
grid.show.layout<span class="token punctuation">(</span>grid.layout<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span>
                     heights<span class="token operator">=</span>unit<span class="token punctuation">(</span>rep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                                  c<span class="token punctuation">(</span><span class="token string">"lines"</span><span class="token punctuation">,</span> <span class="token string">"lines"</span><span class="token punctuation">,</span> <span class="token string">"lines"</span><span class="token punctuation">,</span> <span class="token string">"null"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                     widths<span class="token operator">=</span>unit<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="grid.show.viewport">

<a href="#grid.show.viewport" class="help-page-title"><h2>Draw a Diagram of a Grid Viewport</h2></a>

<h3>Description</h3>

<p>This function uses Grid graphics to draw a diagram of
a Grid viewport.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">grid.show.viewport<span class="token punctuation">(</span>v<span class="token punctuation">,</span> parent.layout <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> newpage <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span>
                   vp.ex <span class="token operator">=</span> <span class="token number">0.8</span><span class="token punctuation">,</span> border.fill<span class="token operator">=</span><span class="token string">"light grey"</span><span class="token punctuation">,</span>
                   vp.col<span class="token operator">=</span><span class="token string">"blue"</span><span class="token punctuation">,</span> vp.fill<span class="token operator">=</span><span class="token string">"light blue"</span><span class="token punctuation">,</span>
                   scale.col<span class="token operator">=</span><span class="token string">"red"</span><span class="token punctuation">,</span>
                   vp <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>v</code></td>
<td>
<p>A Grid viewport object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parent.layout</code></td>
<td>
<p>A grid layout object.  If this is not NULL and
the viewport given in <code>v</code> has its location specified relative
to the layout, then the diagram shows the layout and which cells
<code>v</code> occupies within the layout.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newpage</code></td>
<td>
<p>A logical value to indicate whether to move to
a new page before drawing the diagram.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vp.ex</code></td>
<td>
<p>positive number, typically in <code class="reqn"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">(0,1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span></code>, specifying the
scaling of the layout.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>border.fill</code></td>
<td>
<p>Colour to fill the border margin.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vp.col</code></td>
<td>
<p>Colour for the border of the viewport region.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vp.fill</code></td>
<td>
<p>Colour to fill the viewport region.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale.col</code></td>
<td>
<p>Colour to draw the viewport axes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vp</code></td>
<td>
<p>A Grid viewport object (or NULL).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>A viewport is created within <code>vp</code> to provide a margin for
annotation, and the diagram is drawn within that new viewport.
By default, the margin is filled with light grey, the new viewport is filled
with white and framed with a black border, and the viewport region
is filled with light blue and framed with a blue border.
The diagram is annotated with the width and height (including units)
of the viewport, the (x, y) location of the viewport, and
the x- and y-scales of the viewport, using red lines and text.
</p>


<h3>Value</h3>

<p>None.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell</p>


<h3>See Also</h3>

<p><a href="#Grid">Grid</a>,
<code><a href="#viewport">viewport</a></code>
</p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r"><span class="token comment">## Diagram of a sample viewport</span>
grid.show.viewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token number">0.6</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token number">0.6</span><span class="token punctuation">,</span>
                            width<span class="token operator">=</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> height<span class="token operator">=</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
grid.show.viewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>layout.pos.row<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> layout.pos.col<span class="token operator">=</span><span class="token number">2</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                   grid.layout<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="grid.stroke">

<a href="#grid.stroke" class="help-page-title"><h2> Stroke or Fill a Path </h2></a>

<h3>Description</h3>

<p>These functions stroke (draw a line along the border) or
fill (or both) a path, where the path is defined by
a grob.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">strokeGrob<span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token ellipsis">...</span><span class="token punctuation">)</span>
<span class="token comment">## S3 method for class 'grob'</span>
strokeGrob<span class="token punctuation">(</span>x<span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">,</span> gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> vp<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">,</span> <span class="token ellipsis">...</span><span class="token punctuation">)</span>
<span class="token comment">## S3 method for class 'GridPath'</span>
strokeGrob<span class="token punctuation">(</span>x<span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">,</span> vp<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">,</span> <span class="token ellipsis">...</span><span class="token punctuation">)</span>
grid.stroke<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">)</span>
fillGrob<span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token ellipsis">...</span><span class="token punctuation">)</span>
<span class="token comment">## S3 method for class 'grob'</span>
fillGrob<span class="token punctuation">(</span>x<span class="token punctuation">,</span> rule<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token string">"winding"</span><span class="token punctuation">,</span> <span class="token string">"evenodd"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
         name<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">,</span> gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> vp<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">,</span> <span class="token ellipsis">...</span><span class="token punctuation">)</span>
<span class="token comment">## S3 method for class 'GridPath'</span>
fillGrob<span class="token punctuation">(</span>x<span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">,</span> vp<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">,</span> <span class="token ellipsis">...</span><span class="token punctuation">)</span>
grid.fill<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">)</span>
fillStrokeGrob<span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token ellipsis">...</span><span class="token punctuation">)</span>
<span class="token comment">## S3 method for class 'grob'</span>
fillStrokeGrob<span class="token punctuation">(</span>x<span class="token punctuation">,</span> rule<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token string">"winding"</span><span class="token punctuation">,</span> <span class="token string">"evenodd"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
               name<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">,</span> gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> vp<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">,</span> <span class="token ellipsis">...</span><span class="token punctuation">)</span>
<span class="token comment">## S3 method for class 'GridPath'</span>
fillStrokeGrob<span class="token punctuation">(</span>x<span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">,</span> vp<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">,</span> <span class="token ellipsis">...</span><span class="token punctuation">)</span>
grid.fillStroke<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">)</span>
as.path<span class="token punctuation">(</span>x<span class="token punctuation">,</span> gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> rule<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token string">"winding"</span><span class="token punctuation">,</span> <span class="token string">"evenodd"</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A grob or the result of a call to <code>as.path()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rule</code></td>
<td>
<p>A fill rule.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p> A character identifier. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gp</code></td>
<td>
<p>An object of class <code>"gpar"</code>, typically the output
from a call to the function <code><a href="#gpar">gpar</a></code>.  This is basically
a list of graphical parameter settings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vp</code></td>
<td>
<p>A Grid viewport object (or NULL).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments to <code>grid.*()</code> passed on to <code>*Grob()</code>,
or additional arguments passed on to methods.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>A path is defined by the shapes that the grob given in <code>x</code>
would draw.  The grob only contributes to the outline of the
path;  graphical parameter settings such as line colour and fill
are ignored.
</p>
<p><code>grid.stroke()</code> will only ever draw the border (even when
a fill is specified).
</p>
<p><code>grid.fill()</code> will only ever fill the path (even when a line
colour is specified).
</p>
<p>A stroke will only ever happen if a non-transparent line colour
is specified and a fill will only ever happen if a non-transparent
fill is specified.
</p>
<p><code>as.path()</code> allows graphical parameter settings and a fill
rule to be associated with a grob.  This can be useful when
specifying a clipping path for a viewport (see <code><a href="#viewport">viewport</a></code>).
</p>
<p>Not all graphics devices support these functions: for example
<code>xfig</code> and <code>pictex</code> do not.  
</p>


<h3>Value</h3>

<p>A grob object.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell</p>


<h3>See Also</h3>

<p><a href="#Grid">Grid</a>
</p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r"><span class="token comment">## NOTE: on devices without support for stroking and filling</span><span class="token comment">##       nothing will be drawn</span>
grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
grid.stroke<span class="token punctuation">(</span>textGrob<span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">,</span> gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>cex<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
grid.fill<span class="token punctuation">(</span>circleGrob<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">2</span><span class="token operator">/</span><span class="token number">3</span><span class="token punctuation">,</span> r<span class="token operator">=</span><span class="token number">.3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>fill<span class="token operator">=</span>rgb<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="grid.text">

<a href="#grid.text" class="help-page-title"><h2>Draw Text</h2></a>

<h3>Description</h3>

<p>These functions create and draw text and <a href="grDevices.html#plotmath">plotmath</a> expressions.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">grid.text<span class="token punctuation">(</span>label<span class="token punctuation">,</span> x <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> y <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          just <span class="token operator">=</span> <span class="token string">"centre"</span><span class="token punctuation">,</span> hjust <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> vjust <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> rot <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
          check.overlap <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> default.units <span class="token operator">=</span> <span class="token string">"npc"</span><span class="token punctuation">,</span>
          name <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> gp <span class="token operator">=</span> gpar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> draw <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span> vp <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">)</span>

textGrob<span class="token punctuation">(</span>label<span class="token punctuation">,</span> x <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> y <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          just <span class="token operator">=</span> <span class="token string">"centre"</span><span class="token punctuation">,</span> hjust <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> vjust <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> rot <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
          check.overlap <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> default.units <span class="token operator">=</span> <span class="token string">"npc"</span><span class="token punctuation">,</span>
          name <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> gp <span class="token operator">=</span> gpar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> vp <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>label</code></td>
<td>
<p>A character or <a href="base.html#expression">expression</a> vector.  Other
objects are coerced by <code><a href="grDevices.html#as.graphicsAnnot">as.graphicsAnnot</a></code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A numeric vector or unit object specifying x-values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>A numeric vector or unit object specifying y-values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>just</code></td>
<td>
<p>The justification of the text
relative to its (x, y) location.  If there are two values, the first
value specifies horizontal justification and the second value specifies
vertical justification.  Possible string values are: <code>"left"</code>,
<code>"right"</code>, <code>"centre"</code>, <code>"center"</code>, <code>"bottom"</code>,
and <code>"top"</code>.  For numeric values, 0 means left (bottom) alignment
and 1 means right (top) alignment.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hjust</code></td>
<td>
<p>A numeric vector specifying horizontal justification.
If specified, overrides the <code>just</code> setting.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vjust</code></td>
<td>
<p>A numeric vector specifying vertical justification.
If specified, overrides the <code>just</code> setting.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rot</code></td>
<td>
<p>The angle to rotate the text.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check.overlap</code></td>
<td>
<p>A logical value to indicate whether to
check for and omit overlapping text.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>default.units</code></td>
<td>
<p>A string indicating the default units to use
if <code>x</code> or <code>y</code>
are only given as numeric vectors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p> A character identifier. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gp</code></td>
<td>
<p>An object of class <code>"gpar"</code>, typically the output
from a call to the function <code><a href="#gpar">gpar</a></code>.  This is basically
a list of graphical parameter settings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>draw</code></td>
<td>
<p>A logical value indicating whether graphics output
should be produced.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vp</code></td>
<td>
<p>A Grid viewport object (or NULL).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Both functions create a text grob (a graphical object describing
text), but only <code>grid.text</code>
draws the text (and then only if <code>draw</code> is <code>TRUE</code>).
</p>
<p>If the <code>label</code> argument is an expression, the output is
formatted as a mathematical annotation, as for base graphics text.
</p>


<h3>Value</h3>

<p>A text grob.  <code>grid.text()</code> returns the value invisibly.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell</p>


<h3>See Also</h3>

<p><a href="#Grid">Grid</a>,
<code><a href="#viewport">viewport</a></code>
</p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r">grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
x <span class="token operator">&lt;-</span> stats<span class="token operator">::</span>runif<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
y <span class="token operator">&lt;-</span> stats<span class="token operator">::</span>runif<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
rot <span class="token operator">&lt;-</span> stats<span class="token operator">::</span>runif<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">360</span><span class="token punctuation">)</span>
grid.text<span class="token punctuation">(</span><span class="token string">"SOMETHING NICE AND BIG"</span><span class="token punctuation">,</span> x<span class="token operator">=</span>x<span class="token punctuation">,</span> y<span class="token operator">=</span>y<span class="token punctuation">,</span> rot<span class="token operator">=</span>rot<span class="token punctuation">,</span>
          gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>fontsize<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">"grey"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
grid.text<span class="token punctuation">(</span><span class="token string">"SOMETHING NICE AND BIG"</span><span class="token punctuation">,</span> x<span class="token operator">=</span>x<span class="token punctuation">,</span> y<span class="token operator">=</span>y<span class="token punctuation">,</span> rot<span class="token operator">=</span>rot<span class="token punctuation">,</span>
          gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>fontsize<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span> check.overlap<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span>
grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
draw.text <span class="token operator">&lt;-</span> <span class="token keyword">function</span><span class="token punctuation">(</span>just<span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  grid.text<span class="token punctuation">(</span><span class="token string">"ABCD"</span><span class="token punctuation">,</span> x<span class="token operator">=</span>x<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> y<span class="token operator">=</span>y<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> just<span class="token operator">=</span>just<span class="token punctuation">)</span>
  grid.text<span class="token punctuation">(</span>deparse<span class="token punctuation">(</span>substitute<span class="token punctuation">(</span>just<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> x<span class="token operator">=</span>x<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> y<span class="token operator">=</span>y<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> unit<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"lines"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token string">"grey"</span><span class="token punctuation">,</span> fontsize<span class="token operator">=</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
x <span class="token operator">&lt;-</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">4</span><span class="token operator">/</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span>
y <span class="token operator">&lt;-</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">4</span><span class="token operator">/</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span>
grid.grill<span class="token punctuation">(</span>h<span class="token operator">=</span>y<span class="token punctuation">,</span> v<span class="token operator">=</span>x<span class="token punctuation">,</span> gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token string">"grey"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
draw.text<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token string">"bottom"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
draw.text<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token string">"left"</span><span class="token punctuation">,</span> <span class="token string">"bottom"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
draw.text<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token string">"right"</span><span class="token punctuation">,</span> <span class="token string">"bottom"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
draw.text<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token string">"centre"</span><span class="token punctuation">,</span> <span class="token string">"bottom"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
draw.text<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token string">"centre"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
draw.text<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token string">"left"</span><span class="token punctuation">,</span> <span class="token string">"centre"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
draw.text<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token string">"right"</span><span class="token punctuation">,</span> <span class="token string">"centre"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
draw.text<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token string">"centre"</span><span class="token punctuation">,</span> <span class="token string">"centre"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
draw.text<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token string">"top"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
draw.text<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token string">"left"</span><span class="token punctuation">,</span> <span class="token string">"top"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
draw.text<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token string">"right"</span><span class="token punctuation">,</span> <span class="token string">"top"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
draw.text<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token string">"centre"</span><span class="token punctuation">,</span> <span class="token string">"top"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
draw.text<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>
draw.text<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token string">"left"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>
draw.text<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token string">"right"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>
draw.text<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token string">"centre"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="grid.xaxis">

<a href="#grid.xaxis" class="help-page-title"><h2>Draw an X-Axis</h2></a>

<h3>Description</h3>

<p>These functions create and draw an x-axis.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">grid.xaxis<span class="token punctuation">(</span>at <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> label <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span> main <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span>
           edits <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> name <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>
           gp <span class="token operator">=</span> gpar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> draw <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span> vp <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">)</span>

xaxisGrob<span class="token punctuation">(</span>at <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> label <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span> main <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span>
          edits <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> name <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>
          gp <span class="token operator">=</span> gpar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> vp <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>at</code></td>
<td>
<p>A numeric vector of x-value locations for the tick marks.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label</code></td>
<td>
<p>A logical value indicating whether to draw the labels
on the tick marks, or an expression or character vector which
specify the labels to use.  If not logical, must be the same
length as the <code>at</code> argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>A logical value indicating whether to draw the axis
at the bottom (<code>TRUE</code>) or at the top (<code>FALSE</code>) of the
viewport.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>edits</code></td>
<td>
<p>A gEdit or gEditList containing edit operations
to apply (to the children of the axis)
when the axis is first created and during redrawing
whenever <code>at</code> is <code>NULL</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p> A character identifier. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gp</code></td>
<td>
<p>An object of class <code>"gpar"</code>, typically the output
from a call to the function <code><a href="#gpar">gpar</a></code>.  This is basically
a list of graphical parameter settings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>draw</code></td>
<td>
<p>A logical value indicating whether graphics output
should be produced.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vp</code></td>
<td>
<p>A Grid viewport object (or <code>NULL</code>).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Both functions create an xaxis grob (a graphical object describing an
xaxis), but only <code>grid.xaxis</code>
draws the xaxis (and then only if <code>draw</code> is <code>TRUE</code>).
</p>


<h3>Value</h3>

<p>An xaxis grob.  <code>grid.xaxis</code> returns the value invisibly.
</p>


<h3>Children</h3>

<p>If the <code>at</code> slot of an xaxis grob is not <code>NULL</code> then
the xaxis will have the following children:
</p>

<dl>
<dt>major</dt>
<dd>
<p> representing the line at the base of the
tick marks.</p>
</dd>
<dt>ticks</dt>
<dd>
<p>representing the tick marks.</p>
</dd>
<dt>labels</dt>
<dd>
<p>representing the tick labels.</p>
</dd>
</dl>
<p>If the <code>at</code> slot is <code>NULL</code> then there are no children
and ticks are drawn based on the current viewport scale.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell</p>


<h3>See Also</h3>

<p><a href="#Grid">Grid</a>,
<code><a href="#viewport">viewport</a></code>,
<code><a href="#grid.yaxis">grid.yaxis</a></code>
</p>

<hr>
</div>
<div class="container manual-page" id="grid.xspline">

<a href="#grid.xspline" class="help-page-title"><h2> Draw an Xspline </h2></a>

<h3>Description</h3>

<p>These functions create and draw an xspline, a curve drawn
relative to control points.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">grid.xspline<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">)</span>
xsplineGrob<span class="token punctuation">(</span>x <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> y <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            id <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> id.lengths <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>
            default.units <span class="token operator">=</span> <span class="token string">"npc"</span><span class="token punctuation">,</span>
            shape <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> open <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span> arrow <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> repEnds <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span>
            name <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> gp <span class="token operator">=</span> gpar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> vp <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A numeric vector or unit object specifying x-locations of
spline control points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>A numeric vector or unit object specifying y-locations of
spline control points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>A numeric vector used to separate locations in <code>x</code> and
<code>y</code> into multiple xsplines.  All locations with the same
<code>id</code> belong to the same xspline.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id.lengths</code></td>
<td>
<p>A numeric vector used to separate locations in <code>x</code> and
<code>y</code> into multiple xspline.  Specifies consecutive blocks of
locations which make up separate xsplines.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>default.units</code></td>
<td>
<p>A string indicating the default units to use
if <code>x</code> or <code>y</code>
are only given as numeric vectors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shape</code></td>
<td>
<p>A numeric vector of values between -1 and 1, which
control the shape of the spline relative to the control points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>open</code></td>
<td>
<p>A logical value indicating whether the spline is
a line or a closed shape.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>arrow</code></td>
<td>
<p>A list describing arrow heads to place at either end
of the xspline, as produced by the <code>arrow</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>repEnds</code></td>
<td>
<p>A logical value indicating whether the first and
last control points should be replicated for drawing the curve
(see Details below).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p> A character identifier. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gp</code></td>
<td>
<p>An object of class <code>"gpar"</code>, typically the output
from a call to the function <code><a href="#gpar">gpar</a></code>.  This is basically
a list of graphical parameter settings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vp</code></td>
<td>
<p>A Grid viewport object (or NULL).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments to be passed to <code>xsplineGrob</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Both functions create an xspline grob (a graphical object describing an
xspline), but only <code>grid.xspline</code>
draws the xspline.
</p>
<p>An xspline is a line drawn relative to control points.  For each
control point, the line
may pass through (interpolate) the control point or it
may only approach (approximate) the control
point;  the behaviour is determined by a shape parameter for each
control point.
</p>
<p>If the shape parameter is greater than zero, the spline
approximates the control points (and is
very similar to a cubic B-spline when the shape is
1).  If the shape parameter is less than zero, the spline interpolates
the control points (and is very similar to a Catmull-Rom spline when
the shape is -1).  If the shape parameter is 0, the spline forms a
sharp corner at that control point.
</p>
<p>For open xsplines, the start and end control points must have a shape
of 0 (and non-zero values are silently converted to zero without warning).
</p>
<p>For open xsplines, by default the start and end control points are
actually replicated before the curve is drawn.  A curve is drawn
between (interpolating or approximating)
the second and third of each set of four control points, so
this default behaviour ensures that
the resulting curve starts at the first control point you have
specified and ends at the last control point.
The default
behaviour can be turned off via the <code>repEnds</code> argument,
in which case the curve that is drawn starts (approximately) at
the second control point and ends (approximately) at the first and
second-to-last control point.
</p>
<p>The <code>repEnds</code> argument is ignored for closed xsplines.
</p>
<p>Missing values are not allowed for <code>x</code> and <code>y</code>
(i.e., it is not valid for a control point to be missing).
</p>
<p>For closed xsplines, a curve is automatically drawn
between the final control point and the initial control point.
</p>


<h3>Value</h3>

<p>A grob object.
</p>


<h3>References</h3>

<p>Blanc, C. and Schlick, C. (1995),
"X-splines : A Spline Model Designed for the End User",
in <em>Proceedings of SIGGRAPH 95</em>, pp. 377386.
<a href="https://dept-info.labri.fr/~schlick/DOC/sig1.html" target="_blank">https://dept-info.labri.fr/~schlick/DOC/sig1.html</a>
</p>


<h3>See Also</h3>

<p><a href="#Grid">Grid</a>,
<code><a href="#viewport">viewport</a></code>,
<code><a href="#arrow">arrow</a></code>.
</p>
<p><code><a href="graphics.html#xspline">xspline</a></code>.
</p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r">x <span class="token operator">&lt;-</span> c<span class="token punctuation">(</span><span class="token number">0.25</span><span class="token punctuation">,</span> <span class="token number">0.25</span><span class="token punctuation">,</span> <span class="token number">0.75</span><span class="token punctuation">,</span> <span class="token number">0.75</span><span class="token punctuation">)</span>
y <span class="token operator">&lt;-</span> c<span class="token punctuation">(</span><span class="token number">0.25</span><span class="token punctuation">,</span> <span class="token number">0.75</span><span class="token punctuation">,</span> <span class="token number">0.75</span><span class="token punctuation">,</span> <span class="token number">0.25</span><span class="token punctuation">)</span>

xsplineTest <span class="token operator">&lt;-</span> <span class="token keyword">function</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> open<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>layout.pos.col<span class="token operator">=</span>j<span class="token punctuation">,</span> layout.pos.row<span class="token operator">=</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span>
  grid.points<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> default.units<span class="token operator">=</span><span class="token string">"npc"</span><span class="token punctuation">,</span> pch<span class="token operator">=</span><span class="token number">16</span><span class="token punctuation">,</span> size<span class="token operator">=</span>unit<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"mm"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  grid.xspline<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> shape<span class="token operator">=</span>s<span class="token punctuation">,</span> open<span class="token operator">=</span>open<span class="token punctuation">,</span> gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>fill<span class="token operator">=</span><span class="token string">"grey"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  grid.text<span class="token punctuation">(</span>s<span class="token punctuation">,</span> gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token string">"grey"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            x<span class="token operator">=</span>unit<span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span> <span class="token operator">+</span> unit<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"mm"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            y<span class="token operator">=</span>unit<span class="token punctuation">(</span>y<span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span> <span class="token operator">+</span> unit<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"mm"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            hjust<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            vjust<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  popViewport<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>width<span class="token operator">=</span><span class="token number">.5</span><span class="token punctuation">,</span> x<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> just<span class="token operator">=</span><span class="token string">"left"</span><span class="token punctuation">,</span>
                      layout<span class="token operator">=</span>grid.layout<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> respect<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>layout.pos.row<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
grid.text<span class="token punctuation">(</span><span class="token string">"Open Splines"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> just<span class="token operator">=</span><span class="token string">"bottom"</span><span class="token punctuation">)</span>
popViewport<span class="token punctuation">(</span><span class="token punctuation">)</span>
xsplineTest<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span>
xsplineTest<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>  <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span>
xsplineTest<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>  <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span>
xsplineTest<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>  <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span>
xsplineTest<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>  <span class="token number">0</span><span class="token punctuation">,</span>  <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span>
xsplineTest<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>  <span class="token number">0</span><span class="token punctuation">,</span>  <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span>
xsplineTest<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>  <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span>
xsplineTest<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>  <span class="token number">1</span><span class="token punctuation">,</span>  <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span>
xsplineTest<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>  <span class="token number">1</span><span class="token punctuation">,</span>  <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span>
popViewport<span class="token punctuation">(</span><span class="token punctuation">)</span>
pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>width<span class="token operator">=</span><span class="token number">.5</span><span class="token punctuation">,</span> x<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> just<span class="token operator">=</span><span class="token string">"right"</span><span class="token punctuation">,</span>
                      layout<span class="token operator">=</span>grid.layout<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> respect<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>layout.pos.row<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
grid.text<span class="token punctuation">(</span><span class="token string">"Closed Splines"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> just<span class="token operator">=</span><span class="token string">"bottom"</span><span class="token punctuation">)</span>
popViewport<span class="token punctuation">(</span><span class="token punctuation">)</span>
xsplineTest<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token boolean">FALSE</span><span class="token punctuation">)</span>
xsplineTest<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>  <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token boolean">FALSE</span><span class="token punctuation">)</span>
xsplineTest<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>  <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token boolean">FALSE</span><span class="token punctuation">)</span>
xsplineTest<span class="token punctuation">(</span>c<span class="token punctuation">(</span> <span class="token number">0</span><span class="token punctuation">,</span>  <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>  <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token boolean">FALSE</span><span class="token punctuation">)</span>
xsplineTest<span class="token punctuation">(</span>c<span class="token punctuation">(</span> <span class="token number">0</span><span class="token punctuation">,</span>  <span class="token number">0</span><span class="token punctuation">,</span>  <span class="token number">0</span><span class="token punctuation">,</span>  <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token boolean">FALSE</span><span class="token punctuation">)</span>
xsplineTest<span class="token punctuation">(</span>c<span class="token punctuation">(</span> <span class="token number">0</span><span class="token punctuation">,</span>  <span class="token number">0</span><span class="token punctuation">,</span>  <span class="token number">1</span><span class="token punctuation">,</span>  <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token boolean">FALSE</span><span class="token punctuation">)</span>
xsplineTest<span class="token punctuation">(</span>c<span class="token punctuation">(</span> <span class="token number">1</span><span class="token punctuation">,</span>  <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>  <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token boolean">FALSE</span><span class="token punctuation">)</span>
xsplineTest<span class="token punctuation">(</span>c<span class="token punctuation">(</span> <span class="token number">1</span><span class="token punctuation">,</span>  <span class="token number">1</span><span class="token punctuation">,</span>  <span class="token number">0</span><span class="token punctuation">,</span>  <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token boolean">FALSE</span><span class="token punctuation">)</span>
xsplineTest<span class="token punctuation">(</span>c<span class="token punctuation">(</span> <span class="token number">1</span><span class="token punctuation">,</span>  <span class="token number">1</span><span class="token punctuation">,</span>  <span class="token number">1</span><span class="token punctuation">,</span>  <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token boolean">FALSE</span><span class="token punctuation">)</span>
popViewport<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="grid.yaxis">

<a href="#grid.yaxis" class="help-page-title"><h2>Draw a Y-Axis</h2></a>

<h3>Description</h3>

<p>These functions create and draw a y-axis.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">grid.yaxis<span class="token punctuation">(</span>at <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> label <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span> main <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span>
           edits <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> name <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>
           gp <span class="token operator">=</span> gpar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> draw <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span> vp <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">)</span>

yaxisGrob<span class="token punctuation">(</span>at <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> label <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span> main <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span>
          edits <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> name <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>
          gp <span class="token operator">=</span> gpar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> vp <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>at</code></td>
<td>
<p>A numeric vector of y-value locations for the tick marks.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label</code></td>
<td>
<p>A logical value indicating whether to draw the labels
on the tick marks, or an expression or character vector which
specify the labels to use.  If not logical, must be the same
length as the <code>at</code> argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>A logical value indicating whether to draw the axis
at the left (<code>TRUE</code>) or at the right (<code>FALSE</code>) of the
viewport.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>edits</code></td>
<td>
<p>A gEdit or gEditList containing edit operations
to apply (to the children of the axis)
when the axis is first created and during redrawing
whenever <code>at</code> is <code>NULL</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p> A character identifier. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gp</code></td>
<td>
<p>An object of class <code>"gpar"</code>, typically the output
from a call to the function <code><a href="#gpar">gpar</a></code>.  This is basically
a list of graphical parameter settings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>draw</code></td>
<td>
<p>A logical value indicating whether graphics output
should be produced.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vp</code></td>
<td>
<p>A Grid viewport object (or <code>NULL</code>).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Both functions create a yaxis grob (a graphical object describing a
yaxis), but only <code>grid.yaxis</code>
draws the yaxis (and then only if <code>draw</code> is <code>TRUE</code>).
</p>


<h3>Value</h3>

<p>A yaxis grob.  <code>grid.yaxis</code> returns the value invisibly.
</p>


<h3>Children</h3>

<p>If the <code>at</code> slot of an xaxis grob is not <code>NULL</code> then
the xaxis will have the following children:
</p>

<dl>
<dt>major</dt>
<dd>
<p> representing the line at the base of the
tick marks.</p>
</dd>
<dt>ticks</dt>
<dd>
<p>representing the tick marks.</p>
</dd>
<dt>labels</dt>
<dd>
<p>representing the tick labels.</p>
</dd>
</dl>
<p>If the <code>at</code> slot is <code>NULL</code> then there are no children
and ticks are drawn based on the current viewport scale.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell</p>


<h3>See Also</h3>

<p><a href="#Grid">Grid</a>,
<code><a href="#viewport">viewport</a></code>,
<code><a href="#grid.xaxis">grid.xaxis</a></code>
</p>

<hr>
</div>
<div class="container manual-page" id="gridCoords">

<a href="#gridCoords" class="help-page-title"><h2>Create Sets of Coordinates for Grid Grobs</h2></a>

<h3>Description</h3>

<p>These functions support the development of <code><a href="#grobCoords">grobPoints</a></code>
methods for custom grobs.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">gridCoords<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span>
gridGrobCoords<span class="token punctuation">(</span>x<span class="token punctuation">,</span> name<span class="token punctuation">,</span> rule <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">)</span>
gridGTreeCoords<span class="token punctuation">(</span>x<span class="token punctuation">,</span> name<span class="token punctuation">)</span>
emptyCoords
emptyGrobCoords<span class="token punctuation">(</span>name<span class="token punctuation">)</span>
emptyGTreeCoords<span class="token punctuation">(</span>name<span class="token punctuation">)</span>
isEmptyCoords<span class="token punctuation">(</span>coords<span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>For <code>gridCoords</code> a numeric vector.  For
<code>gridGrobCoords</code> a list of <code>"GridCoords"</code> objects.
For <code>gridGTreeCoords</code> a list of either <code>"GridGrobCoords"</code>
or <code>"GridGTreeCoords"</code> objects.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p> A numeric vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p> A character value. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rule</code></td>
<td>
<p>A fill rule, either <code>"winding"</code> or <code>"evenodd"</code>,
or <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coords</code></td>
<td>
<p>A set of grob coordinates (as generated by <code>grobCoords</code>).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>These functions help the developer of a <code>grobPoints</code> method
to generate the coordinates from a custom grob.
</p>
<p>The <code>emptyCoords</code> object can be used to return a "null"
result (e.g., when asking for <code>closed</code> coordinates on an
open line) and the <code>isEmptyCoords</code> function can be used to check for
"null" results.
</p>


<h3>Value</h3>

<p>For <code>gridCoords</code> a <code>"GridCoords"</code> object.
For <code>gridGrobCoords</code> a <code>"GridGrobCoords"</code> object.
For <code>gridGTreeCoords</code> a <code>"GridGTreeCoords"</code> object.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell</p>

<hr>
</div>
<div class="container manual-page" id="grobCoords">

<a href="#grobCoords" class="help-page-title"><h2>Calculate Points on the Perimeter of a Grob</h2></a>

<h3>Description</h3>

<p>These functions calculate points along the perimeter (or length) of
a grob.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">grobCoords<span class="token punctuation">(</span>x<span class="token punctuation">,</span> closed<span class="token punctuation">,</span> <span class="token ellipsis">...</span><span class="token punctuation">)</span>
grobPoints<span class="token punctuation">(</span>x<span class="token punctuation">,</span> closed<span class="token punctuation">,</span> <span class="token ellipsis">...</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A grob object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>closed</code></td>
<td>
<p>Whether we are asking for points along the perimeter of
a closed object or points along the length of an open object.
Some grobs (e.g., X-splines) can do both.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments to be used by methods.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The difference between <code>grobCoords</code> and <code>grobPoints</code>
is that <code>grobCoords</code> performs all pre- and post-drawing operations
on the grob that would normally occur if the grob was being drawn,
then calls <code>grobPoints</code>.  So the former takes into account
any <code>vp</code> and <code>gp</code> settings on the grob.  This means
that users should usually only want to call <code>grobCoords</code>;
only (expert) developers may have a need to call <code>grobPoints</code>.
</p>
<p>Custom grobs can write their own methods for <code>grobPoints</code>
(see <code><a href="#gridCoords">gridCoords</a></code>).
</p>


<h3>Value</h3>

<p>Either a <code>"GridGrobCoords"</code> object
(a list of lists with components <code>x</code> and <code>y</code>) or
a <code>"GridGTreeCoords"</code> object
(a list of <code>"GridGrobCoords"</code> and/or <code>"GridGTreeCoords"</code>
objects).
</p>
<p>All locations are in inches relative to the current <span class="pkg">grid</span> viewport.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell</p>

<hr>
</div>
<div class="container manual-page" id="grobName">

<a href="#grobName" class="help-page-title"><h2>Generate a Name for a Grob</h2></a>

<h3>Description</h3>

<p>This function generates a unique (within-session) name for
a grob, based on the grob's class.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">grobName<span class="token punctuation">(</span>grob <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> prefix <span class="token operator">=</span> <span class="token string">"GRID"</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>grob</code></td>
<td>
<p>A grob object or <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prefix</code></td>
<td>
<p>The prefix part of the name.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A character string of the form <code>prefix.class(grob).index</code>
</p>


<h3>Author(s)</h3>

<p>Paul Murrell</p>

<hr>
</div>
<div class="container manual-page" id="grobWidth">

<a href="#grobWidth" class="help-page-title"><h2>Create a Unit Describing the Width of a Grob</h2></a>

<h3>Description</h3>

<p>These functions create a unit object describing the width or height of
a grob.  They are generic.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">grobWidth<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
grobHeight<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
grobAscent<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
grobDescent<span class="token punctuation">(</span>x<span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A grob object.</p>
</td>
</tr></table>
<h3>Value</h3>

<p>A unit object.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell</p>


<h3>See Also</h3>

<p><code><a href="#unit">unit</a></code> and
<code><a href="#stringWidth">stringWidth</a></code>
</p>

<hr>
</div>
<div class="container manual-page" id="grobX">

<a href="#grobX" class="help-page-title"><h2>Create a Unit Describing a Grob Boundary Location</h2></a>

<h3>Description</h3>

<p>These functions create a unit object describing a location somewhere
on the boundary of
a grob.  They are generic.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">grobX<span class="token punctuation">(</span>x<span class="token punctuation">,</span> theta<span class="token punctuation">)</span>
grobY<span class="token punctuation">(</span>x<span class="token punctuation">,</span> theta<span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A grob, or gList, or gTree, or gPath.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>theta</code></td>
<td>
<p>An angle indicating where the location is
on the grob boundary.  Can be one of <code>"east"</code>,
<code>"north"</code>, <code>"west"</code>, or <code>"south"</code>,
which correspond to angles 0, 90, 180, and 270,
respectively.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The angle is anti-clockwise with zero corresponding to a line
with an origin centred between the extreme
points of the shape, and pointing at 3 o'clock.
</p>
<p>If the grob describes a single shape, the boundary value should
correspond to the exact edge of the shape.
</p>
<p>If the grob describes multiple shapes, the boundary
value will either correspond to the edge of a bounding box around all of
the shapes described by the grob (for multiple rectangles, circles,
xsplines, or text), or to a
convex hull around all vertices of all shapes described by the grob
(for multiple polygons, points, lines, polylines,
and segments).
</p>
<p>Points grobs are currently a special case because the convex hull
is based on the data symbol <em>locations</em> and does not take
into account the extent of the data symbols themselves.
</p>
<p>The extents of any arrow heads are currently <em>not</em> taken into account.
</p>


<h3>Value</h3>

<p>A unit object.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell</p>


<h3>See Also</h3>

<p><code><a href="#unit">unit</a></code> and
<code><a href="#grobWidth">grobWidth</a></code>
</p>

<hr>
</div>
<div class="container manual-page" id="legendGrob">

<a href="#legendGrob" class="help-page-title"><h2>Constructing a Legend Grob</h2></a>

<h3>Description</h3>

<p>Constructing a legend grob (in progress)
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">legendGrob<span class="token punctuation">(</span>labels<span class="token punctuation">,</span> nrow<span class="token punctuation">,</span> ncol<span class="token punctuation">,</span> byrow <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span>
           do.lines <span class="token operator">=</span> has.lty <span class="token operator">||</span> has.lwd<span class="token punctuation">,</span> lines.first <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span>
           hgap <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"lines"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> vgap <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"lines"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
           default.units <span class="token operator">=</span> <span class="token string">"lines"</span><span class="token punctuation">,</span> pch<span class="token punctuation">,</span> gp <span class="token operator">=</span> gpar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> vp <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">)</span>

grid.legend<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">,</span> draw<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>labels</code></td>
<td>
<p>legend labels (expressions)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nrow, ncol</code></td>
<td>
<p>integer; the number of rows or columns, respectively
of the legend layout.  <code>nrow</code> is optional and
typically computed from the number of labels and <code>ncol</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>byrow</code></td>
<td>
<p>logical indicating whether rows of the legend are filled first.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>do.lines</code></td>
<td>
<p>logical indicating whether legend lines are drawn.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lines.first</code></td>
<td>
<p>logical indicating whether legend lines are drawn
first and hence in a plain below legend symbols.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hgap</code></td>
<td>
<p>horizontal space between the legend entries</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vgap</code></td>
<td>
<p>vertical space between the legend entries</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>default.units</code></td>
<td>
<p>default units, see <code><a href="#unit">unit</a></code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pch</code></td>
<td>
<p>legend symbol, numeric or character, passed to
<code><a href="#grid.points">pointsGrob</a>()</code>; see also <code><a href="graphics.html#points">points</a></code> for
interpretation of the numeric codes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gp</code></td>
<td>
<p>an <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> object of class <code>"gpar"</code>, typically the output
from a call to the function <code><a href="#gpar">gpar</a></code>, is basically a list of
graphical parameter settings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vp</code></td>
<td>
<p>a Grid <code><a href="#viewport">viewport</a></code> object (or <code>NULL</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>for <code>grid.legend()</code>: all the arguments above are
passed to <code>legendGrob()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>draw</code></td>
<td>
<p>logical indicating whether graphics output should be produced.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Both functions create a legend <code><a href="#grid.grob">grob</a></code> (a graphical object
describing a plot legend), but only <code>grid.legend</code> draws it (only
if <code>draw</code> is <code>TRUE</code>).
</p>


<h3>See Also</h3>

<p><a href="#Grid">Grid</a>, <code><a href="#viewport">viewport</a></code>;
<code><a href="#grid.points">pointsGrob</a></code>, <code><a href="#grid.lines">linesGrob</a></code>.
</p>
<p><code><a href="#grid.plot.and.legend">grid.plot.and.legend</a></code> contains a simple example.
</p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r"><span class="token comment">## Data:</span>
  n <span class="token operator">&lt;-</span> <span class="token number">10</span>
  x <span class="token operator">&lt;-</span> stats<span class="token operator">::</span>runif<span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token punctuation">;</span> y1 <span class="token operator">&lt;-</span> stats<span class="token operator">::</span>runif<span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token punctuation">;</span> y2 <span class="token operator">&lt;-</span> stats<span class="token operator">::</span>runif<span class="token punctuation">(</span>n<span class="token punctuation">)</span>
  <span class="token comment">## Construct the grobs :</span>
  plot <span class="token operator">&lt;-</span> gTree<span class="token punctuation">(</span>children<span class="token operator">=</span>gList<span class="token punctuation">(</span>rectGrob<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                  pointsGrob<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y1<span class="token punctuation">,</span> pch<span class="token operator">=</span><span class="token number">21</span><span class="token punctuation">,</span> gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> fill<span class="token operator">=</span><span class="token string">"gray"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                  pointsGrob<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y2<span class="token punctuation">,</span> pch<span class="token operator">=</span><span class="token number">22</span><span class="token punctuation">,</span> gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span> fill<span class="token operator">=</span><span class="token string">"gray"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                  xaxisGrob<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                  yaxisGrob<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  legd <span class="token operator">&lt;-</span> legendGrob<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token string">"Girls"</span><span class="token punctuation">,</span> <span class="token string">"Boys"</span><span class="token punctuation">,</span> <span class="token string">"Other"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> pch<span class="token operator">=</span><span class="token number">21</span><span class="token operator">:</span><span class="token number">23</span><span class="token punctuation">,</span>
                     gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col <span class="token operator">=</span> <span class="token number">2</span><span class="token operator">:</span><span class="token number">4</span><span class="token punctuation">,</span> fill <span class="token operator">=</span> <span class="token string">"gray"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  gg <span class="token operator">&lt;-</span> packGrob<span class="token punctuation">(</span>packGrob<span class="token punctuation">(</span>frameGrob<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> plot<span class="token punctuation">)</span><span class="token punctuation">,</span>
                 legd<span class="token punctuation">,</span> height<span class="token operator">=</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">"null"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> side<span class="token operator">=</span><span class="token string">"right"</span><span class="token punctuation">)</span>

  <span class="token comment">## Now draw it on a new device page:</span>
  grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
  pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>width<span class="token operator">=</span><span class="token number">0.8</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">0.8</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  grid.draw<span class="token punctuation">(</span>gg<span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="makeContent">

<a href="#makeContent" class="help-page-title"><h2> Customised grid Grobs </h2></a>

<h3>Description</h3>

<p>These generic hook functions are called whenever a grid grob is drawn.
They provide an opportunity for customising the drawing context
and drawing content of a
new class derived from grob (or gTree).
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">makeContext<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
makeContent<span class="token punctuation">(</span>x<span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p> A grid grob. </p>
</td>
</tr></table>
<h3>Details</h3>

<p>These functions are called by the <code>grid.draw</code> methods for grobs
and gTrees.
</p>
<p><code>makeContext</code> is called first during the drawing of a grob.
This function should be used to <em>modify</em> the <code>vp</code> slot
of <code>x</code> (and/or the <code>childrenvp</code> slot if <code>x</code>
is a gTree).  The function <em>must</em> return the modified <code>x</code>.
Note that
the default behaviour for grobs is to push any viewports in the
<code>vp</code> slot, and for gTrees is to also push and up any viewports in the
<code>childrenvp</code> slot, so this function is used to customise the
drawing context for a grob or gTree.
</p>
<p><code>makeContent</code> is called next and is where any additional
calculations should occur and graphical content should
be generated (see, for example,
<code>grid:::makeContent.xaxis</code>).
This function should be used to <em>modify</em> the <code>children</code>
of a gTree.
The function <em>must</em> return the modified <code>x</code>.
Note that the default behaviour
for gTrees is to draw all grobs in the <code>children</code> slot,
so this function is used to customise the drawing content for a gTree.
It is also possible to customise the drawing content for a simple
grob, but more care needs to be taken;  for example, the function
should return a standard grid primitive with a <code>drawDetails()</code>
method in this case.
</p>
<p>Note that these functions should be <em>cumulative</em> in their
effects, so that the <code>x</code> returned by <code>makeContent()</code>
<em>includes</em> any changes made by <code>makeContext()</code>.
</p>
<p>Note that <code>makeContext</code> is
also called in the calculation of <code>"grobwidth"</code> and
<code>"grobheight"</code> units.
</p>


<h3>Value</h3>

<p>Both functions are expected to return a grob or gTree
(a modified version of <code>x</code>).
</p>


<h3>Author(s)</h3>

<p> Paul Murrell </p>


<h3>References</h3>

<p> "Changes to grid for R 3.0.0",
Paul Murrell, <em>The R Journal</em> (2013) 5:2, pages 148-160. </p>


<h3>See Also</h3>

 <p><code><a href="#grid.draw">grid.draw</a></code> </p>

<hr>
</div>
<div class="container manual-page" id="patterns">

<a href="#patterns" class="help-page-title"><h2> Define Gradient and Pattern Fills </h2></a>

<h3>Description</h3>

<p>Functions to define gradient fills and pattern fills.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">linearGradient<span class="token punctuation">(</span>colours <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token string">"black"</span><span class="token punctuation">,</span> <span class="token string">"white"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
               stops <span class="token operator">=</span> seq<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> length.out <span class="token operator">=</span> length<span class="token punctuation">(</span>colours<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
               x1 <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> y1 <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  
               x2 <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> y2 <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
               default.units <span class="token operator">=</span> <span class="token string">"npc"</span><span class="token punctuation">,</span>
               extend <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token string">"pad"</span><span class="token punctuation">,</span> <span class="token string">"repeat"</span><span class="token punctuation">,</span> <span class="token string">"reflect"</span><span class="token punctuation">,</span> <span class="token string">"none"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
               group <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span> 
radialGradient<span class="token punctuation">(</span>colours <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token string">"black"</span><span class="token punctuation">,</span> <span class="token string">"white"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
               stops <span class="token operator">=</span> seq<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> length.out <span class="token operator">=</span> length<span class="token punctuation">(</span>colours<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
               cx1 <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">.5</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> cy1 <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">.5</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
               r1 <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
               cx2 <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">.5</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> cy2 <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">.5</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
               r2 <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">.5</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
               default.units <span class="token operator">=</span> <span class="token string">"npc"</span><span class="token punctuation">,</span>
               extend <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token string">"pad"</span><span class="token punctuation">,</span> <span class="token string">"repeat"</span><span class="token punctuation">,</span> <span class="token string">"reflect"</span><span class="token punctuation">,</span> <span class="token string">"none"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
               group <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span> 
pattern<span class="token punctuation">(</span>grob<span class="token punctuation">,</span>
        x <span class="token operator">=</span> <span class="token number">0.5</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">0.5</span><span class="token punctuation">,</span> width <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> height <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
        default.units <span class="token operator">=</span> <span class="token string">"npc"</span><span class="token punctuation">,</span>
        just<span class="token operator">=</span><span class="token string">"centre"</span><span class="token punctuation">,</span> hjust<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">,</span> vjust<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">,</span>
        extend <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token string">"pad"</span><span class="token punctuation">,</span> <span class="token string">"repeat"</span><span class="token punctuation">,</span> <span class="token string">"reflect"</span><span class="token punctuation">,</span> <span class="token string">"none"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        gp <span class="token operator">=</span> gpar<span class="token punctuation">(</span>fill<span class="token operator">=</span><span class="token string">"transparent"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        group <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>colours</code></td>
<td>
<p>Two or more colours for the gradient to transition between.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stops</code></td>
<td>
<p>Locations of the gradient colours between the start and end
points of the gradient (as a proportion of the distance from the
start point to the end point).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x1, y1, x2, y2</code></td>
<td>
<p>The start and end points for a linear gradient.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>default.units</code></td>
<td>
<p>The coordinate system
to use if any location or dimension is
specified as just a numeric value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>extend</code></td>
<td>
<p>What happens outside the start and end of the gradient
(see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cx1, cy1, r1, cx2, cy2, r2</code></td>
<td>
<p>The centre and radius of the start
and end circles for a radial gradient.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grob</code></td>
<td>
<p>A grob (or a gTree) that will be drawn as the tile in
a pattern fill.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x, y, width, height</code></td>
<td>
<p>The size of the tile for a pattern fill.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>just, hjust, vjust</code></td>
<td>
<p>The justification of the tile relative to
its location.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gp</code></td>
<td>
<p>Default graphical parameter settings for the tile.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>A logical indicating whether the gradient or pattern is
relative to the bounding box of the grob or whether
it is relative to individual shapes within the grob.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Use these functions to define a gradient fill or pattern fill and
then use the resulting object as the value for <code>fill</code>
in a call to the <code>gpar()</code> function.
</p>
<p>The possible values of extend, and their meanings, are:
</p>

<ul>
<li>
<p>[<code>pad</code>:] propagate the value of the gradient at its
boundary.
</p>
</li>
<li>
<p>[<code>none</code>:] produce no fill beyond the limits of the
gradient.
</p>
</li>
<li>
<p>[<code>repeat</code>:] repeat the fill.
</p>
</li>
<li>
<p>[<code>reflect</code>:] repeat the fill in reverse.
</p>
</li>
</ul>
<p>To create a tiling pattern, provide a simple grob (like a circle),
specify the location and size of the pattern to include the simple
grob, and specify <code>extend="repeat"</code>.
</p>
<p>On viewports, gradients and patterns are relative to the entire
viewport, unless <code>group = FALSE</code>, in which case they are
relative to individual grobs as they are drawn.
On gTrees, gradients and patterns are relative to a bounding
box around all of the children of the gTree,
unless <code>group = FALSE</code>, in which case they are
relative to individual children as they are drawn.
On grobs, gradients and patterns are relative to a bounding
box around all of the shapes that are drawn by the grob,
unless <code>group = FALSE</code>, in which case they are
relative to individual shapes.
</p>


<h3>Value</h3>

<p>A linear gradient or radial gradient or pattern object.
</p>


<h3>Warning</h3>

<p>Gradient fills and pattern fills are not supported on all graphics
devices.  Where they are not supported, closed shapes will be
rendered with a transparent fill.  Where they are supported,
not all values of <code>extend</code> are supported.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell</p>


<h3>See Also</h3>

<p><code><a href="#gpar">gpar</a></code>
</p>

<hr>
</div>
<div class="container manual-page" id="plotViewport">

<a href="#plotViewport" class="help-page-title"><h2> Create a Viewport with a Standard Plot Layout </h2></a>

<h3>Description</h3>

<p>This is a convenience function for producing a viewport with
the common S-style plot layout  i.e., a central
plot region surrounded by margins given in terms of a
number of lines of text.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">plotViewport<span class="token punctuation">(</span>margins<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token number">5.1</span><span class="token punctuation">,</span> <span class="token number">4.1</span><span class="token punctuation">,</span> <span class="token number">4.1</span><span class="token punctuation">,</span> <span class="token number">2.1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token ellipsis">...</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>margins</code></td>
<td>
<p> A numeric vector interpreted in the same way
as <code>par(mar)</code> in base graphics. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p> All other arguments will be passed to a call to
the <code>viewport()</code> function. </p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A grid viewport object.
</p>


<h3>Author(s)</h3>

<p> Paul Murrell </p>


<h3>See Also</h3>

<p><code><a href="#viewport">viewport</a></code> and
<code><a href="#dataViewport">dataViewport</a></code>.
</p>

<hr>
</div>
<div class="container manual-page" id="current.viewport">

<a href="#current.viewport" class="help-page-title"><h2>Get the Current Grid Viewport (Tree)</h2></a>

<h3>Description</h3>

<p><code>current.viewport()</code>
returns the viewport that Grid is going to draw into.
</p>
<p><code>current.parent</code> returns the parent of the current viewport.
</p>
<p><code>current.vpTree</code> returns the entire Grid viewport tree.
</p>
<p><code>current.vpPath</code> returns the viewport path to the current viewport.
</p>
<p><code>current.transform</code> returns the transformation
matrix for the current viewport.
</p>
<p><code>current.rotation</code> returns the (total) rotation
for the current viewport.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">current.viewport<span class="token punctuation">(</span><span class="token punctuation">)</span>
current.parent<span class="token punctuation">(</span>n<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
current.vpTree<span class="token punctuation">(</span>all<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span>
current.vpPath<span class="token punctuation">(</span><span class="token punctuation">)</span>
current.transform<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p> The number of generations to go up.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>all</code></td>
<td>
<p>A logical value indicating whether the entire viewport
tree should be returned.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>It is possible to get the grandparent of the current viewport
(or higher) using the <code>n</code> argument to <code>current.parent()</code>.
</p>
<p>The parent of the ROOT viewport is <code>NULL</code>.
It is an error to request the grandparent of the ROOT viewport.
</p>
<p>If <code>all</code> is <code>FALSE</code> then
<code>current.vpTree</code> only returns the subtree below
the current viewport.
</p>


<h3>Value</h3>

<p>A Grid viewport object from <code>current.viewport</code> or
<code>current.vpTree</code>.
</p>
<p><code>current.transform</code> returns a 4x4 transformation matrix.
</p>
<p>The viewport path returned by <code>current.vpPath</code> is <code>NULL</code>
if the current viewport is the <code>ROOT</code> viewport
</p>


<h3>Author(s)</h3>

<p>Paul Murrell</p>


<h3>See Also</h3>

<p><code><a href="#viewport">viewport</a></code>
</p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r">grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>width<span class="token operator">=</span><span class="token number">0.8</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">0.8</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">"A"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token number">0.3</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">0.6</span><span class="token punctuation">,</span>
  just<span class="token operator">=</span><span class="token string">"left"</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">"B"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
upViewport<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token number">0.4</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">0.8</span><span class="token punctuation">,</span>
  just<span class="token operator">=</span><span class="token string">"left"</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">"C"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>width<span class="token operator">=</span><span class="token number">0.8</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">0.8</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">"D"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
current.vpPath<span class="token punctuation">(</span><span class="token punctuation">)</span>
upViewport<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
current.vpPath<span class="token punctuation">(</span><span class="token punctuation">)</span>
current.vpTree<span class="token punctuation">(</span><span class="token punctuation">)</span>
current.viewport<span class="token punctuation">(</span><span class="token punctuation">)</span>
current.vpTree<span class="token punctuation">(</span>all<span class="token operator">=</span><span class="token boolean">FALSE</span><span class="token punctuation">)</span>
popViewport<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="resolveRasterSize">

<a href="#resolveRasterSize" class="help-page-title"><h2>
Utility function to resolve the size of a raster grob
</h2></a>

<h3>Description</h3>

<p>Determine the width and height of a raster grob when one or both
are not given explicitly.
</p>
<p>The result depends on both the aspect ratio of the raster image
and the aspect ratio of the physical drawing context, so the
result is only valid for the drawing context in which this
function is called.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">resolveRasterSize<span class="token punctuation">(</span>x<span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p> A raster grob </p>
</td>
</tr></table>
<h3>Details</h3>

<p>A raster grob can be specified with width and/or height of
<code>NULL</code>, which means that the size at which the raster is
drawn will be decided at drawing time.
</p>


<h3>Value</h3>

<p>A raster grob, with explicit width and height.
</p>


<h3>See Also</h3>

<p><code><a href="#grid.raster">grid.raster</a></code>
</p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r"><span class="token comment"># Square raster</span>
rg <span class="token operator">&lt;-</span> rasterGrob<span class="token punctuation">(</span>matrix<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># Fill the complete page (if page is square)</span>
grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
resolveRasterSize<span class="token punctuation">(</span>rg<span class="token punctuation">)</span><span class="token operator">$</span>height
grid.draw<span class="token punctuation">(</span>rg<span class="token punctuation">)</span>
<span class="token comment"># Forced to fit tall thin region</span>
grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>width<span class="token operator">=</span><span class="token number">.1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
resolveRasterSize<span class="token punctuation">(</span>rg<span class="token punctuation">)</span><span class="token operator">$</span>height
grid.draw<span class="token punctuation">(</span>rg<span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="grid.roundrect">

<a href="#grid.roundrect" class="help-page-title"><h2>Draw a rectangle with rounded corners</h2></a>

<h3>Description</h3>

<p>Draw a <em>single</em> rectangle with rounded corners.</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">roundrectGrob<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>
              default.units<span class="token operator">=</span><span class="token string">"npc"</span><span class="token punctuation">,</span>
              r<span class="token operator">=</span>unit<span class="token punctuation">(</span><span class="token number">0.1</span><span class="token punctuation">,</span> <span class="token string">"snpc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              just<span class="token operator">=</span><span class="token string">"centre"</span><span class="token punctuation">,</span>
              name<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">,</span> gp<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">,</span> vp<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">)</span>
grid.roundrect<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x, y, width, height</code></td>
<td>
<p>The location and size of the rectangle.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>default.units</code></td>
<td>
<p>A string indicating the default units to use
if <code>x</code>, <code>y</code>, <code>width</code>, or <code>height</code>
are only given as numeric vectors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r</code></td>
<td>
<p>The radius of the rounded corners.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>just</code></td>
<td>
<p>The justification of the rectangle relative to its
location.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>A name to identify the grob.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gp</code></td>
<td>
<p>Graphical parameters to apply to the grob.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vp</code></td>
<td>
<p>A viewport object or <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments to be passed to <code>roundrectGrob()</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>At present, this function can only be used to draw <em>one</em>
rounded rectangle.
</p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r">grid.roundrect<span class="token punctuation">(</span>width<span class="token operator">=</span><span class="token number">.5</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">.5</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">"rr"</span><span class="token punctuation">)</span>
theta <span class="token operator">&lt;-</span> seq<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">360</span><span class="token punctuation">,</span> length.out<span class="token operator">=</span><span class="token number">50</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token keyword">in</span> <span class="token number">1</span><span class="token operator">:</span><span class="token number">50</span><span class="token punctuation">)</span>
    grid.circle<span class="token punctuation">(</span>x<span class="token operator">=</span>grobX<span class="token punctuation">(</span><span class="token string">"rr"</span><span class="token punctuation">,</span> theta<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                y<span class="token operator">=</span>grobY<span class="token punctuation">(</span><span class="token string">"rr"</span><span class="token punctuation">,</span> theta<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                r<span class="token operator">=</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"mm"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>fill<span class="token operator">=</span><span class="token string">"black"</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="showGrob">

<a href="#showGrob" class="help-page-title"><h2>
Label grid grobs.
</h2></a>

<h3>Description</h3>

<p>Produces a graphical display of (by default) the current grid scene,
with labels showing the names of each grob in the scene.
It is also possible to label only specific grobs in the scene.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">showGrob<span class="token punctuation">(</span>x <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>
         gPath <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> strict <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> grep <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span>
         recurse <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span> depth <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>
         labelfun <span class="token operator">=</span> grobLabel<span class="token punctuation">,</span> <span class="token ellipsis">...</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>If <code>NULL</code>, the current grid scene is labelled.
Otherwise, a grob (or gTree) to draw and then label.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gPath</code></td>
<td>

<p>A path identifying a subset of the current scene or grob
to be labelled.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strict</code></td>
<td>

<p>Logical indicating whether the gPath is strict.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grep</code></td>
<td>

<p>Logical indicating whether the gPath is a regular expression.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>recurse</code></td>
<td>

<p>Should the children of gTrees also be labelled?
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>depth</code></td>
<td>

<p>Only display grobs at the specified depth (may be a vector
of depths).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labelfun</code></td>
<td>

<p>Function used to generate a label from each grob.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Arguments passed to <code>labelfun</code> to control fine details
of the generated label.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>None of the labelling is recorded on the grid display list so the
original scene can be reproduced by calling <code>grid.refresh</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#grid.grob">grob</a></code> and
<code><a href="#grid.grob">gTree</a></code>
</p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r">grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
    gt <span class="token operator">&lt;-</span> gTree<span class="token punctuation">(</span>childrenvp<span class="token operator">=</span>vpStack<span class="token punctuation">(</span>
                  viewport<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token number">.5</span><span class="token punctuation">,</span> just<span class="token operator">=</span><span class="token string">"left"</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">"vp"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                  viewport<span class="token punctuation">(</span>y<span class="token operator">=</span><span class="token number">.5</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">.5</span><span class="token punctuation">,</span> just<span class="token operator">=</span><span class="token string">"bottom"</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">"vp2"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                children<span class="token operator">=</span>gList<span class="token punctuation">(</span>rectGrob<span class="token punctuation">(</span>vp<span class="token operator">=</span><span class="token string">"vp::vp2"</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">"child"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                name<span class="token operator">=</span><span class="token string">"parent"</span><span class="token punctuation">)</span>
    grid.draw<span class="token punctuation">(</span>gt<span class="token punctuation">)</span>
    showGrob<span class="token punctuation">(</span><span class="token punctuation">)</span>
    showGrob<span class="token punctuation">(</span>gPath<span class="token operator">=</span><span class="token string">"child"</span><span class="token punctuation">)</span>
    showGrob<span class="token punctuation">(</span>recurse<span class="token operator">=</span><span class="token boolean">FALSE</span><span class="token punctuation">)</span>
    showGrob<span class="token punctuation">(</span>depth<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
    showGrob<span class="token punctuation">(</span>depth<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>
    showGrob<span class="token punctuation">(</span>depth<span class="token operator">=</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">)</span>
    showGrob<span class="token punctuation">(</span>gt<span class="token punctuation">)</span>
    showGrob<span class="token punctuation">(</span>gt<span class="token punctuation">,</span> gPath<span class="token operator">=</span><span class="token string">"child"</span><span class="token punctuation">)</span>
    showGrob<span class="token punctuation">(</span>just<span class="token operator">=</span><span class="token string">"left"</span><span class="token punctuation">,</span> gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token string">"red"</span><span class="token punctuation">,</span> cex<span class="token operator">=</span><span class="token number">.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> rot<span class="token operator">=</span><span class="token number">45</span><span class="token punctuation">)</span>
    showGrob<span class="token punctuation">(</span>labelfun<span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span>grob<span class="token punctuation">,</span> <span class="token ellipsis">...</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        x <span class="token operator">&lt;-</span> grobX<span class="token punctuation">(</span>grob<span class="token punctuation">,</span> <span class="token string">"west"</span><span class="token punctuation">)</span>
        y <span class="token operator">&lt;-</span> grobY<span class="token punctuation">(</span>grob<span class="token punctuation">,</span> <span class="token string">"north"</span><span class="token punctuation">)</span>
        gTree<span class="token punctuation">(</span>children<span class="token operator">=</span>gList<span class="token punctuation">(</span>rectGrob<span class="token punctuation">(</span>x<span class="token operator">=</span>x<span class="token punctuation">,</span> y<span class="token operator">=</span>y<span class="token punctuation">,</span>
                width<span class="token operator">=</span>stringWidth<span class="token punctuation">(</span>grob<span class="token operator">$</span>name<span class="token punctuation">)</span> <span class="token operator">+</span> unit<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"mm"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                height<span class="token operator">=</span>stringHeight<span class="token punctuation">(</span>grob<span class="token operator">$</span>name<span class="token punctuation">)</span> <span class="token operator">+</span> unit<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"mm"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token keyword">NA</span><span class="token punctuation">,</span> fill<span class="token operator">=</span>rgb<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                just<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token string">"left"</span><span class="token punctuation">,</span> <span class="token string">"top"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                textGrob<span class="token punctuation">(</span>grob<span class="token operator">$</span>name<span class="token punctuation">,</span>
                         x<span class="token operator">=</span>x <span class="token operator">+</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"mm"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> y<span class="token operator">=</span>y <span class="token operator">-</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"mm"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                         just<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token string">"left"</span><span class="token punctuation">,</span> <span class="token string">"top"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">## Not run: </span>
    <span class="token comment"># Examples from higher-level packages</span>

    library<span class="token punctuation">(</span>lattice<span class="token punctuation">)</span>
    <span class="token comment"># Ctrl-c after first example</span>
    example<span class="token punctuation">(</span>histogram<span class="token punctuation">)</span>
    showGrob<span class="token punctuation">(</span><span class="token punctuation">)</span>
    showGrob<span class="token punctuation">(</span>gPath<span class="token operator">=</span><span class="token string">"plot_01.ylab"</span><span class="token punctuation">)</span>

    library<span class="token punctuation">(</span>ggplot2<span class="token punctuation">)</span>
    <span class="token comment"># Ctrl-c after first example</span>
    example<span class="token punctuation">(</span>qplot<span class="token punctuation">)</span>
    showGrob<span class="token punctuation">(</span><span class="token punctuation">)</span>
    showGrob<span class="token punctuation">(</span>recurse<span class="token operator">=</span><span class="token boolean">FALSE</span><span class="token punctuation">)</span>
    showGrob<span class="token punctuation">(</span>gPath<span class="token operator">=</span><span class="token string">"panel-3-3"</span><span class="token punctuation">)</span>
    showGrob<span class="token punctuation">(</span>gPath<span class="token operator">=</span><span class="token string">"axis.title"</span><span class="token punctuation">,</span> grep<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span>
    showGrob<span class="token punctuation">(</span>depth<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>

<span class="token comment">## End(Not run)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="showViewport">

<a href="#showViewport" class="help-page-title"><h2>
Display grid viewports.
</h2></a>

<h3>Description</h3>

<p>Produces a graphical display of (by default) the current
grid viewport tree.  It is also possible to display only
specific viewports.  Each viewport is drawn as a rectangle
and the leaf viewports are labelled with the viewport name.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">showViewport<span class="token punctuation">(</span>vp <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span> recurse <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span> depth <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">,</span>
             newpage <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> leaves <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span>
             col <span class="token operator">=</span> rgb<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> fill <span class="token operator">=</span> rgb<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0.1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
             label <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span> nrow <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span> ncol <span class="token operator">=</span> nrow<span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>vp</code></td>
<td>

<p>If <code>NULL</code>, the current viewport tree is displayed.
Otherwise, a viewport (or vpList, or vpStack, or vpTree) or
a vpPath that specifies which viewport to display.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>recurse</code></td>
<td>

<p>Should the children of the specified viewport also be displayed?
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>depth</code></td>
<td>

<p>Only display viewports at the specified depth (may be a vector
of depths).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newpage</code></td>
<td>

<p>Start a new page for the display?  Otherwise, the viewports
are displayed on top of the current plot.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>leaves</code></td>
<td>

<p>Produce a matrix of smaller displays, with each leaf viewport
in its own display.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>

<p>The colour used to draw the border of the rectangle for each
viewport <em>and</em> to draw the label for each viewport.
If a vector, then the first colour is used for the
top-level viewport, the second colour is used for its children,
the third colour for their children, and so on.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fill</code></td>
<td>

<p>The colour used to fill each viewport.  May be a vector as per
<code>col</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label</code></td>
<td>

<p>Should the viewports be labelled (with the viewport name)?
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nrow, ncol</code></td>
<td>

<p>The number of rows and columns when <code>leaves</code> is <code>TRUE</code>.
Otherwise ignored.
</p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p><code><a href="#viewport">viewport</a></code> and
<code><a href="#grid.show.viewport">grid.show.viewport</a></code>
</p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r">showViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>width<span class="token operator">=</span><span class="token number">.5</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">.5</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">"vp"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>width<span class="token operator">=</span><span class="token number">.5</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">.5</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">"vp"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
upViewport<span class="token punctuation">(</span><span class="token punctuation">)</span>
showViewport<span class="token punctuation">(</span>vpPath<span class="token punctuation">(</span><span class="token string">"vp"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

showViewport<span class="token punctuation">(</span>vpStack<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>width<span class="token operator">=</span><span class="token number">.5</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">.5</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">"vp1"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                     viewport<span class="token punctuation">(</span>width<span class="token operator">=</span><span class="token number">.5</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">.5</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">"vp2"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
             newpage<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span>

showViewport<span class="token punctuation">(</span>vpStack<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>width<span class="token operator">=</span><span class="token number">.5</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">.5</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">"vp1"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                     viewport<span class="token punctuation">(</span>width<span class="token operator">=</span><span class="token number">.5</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">.5</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">"vp2"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
             fill<span class="token operator">=</span>rgb<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">.1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
             newpage<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="stringWidth">

<a href="#stringWidth" class="help-page-title"><h2>Create a Unit Describing the Width and Height of a String or Math
Expression</h2></a>

<h3>Description</h3>

<p>These functions create a unit object describing the width or height of
a string.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">stringWidth<span class="token punctuation">(</span>string<span class="token punctuation">)</span>
stringHeight<span class="token punctuation">(</span>string<span class="token punctuation">)</span>
stringAscent<span class="token punctuation">(</span>string<span class="token punctuation">)</span>
stringDescent<span class="token punctuation">(</span>string<span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>string</code></td>
<td>
<p>A character vector or a language object (as used for
<a href="grDevices.html#plotmath">plotmath</a> calls).</p>
</td>
</tr></table>
<h3>Value</h3>

<p>A <code><a href="#unit">unit</a></code> object.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell</p>


<h3>See Also</h3>

<p><code><a href="#unit">unit</a></code> and
<code><a href="#grobWidth">grobWidth</a></code>
</p>
<p><code>strwidth</code> in the <span class="pkg">graphics</span> package for more details of the
typographic concepts behind the computations.
</p>

<hr>
</div>
<div class="container manual-page" id="unit">

<a href="#unit" class="help-page-title"><h2>Function to Create a Unit Object</h2></a>

<h3>Description</h3>

<p>This function creates a unit object  a vector of unit values.
A unit value is typically just a single numeric value with an
associated unit.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">unit<span class="token punctuation">(</span>x<span class="token punctuation">,</span> units<span class="token punctuation">,</span> data<span class="token operator">=</span><span class="token keyword">NULL</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A numeric vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>units</code></td>
<td>
<p>A character vector specifying the units for the
corresponding numeric values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>This argument is used to supply extra information
for special <code>unit</code> types.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Unit objects allow the user to specify locations and dimensions
in a large number of different coordinate systems.  All drawing
occurs relative to a viewport and the <code>units</code> specifies
what coordinate system to use within that viewport.
</p>
<p>Possible <code>units</code> (coordinate systems) are:
</p>

<dl>
<dt><code>"npc"</code></dt>
<dd>
<p>Normalised Parent Coordinates (the default).
The origin of the viewport is (0, 0) and the viewport has a width
and height of 1 unit.  For example, (0.5, 0.5) is the centre of
the viewport.</p>
</dd>
<dt><code>"cm"</code></dt>
<dd>
<p>Centimetres.</p>
</dd>
<dt><code>"inches"</code></dt>
<dd>
<p>Inches.  1 in = 2.54 cm.</p>
</dd>
<dt><code>"mm"</code></dt>
<dd>
<p>Millimetres.  10 mm = 1 cm.</p>
</dd>
<dt><code>"points"</code></dt>
<dd>
<p>Points.  72.27 pt = 1 in.</p>
</dd>
<dt><code>"picas"</code></dt>
<dd>
<p>Picas.  1 pc = 12 pt.</p>
</dd>
<dt><code>"bigpts"</code></dt>
<dd>
<p>Big Points.  72 bp = 1 in.</p>
</dd>
<dt><code>"dida"</code></dt>
<dd>
<p>Dida.  1157 dd = 1238 pt.</p>
</dd>
<dt><code>"cicero"</code></dt>
<dd>
<p>Cicero.  1 cc = 12 dd.</p>
</dd>
<dt><code>"scaledpts"</code></dt>
<dd>
<p>Scaled Points.  65536 sp = 1 pt.</p>
</dd>
<dt><code>"lines"</code></dt>
<dd>
<p>Lines of text.  Locations and dimensions
are in terms of multiples of the default text size of the viewport
(as specified by the viewport's <code>fontsize</code> and <code>lineheight</code>).</p>
</dd>
<dt><code>"char"</code></dt>
<dd>
<p>Multiples of nominal font height of the
viewport (as specified by the viewport's <code>fontsize</code>).</p>
</dd>
<dt><code>"native"</code></dt>
<dd>
<p>Locations and dimensions are relative to
the viewport's <code>xscale</code> and <code>yscale</code>.</p>
</dd>
<dt><code>"snpc"</code></dt>
<dd>
<p>Square Normalised Parent Coordinates.
Same as Normalised Parent Coordinates, except gives the same answer for
horizontal and vertical locations/dimensions.  It uses the
<em>lesser</em> of npc-width and npc-height.  This is useful for making
things which are a proportion of the viewport, but have to be square
(or have a fixed aspect ratio).</p>
</dd>
<dt><code>"strwidth"</code></dt>
<dd>
<p>Multiples of the width of the string
specified in the <code>data</code> argument.  The font size is
determined by the pointsize of the viewport.</p>
</dd>
<dt><code>"strheight"</code></dt>
<dd>
<p>Multiples of the height of the string
specified in the <code>data</code> argument.  The font size is
determined by the pointsize of the viewport.</p>
</dd>
<dt><code>"grobwidth"</code></dt>
<dd>
<p>Multiples of the width of the grob
specified in the <code>data</code> argument.</p>
</dd>
<dt><code>"grobheight"</code></dt>
<dd>
<p>Multiples of the height of the grob
specified in the <code>data</code> argument.</p>
</dd>
</dl>
<p>A number of variations are also allowed for the most common units.
For example, it is possible to use <code>"in"</code> or <code>"inch"</code>
instead of <code>"inches"</code> and <code>"centimetre"</code> or
<code>"centimeter"</code> instead of <code>"cm"</code>.
</p>
<p>A special <code>units</code> value of <code>"null"</code> is also allowed,
but only makes sense when used in specifying widths of columns
or heights of rows in grid layouts (see <code><a href="#grid.layout">grid.layout</a></code>).
</p>
<p>The <code>data</code> argument must be a list when the <code>unit.length()</code>
is greater than 1.  For example,
</p>
<pre>  unit(rep(1, 3), c("npc", "strwidth", "inches"),
  data = list(NULL, "my string", NULL))
</pre>
<p>.
</p>
<p>It is possible to subset unit objects in the normal way and to perform
subassignment (see the examples),
but a special function
<code>unit.c</code> is provided for combining unit objects.
</p>
<p>Certain arithmetic and summary operations are defined for
unit objects.  In particular, it is possible to add and subtract
unit objects (e.g., <code>unit(1, "npc") - unit(1, "inches")</code>),
and to specify the minimum or maximum of a list
of unit objects (e.g., <code>min(unit(0.5, "npc"), unit(1,
    "inches"))</code>).
</p>
<p>There is a <code>format</code> method for units, which should respond to
the arguments for the default <code>format</code> method, e.g.,
<code>digits</code> to control the number of significant digits
printed for numeric values.
</p>


<h3>Value</h3>

<p>An object of class <code>"unit"</code>.
</p>


<h3>WARNING</h3>

<p>There is a special function <code>unit.c</code> for concatenating
several unit objects.
</p>
<p>The <code>c</code> function will not give the right answer.
</p>
<p>There used to be <code>"mylines"</code>, <code>"mychar"</code>, <code>"mystrwidth"</code>,
<code>"mystrheight"</code> units.  These will still be accepted, but
work exactly the same as
<code>"lines"</code>, <code>"char"</code>, <code>"strwidth"</code>,
<code>"strheight"</code>.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell</p>


<h3>See Also</h3>

<p><code><a href="#unit.c">unit.c</a></code>
</p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r">unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span>
unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">3</span><span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span>
unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">3</span><span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span> <span class="token operator">+</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span>
min<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
unit.c<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> unit<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span> <span class="token operator">+</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">3</span><span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"strwidth"</span><span class="token punctuation">,</span> <span class="token string">"hi there"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
x <span class="token operator">&lt;-</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span>
x<span class="token punctuation">[</span><span class="token number">2</span><span class="token operator">:</span><span class="token number">4</span><span class="token punctuation">]</span>
x<span class="token punctuation">[</span><span class="token number">2</span><span class="token operator">:</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">&lt;-</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"mm"</span><span class="token punctuation">)</span>
x</code></pre>

<hr>
</div>
<div class="container manual-page" id="unit.c">

<a href="#unit.c" class="help-page-title"><h2>Combine Unit Objects</h2></a>

<h3>Description</h3>

<p>This function produces a new unit object by combining the
unit objects specified as arguments.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">unit.c<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">,</span> check <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>An arbitrary number of unit objects.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check</code></td>
<td>
<p>Should input be checked? If you are certain all arguments are unit objects this can be set to <code>FALSE</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of class <code>unit</code>.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell</p>


<h3>See Also</h3>

<p><code><a href="#unit">unit</a></code>.
</p>

<hr>
</div>
<div class="container manual-page" id="unit.length">

<a href="#unit.length" class="help-page-title"><h2>Length of a Unit Object</h2></a>

<h3>Description</h3>

<p>The length of a unit object is defined as the number of unit
values in the unit object.
</p>
<p>This function has been deprecated in favour of a unit method for
the generic <code>length</code> function.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">unit.length<span class="token punctuation">(</span>unit<span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>unit</code></td>
<td>
<p>A unit object.</p>
</td>
</tr></table>
<h3>Value</h3>

<p>An integer value.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell</p>


<h3>See Also</h3>

<p><code><a href="#unit">unit</a></code>
</p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r">length<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
length<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span> <span class="token operator">+</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
length<span class="token punctuation">(</span>max<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span> <span class="token operator">+</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
length<span class="token punctuation">(</span>max<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span> <span class="token operator">+</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"strwidth"</span><span class="token punctuation">,</span> <span class="token string">"a"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">4</span><span class="token punctuation">)</span>
length<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span> <span class="token operator">+</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"strwidth"</span><span class="token punctuation">,</span> <span class="token string">"a"</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">4</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="unit.pmin">

<a href="#unit.pmin" class="help-page-title"><h2> Parallel Unit Minima and Maxima </h2></a>

<h3>Description</h3>

<p>Returns a unit object whose i'th value is the minimum (or maximum)
of the i'th values of the arguments.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">unit.pmin<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">)</span>
unit.pmax<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">)</span>
unit.psum<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p> One or more unit objects. </p>
</td>
</tr></table>
<h3>Details</h3>

<p>The length of the result is the maximum of the lengths of the
arguments;  shorter arguments are recycled in the usual manner.
</p>


<h3>Value</h3>

<p>A unit object.
</p>


<h3>Author(s)</h3>

<p> Paul Murrell </p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r">max<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">"cm"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> unit<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
unit.pmax<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">"cm"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> unit<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="unit.rep">

<a href="#unit.rep" class="help-page-title"><h2> Replicate Elements of Unit Objects </h2></a>

<h3>Description</h3>

<p>Replicates the units according to the values given in <code>times</code> and
<code>length.out</code>.
</p>
<p>This function has been deprecated in favour of a unit method for
the generic <code>rep</code> function.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">unit.rep<span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token ellipsis">...</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p> An object of class <code>"unit"</code>. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>arguments to be passed to <code><a href="base.html#rep">rep</a></code> such as
<code>times</code> and <code>length.out</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of class <code>"unit"</code>.
</p>


<h3>Author(s)</h3>

<p> Paul Murrell </p>


<h3>See Also</h3>

<p><code><a href="base.html#rep">rep</a></code>
</p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r">rep<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
rep<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">)</span>
rep<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span> <span class="token operator">+</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
rep<span class="token punctuation">(</span>max<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span> <span class="token operator">+</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
rep<span class="token punctuation">(</span>max<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span> <span class="token operator">+</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"strwidth"</span><span class="token punctuation">,</span> <span class="token string">"a"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
rep<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span> <span class="token operator">+</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"strwidth"</span><span class="token punctuation">,</span> <span class="token string">"a"</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="unitType">

<a href="#unitType" class="help-page-title"><h2>Return the Units of a Unit Object</h2></a>

<h3>Description</h3>

<p>This function returns the units of a unit object.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">unitType<span class="token punctuation">(</span>x<span class="token punctuation">,</span> recurse <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A unit object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>recurse</code></td>
<td>
<p>Whether to recurse into complex units.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>For simple units, this will be just a vector of coordinate systems,
like <code>"inches"</code> or <code>"npc"</code>.
</p>
<p>More complex units that involve
an operation on units return
an operator, like <code>"sum"</code>, <code>"min"</code>, or <code>"max"</code>.
</p>
<p>When <code>recurse = TRUE</code>, the result is always a list and
more complex units generate sublists (see the Examples below).
</p>


<h3>Author(s)</h3>

<p>Thomas Lin Pedersen and Paul Murrell</p>


<h3>See Also</h3>

<p><code><a href="#unit">unit</a></code>
</p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r">u <span class="token operator">&lt;-</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">5</span><span class="token punctuation">,</span> c<span class="token punctuation">(</span><span class="token string">"cm"</span><span class="token punctuation">,</span> <span class="token string">"mm"</span><span class="token punctuation">,</span> <span class="token string">"in"</span><span class="token punctuation">,</span> <span class="token string">"pt"</span><span class="token punctuation">,</span> <span class="token string">"null"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

unitType<span class="token punctuation">(</span>u<span class="token punctuation">)</span>
unitType<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
unitType<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">3</span><span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
unitType<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">3</span><span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span> <span class="token operator">+</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
unitType<span class="token punctuation">(</span>min<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
unitType<span class="token punctuation">(</span>unit.c<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> unit<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span> <span class="token operator">+</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">3</span><span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"strwidth"</span><span class="token punctuation">,</span> <span class="token string">"hi there"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
unitType<span class="token punctuation">(</span>min<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"in"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span> <span class="token operator">+</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"mm"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

unitType<span class="token punctuation">(</span>u<span class="token punctuation">,</span> recurse<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span>
unitType<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> recurse<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span>
unitType<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">3</span><span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> recurse<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span>
unitType<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">3</span><span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span> <span class="token operator">+</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> recurse<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span>
unitType<span class="token punctuation">(</span>min<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> recurse<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span>
unitType<span class="token punctuation">(</span>unit.c<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> unit<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"inches"</span><span class="token punctuation">)</span> <span class="token operator">+</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">3</span><span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"strwidth"</span><span class="token punctuation">,</span> <span class="token string">"hi there"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> recurse<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span>
unitType<span class="token punctuation">(</span>min<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"in"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span> <span class="token operator">+</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"mm"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> recurse<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span>
unlist<span class="token punctuation">(</span>unitType<span class="token punctuation">(</span>min<span class="token punctuation">(</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"in"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span> <span class="token operator">+</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"mm"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                recurse<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="valid.just">

<a href="#valid.just" class="help-page-title"><h2>Validate a Justification</h2></a>

<h3>Description</h3>

<p>Utility functions for determining
whether a justification specification is valid
and for resolving a single justification value from
a combination of character and numeric values.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">valid.just<span class="token punctuation">(</span>just<span class="token punctuation">)</span>
resolveHJust<span class="token punctuation">(</span>just<span class="token punctuation">,</span> hjust<span class="token punctuation">)</span> 
resolveVJust<span class="token punctuation">(</span>just<span class="token punctuation">,</span> vjust<span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>just</code></td>
<td>
<p>A justification either as a character value,
e.g., <code>"left"</code>, or as a numeric value, e.g., 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hjust</code></td>
<td>
<p>A numeric horizontal justification</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vjust</code></td>
<td>
<p>A numeric vertical justification</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>These functions may be useful within a <code>validDetails</code> method
when writing a new grob class.
</p>


<h3>Value</h3>

<p>A numeric representation of the justification (e.g.,
<code>"left"</code> becomes 0, <code>"right"</code> becomes 1, etc, ...).
An error is given if the justification is not valid.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell</p>

<hr>
</div>
<div class="container manual-page" id="validDetails">

<a href="#validDetails" class="help-page-title"><h2> Customising grid grob Validation </h2></a>

<h3>Description</h3>

<p>This generic hook function is called whenever a grid grob is created
or
edited
via <code>grob</code>, <code>gTree</code>, <code>grid.edit</code> or <code>editGrob</code>.
This provides an opportunity for customising the validation of a
new class derived from grob (or gTree).
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">validDetails<span class="token punctuation">(</span>x<span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p> A grid grob. </p>
</td>
</tr></table>
<h3>Details</h3>

<p>This function is called by <code>grob</code>, <code>gTree</code>,
<code>grid.edit</code> and <code>editGrob</code>.
A method should be written for classes derived from grob or gTree
to validate the values of slots specific to the new class.
(e.g., see <code>grid:::validDetails.axis</code>).
</p>
<p>Note that the standard slots for grobs and gTrees are automatically
validated (e.g., <code>vp</code>, <code>gp</code> slots for grobs and,
in addition, <code>children</code>, and <code>childrenvp</code> slots for
gTrees) so only slots specific to a new class need to be addressed.
</p>


<h3>Value</h3>

<p>The function MUST return the validated grob.
</p>


<h3>Author(s)</h3>

<p> Paul Murrell </p>


<h3>See Also</h3>

 <p><code><a href="#grid.edit">grid.edit</a></code> </p>

<hr>
</div>
<div class="container manual-page" id="viewportTransform">

<a href="#viewportTransform" class="help-page-title"><h2> Define a Group Transformation </h2></a>

<h3>Description</h3>

<p>These functions define the transformation that will be applied
when a <code>grid.define()</code>d group is <code>grid.use()</code>d.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">viewportTransform<span class="token punctuation">(</span>group<span class="token punctuation">,</span> shear<span class="token operator">=</span>groupShear<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> flip<span class="token operator">=</span>groupFlip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> device<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span> 
viewportTranslate<span class="token punctuation">(</span>group<span class="token punctuation">,</span> device<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span>
viewportScale<span class="token punctuation">(</span>group<span class="token punctuation">,</span> device<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span>
viewportRotate<span class="token punctuation">(</span>group<span class="token punctuation">,</span> device<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span>
defnTranslate<span class="token punctuation">(</span>group<span class="token punctuation">,</span> inverse<span class="token operator">=</span><span class="token boolean">FALSE</span><span class="token punctuation">,</span> device<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span>
defnScale<span class="token punctuation">(</span>group<span class="token punctuation">,</span> inverse<span class="token operator">=</span><span class="token boolean">FALSE</span><span class="token punctuation">)</span>
defnRotate<span class="token punctuation">(</span>group<span class="token punctuation">,</span> inverse<span class="token operator">=</span><span class="token boolean">FALSE</span><span class="token punctuation">,</span> device<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span>
useTranslate<span class="token punctuation">(</span>inverse<span class="token operator">=</span><span class="token boolean">FALSE</span><span class="token punctuation">,</span> device<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span>
useScale<span class="token punctuation">(</span>inverse<span class="token operator">=</span><span class="token boolean">FALSE</span><span class="token punctuation">)</span>
useRotate<span class="token punctuation">(</span>inverse<span class="token operator">=</span><span class="token boolean">FALSE</span><span class="token punctuation">,</span> device<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span>
groupTranslate<span class="token punctuation">(</span>dx<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> dy<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
groupRotate<span class="token punctuation">(</span>r<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> device<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span>
groupScale<span class="token punctuation">(</span>sx<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> sy<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
groupShear<span class="token punctuation">(</span>sx<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> sy<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
groupFlip<span class="token punctuation">(</span>flipX<span class="token operator">=</span><span class="token boolean">FALSE</span><span class="token punctuation">,</span> flipY<span class="token operator">=</span><span class="token boolean">FALSE</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>The group that is being transformed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inverse</code></td>
<td>
<p>A logical indicating whether we want the
forward or backward transformation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shear</code></td>
<td>
<p>An affine transformation matrix that describes
a shear transformation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>flip</code></td>
<td>
<p>An affine transformation matrix that describes
a scaling inversion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dx, dy</code></td>
<td>
<p>The translation to apply.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r</code></td>
<td>
<p>The rotation to apply.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sx, sy</code></td>
<td>
<p>The scaling (or shear) to apply.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>flipX, flipY</code></td>
<td>
<p>Whether to negate the x-scaling or y-scaling
(logical).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>device</code></td>
<td>
<p>A logical indicating whether transformation should be
relative to the device or relative to the current viewport.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>viewport*()</code> functions are not called directly.  They
are passed as the <code>transform</code> argument to
<code><a href="#grid.group">grid.use</a></code>.
</p>
<p>The <code>defn*()</code> and <code>use*()</code> functions are also not called
directly, but can be useful to create custom transformation
functions.  For example, see the source code for
<code>viewportTransform</code>.
</p>
<p>The <code>group*()</code> functions generate basic affine transformation
matrices and may also be useful to create custom transformation
functions.  For example, the <code>groupShear()</code> function can be
used to specify a shear transform to <code>viewportTransform()</code>.
</p>
<p>It is also possible to define any function that returns a 3x3 matrix
(as long as the last column contains 0, 0, and 1)
and use it as the <code>transform</code> argument to
<code><a href="#grid.group">grid.use</a></code>, but the results will probably be
device-dependent, and may be <em>very</em> difficult
to predict.  The function will be called with two arguments:
<code>group</code> and <code>device</code>.
</p>


<h3>Value</h3>

<p>An affine transformation matrix.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell</p>


<h3>See Also</h3>

<p><a href="#Grid">Grid</a>
</p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r"><span class="token comment">## NOTE: on devices without support for groups nothing will be drawn</span>
grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">## Define and use group in same viewport</span>
pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>width<span class="token operator">=</span><span class="token number">.2</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">.2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
grid.define<span class="token punctuation">(</span>circleGrob<span class="token punctuation">(</span>gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>lwd<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">"circle"</span><span class="token punctuation">)</span>
grid.use<span class="token punctuation">(</span><span class="token string">"circle"</span><span class="token punctuation">)</span>
popViewport<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">## Use group in viewport that is translated and scaled</span>
pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token number">.2</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token number">.2</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token number">.1</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">.1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
grid.use<span class="token punctuation">(</span><span class="token string">"circle"</span><span class="token punctuation">)</span>
popViewport<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">## Use group in viewport that is translated and scaled</span>
<span class="token comment">## BUT only make use of the translation</span>
pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token number">.2</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token number">.8</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token number">.1</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">.1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
grid.use<span class="token punctuation">(</span><span class="token string">"circle"</span><span class="token punctuation">,</span> transform<span class="token operator">=</span>viewportTranslate<span class="token punctuation">)</span>
popViewport<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">## Use group in viewport that is translated and scaled</span>
<span class="token comment">## unevenly (distorted)</span>
pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token number">.8</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token number">.7</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token number">.2</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">.4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
grid.use<span class="token punctuation">(</span><span class="token string">"circle"</span><span class="token punctuation">)</span>
popViewport<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="vpPath">

<a href="#vpPath" class="help-page-title"><h2> Concatenate Viewport Names </h2></a>

<h3>Description</h3>

<p>This function can be used to generate a viewport path for use
in <code>downViewport</code> or <code>seekViewport</code>.
</p>
<p>A viewport path is a list of nested viewport names.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">vpPath<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p> Character values which are viewport names. </p>
</td>
</tr></table>
<h3>Details</h3>

<p>Viewport names must only be unique amongst viewports which
share the same parent in the viewport tree.
</p>
<p>This function can be used to generate a specification for
a viewport that includes the viewport's parent's name
(and the name of its parent and so on).
</p>
<p>For interactive use, it is possible to directly specify
a path, but it is strongly recommended that this function
is used otherwise in case the path separator is changed
in future versions of grid.
</p>


<h3>Value</h3>

<p>A <code> vpPath </code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#viewport">viewport</a></code>,
<code><a href="#viewports">pushViewport</a></code>,
<code><a href="#viewports">popViewport</a></code>,
<code><a href="#viewports">downViewport</a></code>,
<code><a href="#viewports">seekViewport</a></code>,
<code><a href="#viewports">upViewport</a></code>
</p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r">vpPath<span class="token punctuation">(</span><span class="token string">"vp1"</span><span class="token punctuation">,</span> <span class="token string">"vp2"</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="widthDetails">

<a href="#widthDetails" class="help-page-title"><h2> Width and Height of a grid grob </h2></a>

<h3>Description</h3>

<p>These generic functions are used to determine the size of grid grobs.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">widthDetails<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
heightDetails<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
ascentDetails<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
descentDetails<span class="token punctuation">(</span>x<span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p> A grid grob. </p>
</td>
</tr></table>
<h3>Details</h3>

<p>These functions are called in the calculation of
<code>"grobwidth"</code> and <code>"grobheight"</code> units.
Methods should be written for classes derived from grob or gTree
where the size of the grob can be determined (see, for example
<code>grid:::widthDetails.frame</code>).
</p>
<p>The ascent of a grob is the height of the grob by default and
the descent of a grob is zero by default, except for text grobs
where the label is a single character value or expression.
</p>


<h3>Value</h3>

<p>A unit object.
</p>


<h3>Author(s)</h3>

<p> Paul Murrell </p>


<h3>See Also</h3>

<p><code><a href="#absolute.size">absolute.size</a></code>.
</p>

<hr>
</div>
<div class="container manual-page" id="viewports">

<a href="#viewports" class="help-page-title"><h2>Maintaining and Navigating the Grid Viewport Tree</h2></a>

<h3>Description</h3>

<p>Grid maintains a tree of viewports  nested drawing
contexts.
</p>
<p>These functions provide ways to add or remove viewports
and to navigate amongst viewports in the tree.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">pushViewport<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">,</span> recording<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span>
popViewport<span class="token punctuation">(</span>n <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> recording<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span>
downViewport<span class="token punctuation">(</span>name<span class="token punctuation">,</span> strict<span class="token operator">=</span><span class="token boolean">FALSE</span><span class="token punctuation">,</span> recording<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span>
seekViewport<span class="token punctuation">(</span>name<span class="token punctuation">,</span> recording<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span>
upViewport<span class="token punctuation">(</span>n <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> recording<span class="token operator">=</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>One or more objects of class <code>"viewport"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>An integer value indicating how many viewports to
pop or navigate up.  The special value <code>0</code> indicates to
pop or navigate viewports right up to the root viewport.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>A character value to identify a viewport in the tree.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strict</code></td>
<td>
<p> A boolean indicating whether the vpPath must be
matched exactly. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>recording</code></td>
<td>
<p>A logical value to indicate whether the viewport
operation should be recorded on the Grid display list.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Objects created by the <code>viewport()</code> function are only
descriptions
of a drawing context.  A viewport object must be pushed onto the
viewport tree before it has any effect on drawing.
</p>
<p>The viewport tree always has a single root viewport (created by the
system) which corresponds to the entire device (and default
graphical parameter settings).  Viewports may be added to the tree
using <code>pushViewport()</code> and removed from the tree using
<code>popViewport()</code>.
</p>
<p>There is only ever one current viewport, which is the current
position within the viewport tree.  All drawing and
viewport operations are relative to the current viewport.
When a viewport is pushed it becomes the current viewport.
When a viewport is popped, the parent viewport becomes
the current viewport.  Use <code>upViewport</code> to navigate to the parent
of the current viewport, without removing the current viewport
from the viewport tree.  Use <code>downViewport</code> to navigate to
a viewport further down the viewport tree and <code>seekViewport</code>
to navigate to a viewport anywhere else in the tree.
</p>
<p>If a viewport is pushed and it has the same <code>name</code> as a
viewport at the same level in the tree, then it replaces the
existing viewport in the tree.
</p>


<h3>Value</h3>

<p><code>downViewport</code> returns the number of viewports it went down.
</p>
<p>This can be useful for returning to your starting point by doing
something like <code>depth &lt;- downViewport()</code> then
<code>upViewport(depth)</code>.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell</p>


<h3>See Also</h3>

<p><code><a href="#viewport">viewport</a></code> and <code><a href="#vpPath">vpPath</a></code>.
</p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r"><span class="token comment"># push the same viewport several times</span>
grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
vp <span class="token operator">&lt;-</span> viewport<span class="token punctuation">(</span>width<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">)</span>
pushViewport<span class="token punctuation">(</span>vp<span class="token punctuation">)</span>
grid.rect<span class="token punctuation">(</span>gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token string">"blue"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
grid.text<span class="token punctuation">(</span><span class="token string">"Quarter of the device"</span><span class="token punctuation">,</span>
  y<span class="token operator">=</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span> <span class="token operator">-</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"lines"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token string">"blue"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
pushViewport<span class="token punctuation">(</span>vp<span class="token punctuation">)</span>
grid.rect<span class="token punctuation">(</span>gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token string">"red"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
grid.text<span class="token punctuation">(</span><span class="token string">"Quarter of the parent viewport"</span><span class="token punctuation">,</span>
  y<span class="token operator">=</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span> <span class="token operator">-</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"lines"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token string">"red"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
popViewport<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token comment"># push several viewports then navigate amongst them</span>
grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
grid.rect<span class="token punctuation">(</span>gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token string">"grey"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
grid.text<span class="token punctuation">(</span><span class="token string">"Top-level viewport"</span><span class="token punctuation">,</span>
  y<span class="token operator">=</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span> <span class="token operator">-</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"lines"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token string">"grey"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>interactive<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> Sys.sleep<span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">)</span>
pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>width<span class="token operator">=</span><span class="token number">0.8</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">0.7</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">"A"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
grid.rect<span class="token punctuation">(</span>gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token string">"blue"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
grid.text<span class="token punctuation">(</span><span class="token string">"1. Push Viewport A"</span><span class="token punctuation">,</span>
  y<span class="token operator">=</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span> <span class="token operator">-</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"lines"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token string">"blue"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>interactive<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> Sys.sleep<span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">)</span>
pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token number">0.3</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">0.6</span><span class="token punctuation">,</span>
  just<span class="token operator">=</span><span class="token string">"left"</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">"B"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
grid.rect<span class="token punctuation">(</span>gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token string">"red"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
grid.text<span class="token punctuation">(</span><span class="token string">"2. Push Viewport B (in A)"</span><span class="token punctuation">,</span>
  y<span class="token operator">=</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span> <span class="token operator">-</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"lines"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token string">"red"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>interactive<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> Sys.sleep<span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">)</span>
upViewport<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
grid.text<span class="token punctuation">(</span><span class="token string">"3. Up from B to A"</span><span class="token punctuation">,</span>
  y<span class="token operator">=</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span> <span class="token operator">-</span> unit<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"lines"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token string">"blue"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>interactive<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> Sys.sleep<span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">)</span>
pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token number">0.4</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">0.8</span><span class="token punctuation">,</span>
  just<span class="token operator">=</span><span class="token string">"left"</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">"C"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
grid.rect<span class="token punctuation">(</span>gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token string">"green"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
grid.text<span class="token punctuation">(</span><span class="token string">"4. Push Viewport C (in A)"</span><span class="token punctuation">,</span>
  y<span class="token operator">=</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span> <span class="token operator">-</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"lines"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token string">"green"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>interactive<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> Sys.sleep<span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">)</span>
pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>width<span class="token operator">=</span><span class="token number">0.8</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">0.6</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">"D"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
grid.rect<span class="token punctuation">(</span><span class="token punctuation">)</span>
grid.text<span class="token punctuation">(</span><span class="token string">"5. Push Viewport D (in C)"</span><span class="token punctuation">,</span>
  y<span class="token operator">=</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span> <span class="token operator">-</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"lines"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>interactive<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> Sys.sleep<span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">)</span>
upViewport<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
grid.text<span class="token punctuation">(</span><span class="token string">"6. Up from D to top-level"</span><span class="token punctuation">,</span>
  y<span class="token operator">=</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span> <span class="token operator">-</span> unit<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"lines"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token string">"grey"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>interactive<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> Sys.sleep<span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">)</span>
downViewport<span class="token punctuation">(</span><span class="token string">"D"</span><span class="token punctuation">)</span>
grid.text<span class="token punctuation">(</span><span class="token string">"7. Down from top-level to D"</span><span class="token punctuation">,</span>
  y<span class="token operator">=</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span> <span class="token operator">-</span> unit<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"lines"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>interactive<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> Sys.sleep<span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">)</span>
seekViewport<span class="token punctuation">(</span><span class="token string">"B"</span><span class="token punctuation">)</span>
grid.text<span class="token punctuation">(</span><span class="token string">"8. Seek from D to B"</span><span class="token punctuation">,</span>
  y<span class="token operator">=</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span> <span class="token operator">-</span> unit<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"lines"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token string">"red"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
pushViewport<span class="token punctuation">(</span>viewport<span class="token punctuation">(</span>width<span class="token operator">=</span><span class="token number">0.9</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">"A"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
grid.rect<span class="token punctuation">(</span><span class="token punctuation">)</span>
grid.text<span class="token punctuation">(</span><span class="token string">"9. Push Viewport A (in B)"</span><span class="token punctuation">,</span>
  y<span class="token operator">=</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span> <span class="token operator">-</span> unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"lines"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>interactive<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> Sys.sleep<span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">)</span>
seekViewport<span class="token punctuation">(</span><span class="token string">"A"</span><span class="token punctuation">)</span>
grid.text<span class="token punctuation">(</span><span class="token string">"10. Seek from B to A (in ROOT)"</span><span class="token punctuation">,</span>
  y<span class="token operator">=</span>unit<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"npc"</span><span class="token punctuation">)</span> <span class="token operator">-</span> unit<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">"lines"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token string">"blue"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>interactive<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> Sys.sleep<span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">)</span>
seekViewport<span class="token punctuation">(</span>vpPath<span class="token punctuation">(</span><span class="token string">"B"</span><span class="token punctuation">,</span> <span class="token string">"A"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
grid.text<span class="token punctuation">(</span><span class="token string">"11. Seek from\nA (in ROOT)\nto A (in B)"</span><span class="token punctuation">)</span>
popViewport<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
<div class="container manual-page" id="xDetails">

<a href="#xDetails" class="help-page-title"><h2> Boundary of a grid grob </h2></a>

<h3>Description</h3>

<p>These generic functions are used to determine a location
on the boundary of a grid grob.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">xDetails<span class="token punctuation">(</span>x<span class="token punctuation">,</span> theta<span class="token punctuation">)</span>
yDetails<span class="token punctuation">(</span>x<span class="token punctuation">,</span> theta<span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p> A grid grob. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>theta</code></td>
<td>
<p> A numeric angle, in degrees, measured
anti-clockwise from the 3 o'clock <em>or</em> one of
the following character strings: <code>"north"</code>,
<code>"east"</code>, <code>"west"</code>, <code>"south"</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The location on the grob boundary is determined by taking
a line from the centre of the grob at the angle <code>theta</code>
and intersecting it with the convex hull of the grob
(for the basic
grob primitives, the centre is
determined as half way between the minimum and maximum values
in x and y directions).
</p>
<p>These functions are called in the calculation of
<code>"grobx"</code> and <code>"groby"</code> units as produced by
the <code>grobX</code> and <code>grobY</code> functions.
Methods should be written for classes derived from grob or gTree
where the boundary of the grob can be determined.
</p>


<h3>Value</h3>

<p>A unit object.
</p>


<h3>Author(s)</h3>

<p> Paul Murrell </p>


<h3>See Also</h3>

<p><code><a href="#grobX">grobX</a></code>,
<code><a href="#grobX">grobY</a></code>.
</p>

<hr>
</div>
<div class="container manual-page" id="xsplinePoints">

<a href="#xsplinePoints" class="help-page-title"><h2>
Return the points that would be used to draw an Xspline
(or a Bezier curve).
</h2></a>

<h3>Description</h3>

<p>Rather than drawing an Xspline (or Bezier curve), this function returns
the points that would be used to draw the series of line
segments for the Xspline.  This may be useful to post-process
the Xspline curve, for example, to clip the curve.
</p>


<h3>Usage</h3>

<pre class="language-r"><code class="language-r">xsplinePoints<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
bezierPoints<span class="token punctuation">(</span>x<span class="token punctuation">)</span></code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>An Xspline grob, as produced by the <code>xsplineGrob()</code> function
(or a beziergrob, as produced by the <code>bezierGrob()</code> function).
</p>
</td>
</tr></table>
<h3>Details</h3>

<p>The points returned by this function will only be relevant
for the drawing context in force when this function was called.
</p>


<h3>Value</h3>

<p>Depends on how many Xsplines would be drawn.  If only one, then
a list with two components, named x and y, both of which are
unit objects (in inches).  If several Xsplines would be drawn
then the result of this function is a list of lists.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell
</p>


<h3>See Also</h3>

<p><code><a href="#grid.xspline">xsplineGrob</a></code> and
<code><a href="#grid.bezier">bezierGrob</a></code>
</p>


<h3>Examples</h3>

<pre class="language-r"><code class="language-r">grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
xsg <span class="token operator">&lt;-</span> xsplineGrob<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token number">.1</span><span class="token punctuation">,</span> <span class="token number">.1</span><span class="token punctuation">,</span> <span class="token number">.9</span><span class="token punctuation">,</span> <span class="token number">.9</span><span class="token punctuation">)</span><span class="token punctuation">,</span> c<span class="token punctuation">(</span><span class="token number">.1</span><span class="token punctuation">,</span> <span class="token number">.9</span><span class="token punctuation">,</span> <span class="token number">.9</span><span class="token punctuation">,</span> <span class="token number">.1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> shape<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
grid.draw<span class="token punctuation">(</span>xsg<span class="token punctuation">)</span>
trace <span class="token operator">&lt;-</span> xsplinePoints<span class="token punctuation">(</span>xsg<span class="token punctuation">)</span>
grid.circle<span class="token punctuation">(</span>trace<span class="token operator">$</span>x<span class="token punctuation">,</span> trace<span class="token operator">$</span>y<span class="token punctuation">,</span> default.units<span class="token operator">=</span><span class="token string">"inches"</span><span class="token punctuation">,</span> r<span class="token operator">=</span>unit<span class="token punctuation">(</span><span class="token number">.5</span><span class="token punctuation">,</span> <span class="token string">"mm"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
vp <span class="token operator">&lt;-</span> viewport<span class="token punctuation">(</span>width<span class="token operator">=</span><span class="token number">.5</span><span class="token punctuation">)</span>
xg <span class="token operator">&lt;-</span> xsplineGrob<span class="token punctuation">(</span>x<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">.2</span><span class="token punctuation">,</span> <span class="token number">.4</span><span class="token punctuation">,</span> <span class="token number">.2</span><span class="token punctuation">,</span> <span class="token number">.5</span><span class="token punctuation">,</span> <span class="token number">.7</span><span class="token punctuation">,</span> <span class="token number">.9</span><span class="token punctuation">,</span> <span class="token number">.7</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                  y<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token number">.5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">.5</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">.5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">.5</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                  id<span class="token operator">=</span>rep<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span> each<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                  shape<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>
                  vp<span class="token operator">=</span>vp<span class="token punctuation">)</span>
grid.draw<span class="token punctuation">(</span>xg<span class="token punctuation">)</span>
trace <span class="token operator">&lt;-</span> xsplinePoints<span class="token punctuation">(</span>xg<span class="token punctuation">)</span>
pushViewport<span class="token punctuation">(</span>vp<span class="token punctuation">)</span>
invisible<span class="token punctuation">(</span>lapply<span class="token punctuation">(</span>trace<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span> grid.lines<span class="token punctuation">(</span>t<span class="token operator">$</span>x<span class="token punctuation">,</span> t<span class="token operator">$</span>y<span class="token punctuation">,</span> gp<span class="token operator">=</span>gpar<span class="token punctuation">(</span>col<span class="token operator">=</span><span class="token string">"red"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
popViewport<span class="token punctuation">(</span><span class="token punctuation">)</span>

grid.newpage<span class="token punctuation">(</span><span class="token punctuation">)</span>
bg <span class="token operator">&lt;-</span> bezierGrob<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token number">.2</span><span class="token punctuation">,</span> <span class="token number">.2</span><span class="token punctuation">,</span> <span class="token number">.8</span><span class="token punctuation">,</span> <span class="token number">.8</span><span class="token punctuation">)</span><span class="token punctuation">,</span> c<span class="token punctuation">(</span><span class="token number">.2</span><span class="token punctuation">,</span> <span class="token number">.8</span><span class="token punctuation">,</span> <span class="token number">.8</span><span class="token punctuation">,</span> <span class="token number">.2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
grid.draw<span class="token punctuation">(</span>bg<span class="token punctuation">)</span>
trace <span class="token operator">&lt;-</span> bezierPoints<span class="token punctuation">(</span>bg<span class="token punctuation">)</span>
grid.circle<span class="token punctuation">(</span>trace<span class="token operator">$</span>x<span class="token punctuation">,</span> trace<span class="token operator">$</span>y<span class="token punctuation">,</span> default.units<span class="token operator">=</span><span class="token string">"inches"</span><span class="token punctuation">,</span> r<span class="token operator">=</span>unit<span class="token punctuation">(</span><span class="token number">.5</span><span class="token punctuation">,</span> <span class="token string">"mm"</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>

<hr>
</div>
</body>
</html>
